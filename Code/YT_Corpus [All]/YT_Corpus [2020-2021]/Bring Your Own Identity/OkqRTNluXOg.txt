 [Music] welcome to the Google cloud security showcase a special web series where we'll focus on security use cases that customers can solve with Google cloud my name is Mark and I'm a product manager at Google cloud today we'll be walking through one of the top questions we get from customers how can I add or then' ocation and Identity Management to my own apps let's see how this looks in Google cloud platform the first thing we have to do is enable a dandy platform now you can see I've got this pinned here but it normally hides down below in the tool section of the left navigation but I can also go to the cloud marketplace in order to enable a dandy platform so let's go through that flow now in the marketplace if I search for identity and platform you'll be able to select the product and enable it if it's not enabled in your project no identity platform is a customer identity and access management product and really helps you to secure and enable your applications to be more secure and take Google's best practices with you when you develop your applications and services so let's enable the product and I've actually already enabled a dandy platform inside of this GCP project and you can see the first thing I'm greeted with is a number of different providers now we support a range of social providers be at github or Facebook or LinkedIn or Microsoft as well as being able to sign in with an email and password and interestingly enough sam'l and Open ID Connect the enterprise Federation standards that the organizer organizations you're working with often use an interesting one to talk about briefly as anonymous anonymous enables you to start to get to know your users start to develop a relationship with them before you even ask them for any information so you can slowly gain more and more information about the user and when the time is right ask them to enter a username and password or ask them to link a social credential we think this is really important to develop trust with end users that are coming to your applications or services you might be building but coming to email and password I can actually do some extra configuration so we support things like password let's login we know that end users hate having to enter usernames and passwords they come to a new service it's always password let's login it doesn't get any more simple than them entering an email address and suddenly they get a link that allows them to sign in now inside of my project I've already got some users already created but you can add users directly from the console or with that set of admin SDKs or client SDKs as well and in the settings menu we have a range of different configuration we understand that account linking gets quite challenging well a user brings a username and password and later wants to add a Facebook credential or a Google credential or something else to the user account so they have a range of ways to sign in so linking accounts cuts out all the complexity if we see two users that look the same and have the same credentials we're able to link them together to provide the end-user with options with activity logging were able to send all of the information about administrative activities and user sign-in activities and everything else into stackdriver so you can start to develop trending and understand how your users are using your product as well as how administrators are making changes to certain certain pieces of functionality that might be critical to the functioning of your business or to your application and finally we have a range of different self-service options so we could allow users to create their accounts automatically or force an administrator to go through the process of creating them and the same with delete so let me show you briefly how this looks I'm going to come to this application here and so I've built the front-end on Google App Engine and I have a range of different sign-in methods so I can sign them with email sign with Google github as well as that anonymous authentication we also support the enterprise Federation standards that I spoke about earlier so if you want to sign in with sam'l if your business partners already have their own IDP they can simply click a button and get redirected to their existing identity providers whether it be sam'l open ID Connect or something else now configuring this front-end was really really quite simple if I flick back for a moment to the identity platform interface and go back to the providers you'll see here there's application setup details if I click that like all the configuration I need to be able to it add identity platform to the product to the project or to the service that I'm building so what does that look like if I come into cloud shell you can see this is my index page and all I've done is simply add the configuration into my application front-end and simply initializing it what that does is then initialize the the front-end and initializes the widget so they can add those sign and providers and adding sign and providers as easy as specifying the providers that you want to add and so this is the code that's running on my Google App Engine front-end sorry let's go back to our application and what I'm gonna do here is I'm gonna sign him with emo I pre created an account here and I'm gonna sign in now what's happened here is it's minted a standards-based open ID Connect ID token it says some information about me maybe my name and how I've signed in in this case I signed in with a password it also gives any other information about me that might be relevant in this case I specified an email and we can see that I haven't yet verified my email address we support a range of different custom claims and custom attributes so you can also add to this ID token so that you can build authorization rules inside of your application or service based on the parameters of a user or based on the attributes associated with them so signing in is one piece of the puzzle but it actually gets interesting when you start to use it so while I built my front-end on Google App Engine I built my back-end on Google's anthos so here I'm going to use my token and the first thing I'm going to do is try and hit my anthos back in my anthos api's without authentication and what we can see here is that I get this 401 unauthorized error so I haven't sent a token to the backend and so it's telling me I'm unauthorized and with enthis I can do this without changing any code in my application or service simply writing a rule configure it on the the back-end service and then allowing end-users to try and hit it depending on whether they're authenticated or not if I hit this with authentication button what's going to happen is I send that ID token that we saw just a moment ago to the Antos back-end and what I've got is some rules that say hey this has to be issued from the identity platform product and the identity platform services you've configured and so in this case I'm using some traffic management against my hello world back-end in order to pass that ID token to the anthos back-end allow me to get access to and from the service so we have all of this documented publicly on our identity platform public documentation zin cloud Doc's and encourage you to go and check that out to learn more about this and also configure this code lab for yourself thank you for tuning in please visit cloud.google.com slash security for more content from google cloud experts [Music] 