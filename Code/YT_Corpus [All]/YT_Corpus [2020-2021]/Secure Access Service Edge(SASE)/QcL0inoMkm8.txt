 hello welcome to unify access gateway deployment secure best practice my name is andrea lanuz i'm angel's computer staff acted at vmware working with the technical marketing team co-presented with me i have justin johnson staff solution engineer from the ucsc team we wish we could see all of you and present face to face but in the meantime we hope you are all safe and healthy before we start i want to remind you that we are covering some upcoming features on this session so they are subject to change and not available to include in any contracts or sales agreements and not have been priced or packaged yet what can you expect on this session we are going through some of the security and deployment best practice that you should be leveraging on a daily basis to automate upgrade and scale your deployment we also going to bring you the latest on security with unify access gateway and how you can take advantage of those we have an extensive agenda to cover here a lot of great topics that we prepare for you and we'll go one by one up to the end of this session get started i want to remind everyone that you should be deploying and using uag for everything if you come from the uem side you should be not using the standalone installers at this point you should be deploying ueg and configure the services available there we last year announced the end of life for the content gateway installer and we still have available the content gate the installers they stand alone installers but if you have the opportunity to deploy and upgrade your environment start using unify access gateway for those on the horizon side and rely on the secured server you should move to secure to or unify access gateway as well security server has been deprecated with horizon 2006 and you should no longer leverage that old technology let's start with the deployment as part of our best practice session you can deploy uag today on vsphere through the vsphere ovf template or use the deployment utility you can also leverage the powershell on this session i'm going through the powershell method because this is the recommended way if you want to automate your deployment automate the upgrades and be much much more efficient with the deployment experience the deployment through powershell performed the configuration of the entire appliance and power run as soon you deployed all the configurations regarding the networking the appliance itself the services it can be done through the ini file that you use to deploy your uag let me explain a little bit how that works with the powershell script uag today is available should be deployed across four platforms you can deploy and the vsphere on aws on azure or in the microsoft hyper-v powershell can be used to deploy the appliance across all of those in each of the powershell that we make available you have specific scripts for each one of those platforms that you use a ini file that contains all the configuration and then that powershell script will translate your ini configuration into the native tools that you deploy the appliance on the hypervisor for example on this sphere we use the ovf 2 which is the native 2 for that on aws azure and hyper-v we use the respective powershell modules for those when you look at the ini that contain all the configuration there are some specific sessions that are based on the platform that you are deploying for example everything related to the appliance networking storage configuration should be configured on the respective session on the vsphere ini example that you see here on that sample you see that all the configurations are under the general section however for aws deployment you have a specific session the amazon ec2 and for azure you also have a specific section for azure where you define the location of the ova in this case the vhdx for the azure network storage and so on the remaining sessions add standard like the sessions regarding the configuration of the ad services overall they are standard across our platforms and also the authentication methods that you're going to be configuring certificates and so on one thing that i want to remind here about one property on the ini file we have two properties that sometimes people get confused about the name versus the uag name name proper net name setting on the ini file represents the name of the vm on the hypervisor when you deploy you're going to see that name that you inform on the ini the uag name is really the host name if you don't set the uag name uh is gonna be creating a random name and like this one that you can see on the screen and also that name you can later update to that meanwhile however if you set that during deployment or update uag will assume the name that you specify there is a huge benefit to explicitly set the uag name for example if you're deploying wiig for horizon use cases what's going to happen when you try to register uag on horizon it will ask for the host name which is the ueg name that you have registers previously if you don't register the uag name during the deployment or update later you're gonna have to add that long name that you can see here on this slide it's not really friendly right when you add that to the monitoring and you see what's this long name what instance of uh you were talking about here so i recommended to set the uag name for to a friendly name also when you integrate uag with syslog you're gonna see that uag name the host name on your syslog so when you set you see a friendly name there as well another thing that i want to talk here is about the multiple network interfaces and this is a very important topic when you are deploying unify access gate when you have the the deployment you can set one two or three nicks one link is recommended only for labs testing those kind of things but if you are deploying in production we strongly recommend that you use two or three unique deployments in two and three unique deployments traffic going to the internet network via the inner firo must be authorized by uag as any unauthorized traffic will not go to the backend network access to manage the appliance or the uh rest api will be available only through the back ends network when deployed with tunics and in a three-night configuration it will be available through a separate network just for management if a device on the unauthenticated front change network was compromised such as the load balancer then a reconfiguring of that device a reconfiguration of that device to bypass uag would still not be possible in the multunic deployment it combines layer 4 firewall rules with layer 7 uag security similarly if the internet facing firewall was misconfigured to allow tcp port 9443 true this would still not expose the uag management ui interface and rest api to the internet users a defense in depth principle uses multiple levels of protection such as knowing that a single configuration mistake or system attack will not necessarily create overall vulnerability in a two or three nick deployments it's common to put additional infrastructure system such as dns service rsa secure id authentication management servers etc on the backend network within the dmz so that they cannot be visible on the entire internet facing network this protects against layer 2 attacks from the internet-facing lamp from a compromised front chain system and effectively reduce the overall attack surface another aspect is related to the horizon use case most uag network traffic is the display protocol for blast and pc over ip with a single nic display protocol traffic to and from the internet is combined with traffic to and from the backend systems when two or more nics are used the traffic is spread across from change and backend nics and and also that through different networks this can result in performance benefits by reducing the potential bottleneck of a single nic i want to also touch base in one thing make the deployment red on first but if you are leveraging uag for reverse weber vs proxy and horizon use cases the configuration is straightforward and the appliance will be red on first boot however if you are using for uem services there are some uh considerations that you i want to share with you here first use the following ini sessions to configure the tunnel content gateway and security medicating those three sessions will allow you to configure the appliance and initialize those service without any interaction at the same time you can also add reverse products here if you wanna if you just set up the airwatch section what's gonna happen you're gonna have just the tunnel uh uh service automatic configure and all the other service like content and sag on the same appliances they will be configured but they not will not be initialized when you use those sessions you can pass the following parameters to pass the api password that you have to set up for each one of those sessions you're going to configure api account and the script will perform a validation against the uem api servers using those credentials and later we will use those credentials to initialize the service for the first time so you can use those uh those switches and also i want to remind you that after you perform the deployment use the clear history command that will clear out the this the power sessions powershell session that contain the passwords that you pass through the command line let me uh give you an example of an ini file where i'm deploying with tunics appliance and for ad services i configure tunnel content and secure mail gateway and a webververs proxy here this is how look like those ini files with other configurations of the storage mynics right where is the ova images and they're targeting the vsphere the center appliance that i'm targeting let's also now give you a quick demo on how look like a deployment in real life you can see on this video that i have three deployments uh i'm deploying three uag appliances at the same time each one of them is reading a specific ini file with their specific configuration for the appliance but the configuration of the services are all the same okay you'll see that on the background that i have my v the sphere console and the the appliance has been deployed there already each appliance will configure if you choose ips so we'll see the ips on each one of them so i have one ipa for the internet traffic and a second ip for the back end network and management as well let's take a look now and let me show you how it looked like that appliance uh to the uh meanwhile you can see that i have multiple service configure my app reverse proxy actually has four instances of viper verse proxy the tunnel and all the uem service has been configured and i also added some additional configuration the system configuration i integrate with syslog i change the password age and so on all the other two appliances contain the same configuration they are not not any different on that sense they just have different ips for the back end and the internet nick on fire access gator you'll see that all the configurations here are the same that is how easy and simple to leverage powershell for your for your unified access gate to deploy with that that brings me to another topic how i scale up well it's quite simple right if you want to scale up you just need to add it to your ini file run again the powershell and i'll add those appliances to the load balancer when you do that all your appliances are read on the first boot and you can add more users and support higher traffic with this additional appliances being balanced by your load balancer there are some considerations when you scale up right and using your load balances that i want to remind here i always use the get https get on fire on five on five yikes five icon okay use that to check the health to perform a health check of your uag appliances don't use anything else like the xml broker other ports and so on you should be using the five icon that gives you a lot of benefit and check then perform additional checks on the uag appliance to return a 200k if the appliances is is up and running or or the codes if the appliance is unhealth for the security medigator if you are deploying a clustered of security net gate within factors gateway remind to add the backend or management ip depend how many needs you use to the cluster configuration uem console so that the new appliances can synchronize pulses between them between the current ones and the new ones that you just applied next let's talk about upgrade how you can perform upgrade without impacting users their productivity productivity and their in their daily work before i go to the procedurally the process to upgrade you must undertake understand two important features on your faxes gateway the first one the kiss mode the kiss mode is an important feature that allows you to tell that the the appliances should not be receiving new connections no sessions should be created on that appliance when you do that the up load balancer will communicate with you ag through the five icon and the five ico will return a 503 code this meaning that the appliance is not available when you enable the kiss mode which is a switch on the edge mini ui or through the powershell the current sessions that you have on that appliance will not be dropped only the new incoming sessions that will not be allowed anymore a second feature that you must really understand is the monetary statistics kpi why that is important that that api is important because we'll let you know how many active uh users you have per uh per ad services how many sessions you have actually per edge services and you're going to be using that during the up the upgrade process the monitor statistic api will return that for horizon web vs proxy and vmware tunnel those three servers they establish a session when they go through uag they contact gateway and web reverse prox alone doesn't doesn't create a session so you can just route traffic in and out for different appliances that do not affect the user experience let me show you a quick example on how is the return of that api you can see here that i have the monitor statistic api results for horizon head service and i can see the number of users authenticated through the xml api protocol and i also i have the number of active sessions per display protocol i don't have any on the pc over ap but i have two on the blast protocol here if you look that same results for the tunnel add service you're going to be able to see the number of uh authenticated sessions here active sessions in this case with that with the the vmware tunnel edge service now that you understand these two features the important features for the upgrade process let's go through the process itself to upgrade the uag first you have to deploy new appliances based on the ini that you updated with the new ips not if you're not using dhcp with the uag name in the name of the appliance you run that and deploy those appliances next you add those applies to the load balancer with some load balances you can actually have that automatically added right and with that you are going to have users already connecting to your to to to your uh appliances i have 310 versions on my production environment i'm upgraded to uag 2009 and on my second step i now enable kiss mode on uag 310 i'm doing that on uag 310 because i don't wanna any more new connection on that uhs how the traffic now the new sessions should be going through uag 2009 the third step would be basically monitoring the uh return until they don't have any more active sessions using the monitor statistics api when i see that there is no more active session basically i destroy those appliances and then i remove those with that my upgrade is completed with zero downtide with zero downtime when i have a next version of ueg i will follow the same process and that's it let's now go into security in compliance there's a couple new features and enhancements uh around that area with unified access gate first let's start with tls updates on the tls updates we now added tls 1.3 support for horizon webevers products and secure meta gato ad services all of those now are services that can leverage gls 1.3 the tls 1.1 is now by default disable since uh g39 right we don't leverage tls 1.1 for horizon and web webverse proxy on the tcp 443 content gateway security migratory you still have the tls 1.1 enable but you can disable that through configuration as well we also no longer use uh tls 1.1 for the blast security gated component on tcp 8443 we are now leveraging only tls 1.2 there we also now have new default cypress for horizon and web reverse proxy and that was implemented in uag 310 you have new cypress the ones related to tls 1.3 and you have the new cypress just for tls 1.2 we actually before had a long list of cypress 4tls 1.2 we now consolidate in this four and you can continue changing and update those cypress as needed the fifth version has now new default cypress for tls 1.2 as well in to the content gateway secure mail gateway uh there's a couple security recommendations that i have for you here when you are deploying content gateway i would recommend to perform some change uh regarding security there and you can leverage the custom service configuration that you recently implemented on uem console first enable the hsts enable the hscs will enforce the browser to communicate only through https that are that that configuration is uh false by default and i recommend you to enable if you don't need to leverage cls 1.2 anymore so i recommend showing force just cls 1.2 with content gateway through the hw http protocols key as part of the custom status and also evaluate the cypress so you may want to just add the default cypress used by uag which we consider the ones in terms of balance high security right or you can specify the ones that you feel more comfortable and uh attend your needs based on the devices and and the application usage that you have for secure mail gateway tls 1.1 is enabled by default i recommend you to disable in this case you have to add to the custom setting key the disable algorithms that you want to disable tls 1.1 is the other way around when we compare with the content gateway right so you just able to ls 1.1 and you have this parameter actually to in to disable the cypress and the tls you put everything together in one single parameter most uh i would say uh for for a couple years already uh most of the exchange servers already support ls 1.2 and you should be going with 1.2 or 1.3 that is supported by secure email gateway all of this is important because we see a lot of our customers performing scan to make sure that their environment is secure they perform scan against unify access gateway using uh immuno to web quality sys there's a bunch of for the tools there this here is a result of a scan against unify access gate 310 where we are rating a plus on the port 443 and we are in compliance with pci for the financial sector compliance with hipaa for the healthcare industry and also compliant with needs for federal governments so you can run these tests against your uh appliance as well those configurations that i mentioned about content gate security gateway will move you into the a plus category for those services so i strongly recommend you to take a look uh perform your scan and tweak you have the possibility to even uh uh tweak this security settings on uag uh as you wanna with those settings the default settings you're getting a red a plus with the chains on the quantitative security gateway you can get aa plus as well uh and finally i want to talk about something that we just brought with uh g310 we added certificate authentication support for uag fips version in the past our customers that we're trying to leverage that for especially horizon use case they want to do smart card authentication certificate education they have to leverage uag as a pass through on the dmz and enable that authentication internally on the connection server now with the uag fibs version you can enable those authentications on the dmz and the smart card and device authentication will be performed there what you have to do you just need to upload the certificates onto their their authentication settings and with that the options to authenticate with certificate or device certificate will be enabled and available uh under the horizon edge services configuration and that's it on the compliance and securities and and compliance and security compliance topics that i have for you today i now i'm gonna i'm gonna hand over to adjusting that will cover some of the latest uh security enhancements for horizon use cases justin it's with you now thanks a lot andreano hi everyone my name is justin johnson and today i'm going to review ways in which we can enhance security for remote horizon sessions using unified access gateway fortunately there's a number of ways in which we can beef up security for horizon using uag and i'm going to spend the next 20 to 25 minutes reviewing some of these options with a standard deployment of uag the default authentication mechanism is passed through we take the ad credentials pass those on to the horizon connection server then from there use them to authenticate against the local ad environment while this is the default behavior for uag most customers are looking to enhance or augment the security one way or another to this end we offer integrations through radius we have a built-in integration with rsa secure id and adaptive authentication and for some time now we've supported certificates and smart cards however where things get the most exciting where the future seems brightest is with the saml based solutions and then that's in that regard the one that's dearest and nearest to my heart is workspace one access workspace one access affords vdi admins with the widest range of options and the most flexibility when it comes to defining and enforcing security for their horizons sessions already built into workspace one accesses a number of authentication mechanisms we can use it to authenticate against local a.d environments it offers a two factor solution called vmware verify and it can enable various single sign-on scenarios with authentication mechanisms such as kerberos while these built-in capabilities are impressive where workspace one access really shines is in its extensibility in this regard i like to joke that workspace one access is sort of this integration goo that allows customers to leverage the security solutions they've already invested in and already have protecting their production environment using standards like saml or radius we can integrate with these third-party security solutions then going forward leverage their authentication mechanisms as we set entitlements for horizon desktops and published applications where things get really interesting are the conditional access policies enforced by workspace one conditional access policies allow us to take into consideration the user's context and then adjust our security accordingly so we can take into consideration things like what network range and authentication request is coming from or what ad membership a user has or what type of device they're connecting from and based off of that information we can loosen up or tighten authentication requirements accordingly now conditional access policies have been a mainstay of workspace one access for years now throughout all the name changes throughout all the rebranding it's been a core capability well when vmware acquired airwatch what we now call workspace one uem these conditional access policies took on an even greater significance when you combine workspace one access with workspace one uem you can inform your conditional access policies with information about the underlying devices that users are authenticating from not only can we factor in whether those devices are enrolled or not but we can consider whether they're compliance compliant according to device compliance policies defined by the uem administrators so for example if a device is fully compliant according to device compliance policies and is on a trusted network when a user tries to access verizon it makes sense to give them a single sign-on experience that allows them access to horizon with just a simple tap of an icon however if that same device should become non-compliant or move to a non-trusted network at that point we we want to step up authentication requirements maybe require 80 credentials or a second factor of authentication so these conditional access policies are significantly juiced by workspace 1 uem we're basically taking the privileged information we have through workspace 1 enrollment of these devices into uem and parlaying that into a richer set of conditional access policies that are more discerning in turn this allows us to better right-size security for our users in a way that's more tailored to their circumstances now this shift to a more contextual more user-centric security model was further accelerated by a recently introduced integration with workspace 1 intelligence using this integration we can inform our conditional access policies with risk scores generated by workspace 1 intelligence so intelligence is gathering information from all the underlying workspace one components and aggregating that into the workspace one intelligence cloud at that point using machine learning and advanced analytics we can generate risk scores based off of that data and these risk cores in turn are used to inform our conditional access policies so this adds another dimension to our conditional access policies you know whereas we were able to before we were able to act to consider identity context or device posture now we can also factor in user behavior you know i'd say given all these strengths of the workspace 1 suite the most ideal scenario for securing horizon sessions through a uag appliance is to ensure that any of those horizon sessions are on behalf of a user that's been vetted and secured by workspace one access now this is something we've been able to do for a while through uh configurations on the connection servers that the uag appliances point to we can force in you in settings like workspace one mode we can force any horizon session that's accommodated by that unified access gateway we can force that session to originate from workspace one access so only after a person has authenticated successfully against workspace one access and met the demands of these conditional access policies only after that's completed will they be issued the saml artifact that allows them access to their horizon environment now traditionally this saml artifact was passed right through the unified access gateway without any inspection all the way to the horizon connection server however recently we've introduced an enhancement that allows us to secure the saml traffic before we pass it on to the connection server this in turn tightens the integration between workspace one access uag and our horizon environment the solution is called saml jwt artifact validation and it essentially allows us to validate the saml traffic within the dmz prior to passing it to our connection servers so a wonderful diagram of the whole process is on the screen right now a user uh accesses their workspace one portal and then selects to uh to uh to gain access to one of their entire horizon entitlements in turn uh the user agent on that endpoint device is issued a a jwt encoded saml artifact which in turn is passed to the to the uag appliance in the dmz the the uag appliance validates this json web token within the dmz and the validation is successful the saml traffic is passed on to the connection server and the user eventually gets their entitlement if validation fails the traffic is dropped within the dmz and the user is denied access to their horizon entitlements now this improvement in in security got a further enhancement with uag 38 and the introduction of saml audiences this is essentially just another mechanism that we can layer in to ensure that saml traffic passed by the uag appliance is valid and comes from a trusted source and is not some nefarious or a rogue artifact now clearly i'm partial to the workspace 1 suite however uh we certainly have a lot of horizon customers that don't own workspace one and in their situations there's a number of options they have to secure access on that uag appliance as i alluded to earlier we offer integrations through radius rsa and can also support certificates and smart cards of all these edge authentication mechanisms or edge authentication options radius is by far one of the most popular what's nice about radius is it allows us to integrate with a very wide range of vendors and because radius is such a basic and simple protocol it's fairly easy to configure in the left-hand corner of the screen you can see an example configuration that shows all the basic radius information we need to configure on the uag appliance as you can see it's some fairly rudimentary information basic stuff like host name for the radius server shared secret port and what's nice is while there might be some differentiation between all these security solutions the actual integration to them through radius is pretty much the same the same across the board so once you've done one of these radius integrations you've kind of done them all now along with radius we certainly support rsa personally i've used rsa secure id for for virtual desktop access for six years now so i can certainly vouch for that solution we also support smart cards on uag which is wildly popular within the fed space and then something i received a number of inquiries on lately is support for client device certificates essentially we can require that an endpoint device have a client device certificate prior to it being able to even authenticate against the horizon environment through uag so in this example you'll see that i first try to access my horizon environment without the proper certificate however i get stopped dead in my tracks and get this nasty error message about access being denied and not having a valid cert however later on when i get a proper cert assigned to this endpoint device one that's trusted by my uag appliance you'll see i get the normal expected behavior i have a prompt for my ad authentication and now can begin pass-through authentication now this isn't the most popular of models but again i've heard a number of inquiries recently i've also heard it come up in the context of zero trust models one thing to note is you're going to need some kind of mechanism for distributing and updating the certificate on your endpoints and that's something that workspace one uem can assist with another integration that's been well received is the integration we offer with opswat this offers us the ability to mandate a certain compliance and standard on our endpoint devices prior to them being allowed to access our horizon environment through uag so you have an agent right agent offspot agent running on the endpoint device reporting to the opswat tenant about the status of that agent or of that endpoint device then when that endpoint attempts to authenticate to the horizon environment through uag uag first checks in with the offspot about the the device status and based off of the reply it either grants or denies access to the horizon environment what's nice about this integration is it's fairly straightforward to set up with a lot of the heavy lifting being done on the op spot side of the equation however we've introduced a number of enhancements over the years that make this model even more supportable we introduced more granular control over how we respond to different status codes we introduced support for ios in addition to our original support for mac os and windows 10 and recently we've introduced support for an on-demand agent that allows us to accommodate endpoints that haven't yet had the offspot agent installed we can automate the distribution and install of the agent onto that endpoint to make sure that they're compliant now earlier i said that the the future you know seems brightest with the saml based security solutions and that's why i'm terribly excited about the recently introduced support for direct integrations with third-party idps so your octas your azures your pings anything that supports saml 2.0 can be integrated with the uag appliance directly now in the past if you wanted to integrate your third party idp with horizon you had to introduce the workspace one access idp and essentially daisy chain the third party idp with workspace one access while there's still scenarios where that would be preferable we now can support a direct integration between third-party idps and the uag appliances where essentially the uag appliance is configured as another service provider for that idp like any other service provider it's integrated with let me show you guys a quick demo here this is a video my friend andreano put together and you know he starts by initially launching the octa portal and authenticating with his ad credentials um these are the same these are 80 credentials from the same 80 environment that's used to support the horizon environment we're eventually going to get access to uh after authenticating with his ad credentials uh he sees his entitlements and when he selects the entitlement for his virtual desktops uh he's prompted for a second second factor of authentication through octa-verify uh and this is based off of policy set on the octa-tenant after proving that he is indeed the andriano he gets access to his virtual desktop in this example with the full horizon client however it could just as well be done through the html based client now again we've always supported integrations uh with third-party idps via workspace one access however now we offer this more direct integration between the idp third party idp and your uag appliance now uh if your third party idp is already integrated with the ad environment that's used for horizon then the rest of this integration is fairly simple and straightforward you simply export metadata from your third party idp import it into your uag appliance then configure this identity provider as an authentication source at that point you choose between saml or sam will pass through this is essentially a decision between using true sso or not using true sso so by default you would go with saml and passthrough which means that once you authenticate against your idp you are going to have to provide pass-through authentication to get into your horizon environment if you want to avoid the need for pass-through you would you would choose this saml based option then set up true sso so this is the same true sso solution that we've traditionally used for workspace 1 access a normal use case for it is when you want to support users when you want to provide access provide your users access to the horizon environment through an authentication sequence that doesn't involve them typing in their password that's what usually drives the adoption of true sso well we can take that capability and extend it to third-party idps and allow them to forego the need for pass-through authentication by standing up true sso and what's nice about this is that the setup for of true sso for third-party idps is very similar to what it is for workspace 1 access you stand up an enrollment server basically using the same installer you use for your connection servers then establish a relationship with a microsoft certificate authority and through the exchange of certificates we're allowed to provide users access without pass-through authentication overall i'd say support for direct integrations with third-party idps is some great news and offers our customers a lot more flexibility however i would like to point out that any these third-party solutions could have additional capabilities added added on if they did the integration with workspace one access similarly to the way in which we can inform workspace one access conditional access policies with information about uem enrolled devices we can extend that capability to these third-party idps a great example of that is our partnership with octa where we can do an integration and use device device posture as a have device posture feed into the octa idp rules so if you want a plain vanilla direct saml integration between your third-party idp and your horizon environment sure this option is great but no if you want to beef up security eventually you might want to go with a little bit of elbow grease and then some more resources you could get tighter integration and the benefit of of information about underlying devices extended to your idp now uh there's one last capability i want to review for today and that involves a very strange integration or combination of two solutions there's the support for direct integrations with idps and then there's a solution we've had for a couple years now called horizon unauthenticated access so horizon unauthenticated access is all about providing generic passwordless access to publish applications within your horizon environment now normally this is not something that you would want to extend out to the external world with uag right we're talking about generic passwordless access however what we can do is secure this horizon unauthenticated access with authentication against an idp that's been integrated with the uag appliance now why would you want to do this well i'd like you to imagine that you're in the middle of a merger or an acquisition and you're trying to figure out a way to provide some application access to members of this external organization now consider this external organization you may have no kind of relationship no kind of integration with you might not share a network let alone an ad trust how do you provide application access to those users to your horizon environment well this is the solution those users can continue to use their ad credentials and authenticate against their idps with with those ad credentials then based on a trust established between their idp and the uag appliance they can have generic access to this horizon environment that they normally wouldn't have any rights to via their their normal id credentials just to illustrate this is a video taken from my own lab you're going to see it starts off with me logging into the octa environment with a set of credentials that not that aren't even ad-based uh they're just an account it's just an account that i created with the default directory for octa after authenticating with my password i'm prompted for a second factor of authentication and then i used octa-verify to prove that i am indeed justin johnson and after going through this fairly rigorous security now i get this generic access to my published applications so again i think if you're trying to share apps you know in the middle of a merger or an acquisition or you've got a partner organization that you're trying to provide some limited access to i think this is a great solution sure if you're in the middle of a merger or an acquisition eventually you want a shared idp or a shared uh you know ad environment but in the meantime you can for use this solution to provide you know a quick shot in the arm and give users in that other organization some you know limited access to your horizon environment but do it in a way that meets the requirements of security now the unusual start of this show is unauthenticated access with horizon rdsh and you know this was normally based uh you know this was for situations where uh you had endpoint devices on a trusted network and you wanted to provide them this generic passwordless access for applications that you would maybe want to deploy in kind of a kiosk mode scenario and it's particularly ideal for applications that already have their built-in security within healthcare this is very popular where you have shared workstations that only run an emr now again normally you wouldn't want to make this access available to the entire world right however with this model we are securing that access with the third-party idp so it's not as crazy as it sounds so just to show you the demo from another direction and when i as a user oh sorry when i as a user point my horizon client to the uag appliance i'm redirected to octa which then applies the security that's required to secure this whole experience i enter in my password i get prompted for a second factor of authentication through octave verify and only after i've passed through all those requirements do i get this generic access now something else that's particularly exciting about this solution and why i think it's going to be so relevant is it's really easy to set up because uh because we're uh using generic ad accounts we don't have to worry about true sso we don't have to integrate any idp tenants with local ad environments we simply have to establish a trust between the uag appliance and this third party idp then enable unauthenticated access and enabling unauthenticated access is a matter of minutes not hours you register a user account you enable the feature on your connection servers and then you entitle that account to the applications you want to make available and then you're off to the races now by default the way it would be configured is you would have for the idp that's trusted by uag a default alias or generic 80 account is defined for anybody who authenticates from that idp so in this example we have doctor set up as the the default username so anybody who authenticates from the idp we're integrated with will get this generic doctor account uh within the horizon environment however we can offer a little bit more flexibility and granularity leveraging saml attributes so we can map saml attribute values to different user aliases so and in this example we have the job title attribute being used so anybody who has doctor in their job title will be mapped to the the generic doctor user anybody who has nurse in their title will be mapped to the generic news nurse user and so on and so forth so this offers a little bit more flexibility some more options and it's completely transparent to the users now overall i'm particularly excited about this solution as somebody who's focused on healthcare because there's so much consolidation going on in healthcare and so many loose partnerships where folks want to grant some access to these other organizations but don't know where to start i think this is a perfect stepping stone for those situations well that's all i had to share with you for today i hope you got a lot out of that session if you want to get a deeper understanding of this solution tech zone is the place to go i can't recommend that resource enough and also if you're interested in workspace one in general here are some other sessions at vmworld this year that you might be interested in checking out once again my name is justin johnson uh the speaker before me was andreano linus we're really proud to represent vmware and provide this material to you we hope you enjoyed it and we hope you have a wonderful virtual vmworld thank you 