 Hi welcome to The Linux Channel. So as a part of Data Visualization and Analytics, quite a while ago I shot a video episode on getting data points of established network connections ... like TCP connections via Netstat command the same thing we can get the output and we can now plot it via RRD Graph So after that I was doing some modules ... as a part of You know analytics I need it for my own The TOFFEE project. This is something. I need this module not as a part of the module, but I need it as a sort of testing platform. So I was doing a sort of a chart where I need a correlation between RX of packets and TX of Packets versus you know bytes. So initially I did the RX of bytes received or The total packets versus bytes. So this is something I can plot it as a single graph I could extrapolate but the problem is as you understand If you get a one packet with the full MTU size it is going to be count of the packets are going to be just one and The bytes are going to be around 1500, so this is the huge issue in terms of scaling up Between these two values so you can do certain fixes for the same you can always add constant number like 100 or 10 or something like that And then you can bump up that value so that both can extrapolate or the other best option is you can go with dual chart something what I have done here. so if you see here This is the chart which I did the just a while ago So you can see here the first chart is all about packets you can see here It is few packets or M packets per second Which means it is milli and in that case you need to divide that number by thousand So it is around one packet per every two seconds, so it is showing around 0.5 packets per second So that's how you need to interpret the same. Initially even I was confused I thought M stands for mega or something so it is not the case. so M stands for 'milli' So if you see the bytes transferred currently there is an issue in the fiber so entire area internet is not working So this is the reason it is not much exchanging any data to that real Interface(NIC) this is my one of the Ethernet interfaces, so it is 'eno1'. You can see here so if I do ifconfig So this is one of my ethernet Interfaces so since I think the network is still down ... google.com yeah, network is still down so this is the reason it is not much sending any background data So that case what is happening is it is just sending any kind of Request messages, and it is not getting anything so this is sort of background noise whatever it is doing. So you can see here Currently it shows so-and-so packets, and then the second graph is all about bytes So these things ... as I said before you can merge as a single graph. Again as a part of data analytics and visualization Series this gives an idea if you're a network software developer You know you need something a tool like this to do further ... as a part of your know software development so that you can visualize the incoming data. Just using the Wireshark is not sufficient as I said that day Wireshark itself has its own applications(use-cases) you can monitor your TCP connection interaction and then you can monitor other things and also you can monitor the packet flow and other stuff, but it has its own limitations You need tools like this You need to design tools like this it is not you need tools like this. You need to design tools like this using platforms like RRD or even you can use the same MySQL Database In the combination of PHP what I discussed before so It has the scaling stuff as you can see there are certain values Once it is moved it has scaled up. It shows now bigger in size It is just still few packets. It is sending to and fro. So if I do a ping to the router because this is the max I can do at this point of time because entire Network is down. So if I ping to the router You will see the graph is going to change as you can see here if I leave it for some more time It's going to change. So you can see here slowly it is bumping up so if I increase this frequency if I increase this frequency ... -i 0.5 It is going to send at much higher rate, so it is going to bump up that graph further And if I increase the rate even more higher Point one it needs a sudo permission you cannot do just like that See you can see here it reports an error so in that case you can do sudo and you can do the same So now it is almost a flooding that you know network interface port of the channel so you can see here It is going to hike up further so if you wait for a couple of Seconds you can see here. It is no shooting though so this way you can do the same and You can also optionally you can I can access my router and This is my admin password, so if I access the same again. It is going to send some more legitimate No traffic because this whatever web content it has to get from this. You know it is my Asami router So as it does again. It is going to get certain packets and the corresponding bytes for the same So you can see still it is going to be few packets per second versus many bytes per second So this way, this is quite useful Whenever your doors are turned on You know networking software Especially if you are working in Korea great devices and stuff like that if you are working in some routing protocols You are working in some kind of switching and other stuff RLC. Maybe if you are working in ST and stuff like that Maybe you may need something like this to visualize the what is happening in your network So if I walk through my code it is again going to be similar to the previous one So there are some few subtle changes in the previous one. I mentioned as absolute here because Whatever value it gets as it is it is supposed to enter into the database already Database versus here it is a derived value because each time if you do if config Each time if you do if conflict it is going to get this value incremented So if I do again if country after some time it is going to increment the packet count here And it's corresponding in bytes, so this is the reason I mentioned as a derive It's not absolute so if I go back to the source you can see here. It is derived It is not absolute so in that way it does that again automatic if you do something like MySQL platform You need to do this manually because so it doesn't have that time You know sort of a you know platform assistance versus already has lot of such cool features Devender within itself so with that our You know schema is ready and in this case we need two data points so we have bites and packets you can see here so there are two columns or two fields in this database schema, and I have Created these two API so you can merge sort of both in the same API you can do whichever way you want I just did a copy-paste and I created these two API Versus this you know earlier video what I discussed so in this case you have these two a patient We are plotting packets alone in 180 and the other AP. We are plotting abides alone, and we have this you know create graph You know API calls so in that Unlike my previous video, I kept the time period or just for last 10 minutes. I don't want to get last 30 minutes I just kept last Invents you can even change it to last 5 minutes or just last 1 minute So you can do all those things whichever way you want, and this is my ear You know command line script with that I get that values with that batteries in PHP I can get the value so I can just manually if I run that You know you can see there it it gets that if victim and and then it picks this line If you break this down it is very simple I am graphing for the line, which contains that rx and then I am again doing a grip Because it returns two lines. I need a line which contains packets as well, so I do the same and then I get that specific line, and then I'm Removing Spaces and replacing with the comma so that we can pass the same, and then I'm using a cut command and then the fourth field is that you know packets, and then the 6-2 field is you know byte so you can do this way and Assumer you need to parse it in PHP. You can even parse it in PHP It is also easy so I thought to let me do if we have bash itself because we have already some - You know line so if you want to par so after the comma you can even do that in PHP even PHP is quite easy to do the same, so I am doing the same I am removing that New o line character with the chop command and with that we have this You know we have everything ready so with this We get that values and we feed it into the database you can see here We have this packets and bytes and the packets and white these are the field names These are the field values and with that it is feed it into the database and if you go to that web script unlike my earlier, crypt it has totally to JavaScript instances so that it does Auto refresh, you can see here my image element in my image element P And we have this too. You know instances JavaScript instances And then they have been coupled with this image SRC HTML tags and before that added a small modification here, I mentioned that it is actually what is it all about and also, I'm Displaying the hostname so that we know that it is coming out from each system So with that our entire code is ready We have this you know web page, and then we have this PHP to create that stats and since the database is created again I have commented the same so with this if I execute And then I have already executing the same in the background since it's an infinite while loop It is collecting that data points, and it is feeding to this Database and then with which We get this gif images And then those zip images have been displayed using this you know web page, so you can see here This is what it is happening and you can do few things or because this is also shows the flexibility of You know PHP versus something as numbers. You know C coding. This is something you can also do in C Code, but the of the big issue is You know it takes a lot of time it needs at least some entire day of work instead just a couple of few minutes this took me hardly around the 15-20 minutes to do this inter stuff, and it is not a question of for taking half a day it is You may not have guarantee that it may have any bugs here and there still it may contain or any kind of memory leaks I'm not saying that anything you do in C. It is going to have memory leaks but C. It is you know? Itself is a language meant for you know very deep systems of aspects rather than doing something like this in this case It is good. You know you choose to use some scripting language rather than doing or something like you know C Language so I can do even one thing I can quickly do something like this you know for I can mention and here I can mention loopback and This I can make it dynamic. I can even do dollar fourth I'm not sure whether it works or not because you should understand. This is not in double quotes This is a fact occur so backtick is a very special operation in PHP it itself means execute that command and did that command output and dump it to those corresponding variables so if I do this dollar port Let us see whether it works or not let me just stop the same and if confused You can see here localhost has a much higher count of or lower count of packets and but Higher count of packet bytes or something like that so we need to see whether it works or not so let me just you figure the same and We see If it changes anything neces so yeah, it looks like it works. So this is the beauty of PHP you can see here How quickly you can do such changes imagine doing something like say you need to use some s printer And then you need to use some percentages and do all those things, and then you execute the system command You know this is not something so easy to do in C. So you can see here We are started the getting in local host own, and you can even mention here Instead of hard-coded a you know one you Convention as dollar for So that the graph name also will change with this and If I cancel and if I run the same the graph name over here, you can see here in the diff image it also will change Yeah, you can see here local covert and directs network's tab so and the packets in bytes But I yes of course the database also contains the previous values which corresponds to the real physical interface Which of course you can you know delete and recreate the database I can just top this I can go back here. I can uncommon The same and then if I run it once it is going to create that You know database it is Going to set that schema everything and then it is going to start collecting the data points I can just run it for a few seconds like this and then stop it and then go back here. I can just comment Since it is already existing. This is the database file since it already created and existing I can just now run the same If I refresh you can see the world of data will vanish so this is how it happens So with this so it is purely on localhost unlike the earlier case which is We are using that real physical nickel so if you understand here and using this Getting from the local port it is getting from the local host Apache server so each time. I refresh this page Essentially it is getting this packets from the local host so this is what it is So if you refresh this HTML page is fed from the local host Apache server to this You know Firefox browser so that is why there is a sort of you know bump in this graph so even this Is in local course this entire know you know toppy website is in local host if I refresh and do anything it is going to Bump up even further you can see there you so it is shooting of those You know bytes and the packets Which is you know receiver to that local host interface so down the lane? I am going to Do a couple of more Such sessions so that it gives that a big picture and people who ever are working in network I mean systems network software development You know you can get some kind of inspiration Out from the same and the trash may it is not a question of whether which tool you use So don't immediately send a mean that can you get? Can I get all those you know source code and stuff like that don't waste your time? Instead just use This as a you know No motivational video and explore yourselves for you know Explore both mysql platform as well as our Rd platform as I said before explore Google charts and then And explore our Rd as well and then pick the right one so that sometimes you need a platform like Maya skill And sometimes you need a platform like Rd and this is something you need to experience not just you know seeking somewhere and then putting dumping in your existing girl know networking a Test platform and trying to integrate some kind of bits and pieces so don't do that And don't send a mail asking me to send off the source code instead to spend your time And you know get some thought learn certain You know scripting languages especially Like I mentioned if you're interested learn PHP itself because I am not really interested about you know Python syntax So somehow it it is not something. I do like about it So this is why I don't much like Python instead I choose the PHP because it is very versatile very powerful so learn PHP Other than that learn a database platform. You don't need to learn all aspects of database just learn very basic Aspects of a database how you can dump the value how you can read the same and then learn also about how you can rate type the database information From PHP to the database and database to the PHP and stuff like that or in case if you are sticking with your favorite Python You know learn about the same so that? you get to know that how you can interact with your database and then Next you can hop on towards these charting platforms. They explore the same get your scripting languages try to pull that values to this You know charting platform definitely if you use a Google chart It is not more different than what I showed here because this is something happens offline And it really exports as a couple of zip images in this case This is one Jeff image, and if you go back. This is another Individual jiff image, but if you use a charting platform it is going to be live You know chart generated by JavaScript And the same case if you use a platform like plot and anything it is also going to be a you know Dynamic chart generated by Java scripts one advantage with starting platform is you can have that hover over you know? displays and other stuff Which you cannot get it from images one can understand if you move the mouse over here It will show that exact corresponding value, so this is one advantage if you use a charting platform It shows that dynamically you can hover anywhere, and you can get what is its corresponding exact value So you cannot get something like that in? This case because this is a very static image so each has its own pros and cons Which is something? You need to experience you need to get that expertise has to pay? You know you explore these things, so thank you very much for watching this video in case if you have anything to discuss Or if you want to share any ideas or be in touch via mail. Thank you bye, bye You 