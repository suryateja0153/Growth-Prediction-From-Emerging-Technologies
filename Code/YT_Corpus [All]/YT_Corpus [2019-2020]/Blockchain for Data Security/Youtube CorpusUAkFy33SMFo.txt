 [Music] hello everyone welcome to the next lecture or in our blockchains architecture design in use-cases course we've gone through a good bit of background material on what block chains are some permission block chain systems hyperedge a fabric a pillager Composer and so on we've also looked at a lot of use cases in a number of industries I think it's now time to look at some advanced material all right so on these are all advanced material that are at the cutting edge of research and innovation today so I'm glad you all stuck on with this course until so long so let's look at some of this material and this all these might also be a good starting point for you to for maybe some of your projects your theses even so I'm hoping this is this is helpful for you so specifically over the next four lectures we're gonna take a deep dive into security and privacy aspects of of blockchain systems this first lecture is is gonna give you an overview of security and privacy of some of the requirements of enterprise applications what enterprise applications have on blockchain platforms so let's just look at an open network so this is like the bitcoin kind of network above permissionless network where the there is a certain notion of transactions where the transactions are all just exchange of bitcoins from one person to another the residence but transaction validation which is in the Bitcoin case it is just prevention of double spending making sure it's an authorized entity who is trying to spend bitcoins that they actually own the security is really in in the fact that the you want to make sure the transactions are all valid before they are committed on to the ledger and once the once it's committed on to the ledger you want immutability you want to ensure that no single participant is able to unilaterally modify the contents of the ledger they can't manipulate other entities to also convince them to manipulate the ledger so there is there are certain guarantees that are provided so in the Bitcoin case a certain fraction of the nodes as long as they are not compromised you can still provide this immutability column guarantee the privacy on on the other hand the only kind of privacy that they provide is through the notion of pseudo anonymity in some cases although there are permissionless networks that have full anonymity so we do we will talk about that later as in one of the lectures and what are some of the assumptions the assumptions to provide some of these guarantees in terms of security and privacy are that not more than 50 percent of the computing nodes have been compromised right so they're all at least 50 percent of the nodes are following the protocol as stipulated this is not compromised they're not malicious and they're all functioning as expected it also assumes that the user wallet with the private keys of the individuals are all safely maintained they are not compromised either and the fact whatever transactions you're running on blockchain they also have to be deterministic so Bitcoin in etherium achieve this by reducing the set of operations you can perform but there are other ways to achieve this as well right certain these saref assumptions may not always hold true and there have been many attacks that have been shown on some of these open networks so for instance one of the most common cases is where either the user wallets or the decentralized exchanges have been compromised in some way and users browse secret keys have been stolen and bitcoins have been stolen because of that I'm using bitcoins generically yeah but there are other cryptocurrencies that have also faced a similar kind of issues and the ledger immutability can be compromised if nodes behave in a certain different way so for instance there is a research article that shows that even with if even if you compromised just maybe even 25% of the network you can actually make you can cause bad things to happen in the network right so that's the notion of selfish mining I will but I'll give you a reference to that later in this in this towards in in the fund reading section the other kinds of attacks for the ones that support smart contracts people try to explore exploit vulnerabilities in the support contracts what one might think is bugs in the smart contract and that will allow the the hacker to arbitrarily change the ownership of coins the coins maintained by the smart contract itself right so these are all exploiting vulnerabilities in the application code or the smart contract code not really in the platform itself the platform might be secured by the way you've written your smart contract is not secure and one of the problems that platforms such as etherium have is that etherium purports that code is law right there is no governing body there is no legal recourse if something goes wrong in your code so that will see the situations where hackers have hacked into the system stolen coins and because there's no legal framework to actually prove that this is theft and actually do anything about it what ended up happening was there were hard folks and people actually had to undo transactions on the blocking so that actually goes against the principles of blockchain itself it's supposed to be immutable and and and not subject to people modifying it by themselves but it has happened that people have performed hard folks on on the etherium blockchain for instance okay so in the enterprise world apart from the fact that we have a shared replicated job you want consensus we don't want any one party having central authority we want the ability for smart contracts to execute business logic and we want all of this protected through cryptographic protocols so apart from these properties there are certain other properties that are not provided in a permissionless area for instance it permissionless networks do not give you a strong identity management a dogs does not give you accountability non-repudiation it doesn't give you the ability to audit transactions so I should be able to know an auditor should be able to come in and find out who exactly did what and more importantly there is no notion of privacy so we will have one dedicated lecture speaking of different notions of privacy and how there are different capabilities that are there in the security literature that provides some of these privacy guarantees and privacy is also possible through design hyper ledger fabric has some of those concepts are threes Korda we'll talk about corner in a few lectures are threes corner also has some of these privacy aspects so we will talk about what those are and over across all of these we want to make sure that the performance does not degrade while we are providing some of these capabilities ok so let's go over some of these security considerations we talked about stri a strong identity management this is to say that we want to ensure that only a permission set of entities gain access to the network itself others do not even know that this network exists or cannot read what's on the network so the participation into the network is authorized and governed so that's the strong Identity Management and this is typical of enterprise systems because any enterprise knows that it's only going to do business with a certain set of other enterprises and it at least knows of those enterprises you're not going to be doing business completely with unknown entities almost most likely although you know those entities it does not mean that you trust them alright so those are two distinct things then there's privacy and access control so for whatever information whatever transactions you are performing unboxing you want to make sure that only certain authorized entities are able to obtain access to that information and they're also only certain set of entities are allowed to perform certain transactions certain types of transactions on the blockchain right then there is authorized execution so this is to say that only certain set of entities should we love to see what the business logic is see what the trial smart contracts are may not be that all parties in the network see all the smart contracts that are part of it there might be different subsets of entities who need to learn certain pieces of logic and they are the ones executing that logic and the next one is around accountability and non-repudiation so once information is there in the system we should be able to prove clearly that this information was in fact produced by this person and then once with that with that proof whoever performed that transaction should not be able to deny that they actually perform the transaction and one person should not be this the corollary of this is also say one person should not be able to forge out of the transaction to make it seem as though it came from somebody else rather than themselves right so that's the accountability and non-repudiation aspect and we want all of these properties together with support for audit ability so we should be able to have regulators or auditors come in and see everything in the network or whatever selective portions you want either will reveal to them we want this to be pluggable components so in hyper ledger fabric almost every component is designed as a pluggable component so the the ledger is pluggable so you can have different aspects of the ledger we have CouchDB and leveldb and then you can have consensus as a pluggable concept just like that we want all the security concepts should also be pluggable like the identity management should be pluggable the crypto protocols should be pluggable and we will see how that is achieved in in hyper nature fabric and the reason is also that some of these security protocols also matured with time rights over a period of few years these protocols keep changing and the best practices keep changing and we want fabric to be able to adapt to some of those changes and improvements in security literature and like I said we were all of these security properties with minimal impact to scalability performance consistency right so we don't want to compromise too much on the scalability and performance scalability is in the number of participants how much the network can grow in size performance isn't this throughput right how many transactions you can handle per second or what is how quickly can you come into transactions like what is the latency so those would be performance metrics we don't want to affect them while providing much richer security and privacy guarantees so security and privacy is a clear differentiation for fabric compared to many other platforms that are out there and fabric right from the beginning has been designed keeping security and privacy as the foremost code and that's also some of the things we are seeing from clients right security and privacy are the biggest things that clients ask of us when we are building fabric or when we are building applications on top of fabric so there are many controls that are provided in fabric to give you different notions of security and privacy there is membership and access control so at every stage of fabric you can have access control so you can say who are the ones were part of participating in a channel within a channel who is executing chain code within the chain code what are the endorsement policies right who who needs to sign off on a particular transaction so that's really the endorsement policy you can apply application level encryption to provide privacy guarantees on who sees gets to see the data so unless you have the application layer key the secret key that was used to encrypt the transaction you won't be able to decrypt it so then their notions of channels their site DB so we in one of the lectures actually in this in this week itself one of the lectures will talk specifically about site DB as a construct for providing data privacy so we will talk about that and there are also hardware capabilities like trusted chain code execution using inside secure containers and apart from these there are new concepts that are also coming in so at the time of the recording there is a new capability using identity mixer for providing anonymous and on linkable transactions we will cover that as well it's going to be part of fabric very soon but it's not yet that it's still in development it's an open source you can see the development in progress but it's it's still not merged with the master branch of fabric so so this is just a pictorial pictorial view half how at every stage there is there is some level of security and privacy embedded in in terms of membership access control the endorsement policies and the commotion of Channelside DB and so on and as I mentioned there so there's also apart from the protocol or the platform itself giving you security properties we can also obtain security properties through cloud services or through Hardware right in IBM cloud the IBM blockchain platform all the components of your network actually run inside secure services inside what is called a secure services container so this secure services container is an isolated container in term in pretty much everything right in terms of memory CPU in terms of disk it's everything is isolated and there are some additional properties we will talk about them so you are pure order chain code all of them execute in separate containers they are all isolated with each other from from one another and that prevents any kind of tampering that one organization might do to what might try and impose on another okay so what is the secure services container so it's actually a combination of hardware and software it has a firmware bootloader that's first loaded into memory and once you have that loaded into memory it ten loads a software bootloader from disk and when it loads the software boot loader from Denson can actually do an integrity check this is to make sure that when what you read from disk was what was originally put inside so you can make sure the disk has not been tampered with and you can actually do that integrity check and you can decrypt the software bootloader so this is actually stored encrypted on disk and the software bootloader it actually has keys stored in there as key stored in the software bootloader that will enable you to activate encrypted disks and this encryption decryption is done in flight when accessing appliance code and data that's residing on the on the disks and it so that's the the kind of security that's all built in into hardware and software as part of this secure services container and the application is designed so that it can interact with the container only through api's so there is no concept of being able to SSH into the machine there is no admin user even IBM will not be able to get into this container and look at what is inside so when you develop an application when you are run a network all of that is completely isolated and even IBM will not know what's running inside so you have complete control over that container that is provision for you I the only thing IBM can probably do is shut down your container right but it's not in IBM's interest or any cloud providers interest to actually do that so guarantee that is provided here is that even we will not have the keys and we will not have the ability to get into your container and look at the data or the code that is running inside the Intel software guard extensions as GX is a incredible innovation that Intel has come out with access has similar features to the secure services container it's a bit different so what it has is within your application you can actually have on cave and this Enclave is usually a small piece of code that is trusted and it's been verified and it's known to be correct and bug free and all of that and you can ensure that this Enclave is protected from other processes that might be running on the same same machine like for instance this picture here in the bottom you have an application here you want to protect a portion of that application or the whole application itself from other malicious applications that might be running on the same operating system so in the in the in the cloud when you're using virtual machines it's possible that - multiple applications are running on the same operating system or the same infrastructure so you want to prevent other malicious application to be able to attack and obtain information from my application that I want to keep secure so they have this notion of an enclave and this is a this is in hardware it's a silicon chip plus CPU microcode and there is code that is running inside there that Enclave and the code is is basically isolated user level code and that's protected from other processes that are simultaneously running on that on that system on where even even at higher privilege levels then apart from that you can on the Enclave code itself you can do remote at the attestation so what does that what that means is you can have a remote authority satellizer Authority verifying whether this code when it comes up has not been tampered with so it's actually running the original piece of code that was running there so that's the attestation aspect and this actually provides a record reverse sandbox so there's within our application there's a sandbox for you or to protect certain piece of code or data in data in that object and there are certain limitations to this but I won't go into that but this this has caused your a good amount of innovation in this space the Intel SGX capability and today almost a lot of our laptops that are coming out today they're all come with SGX capability so if you do into your laptop you'll see that it's it's most likely has of course if you have an Intel chip on your on your laptop so this next one is about a it's a now switching gears a different framework is the framework of that's come out but Microsoft has come out with called the cocoa framework I'm again going to talk about this very briefly because this is an overview lecture so the what this framework allows you to do is you to create block chain networks based on different blockchain protocols right so for instance you can have multiple consensus algorithms that you can plug in to your your blockchain network so this big picture actually helps this is actually from the cocoa framework white paper itself so if you think about it so what what they allow you to do is it have they give you a pluggable way of plugging in your favorite suction platform whatever that is you can plug it that plug that into cocoa framework you can plug in your own consensus algorithm into that into that framework for that platform and it also has the the persistent store right so it maintains the ledger for you so there is a blockchain core this is the pluggable component you'll have to write an adapter for your favorite blockchain application you can plug that into cocoa framework and it will manage the consensus and the transaction execution and so on and apart from that it gives you permission to identity management and it also uses trusted execution environments so each of these things so if you see this this whole thing is running inside and Enclave it's a trusted execution environment this is actually they have a they're doing this with IntelliJ SGX and they also provide you capabilities for network management once you have this set up you can do network management through voting policy so there's more like governance that fabric provides but a version of that for just providing how you can would on your network management so for instance you can vote on whether a new new organization should join your network or not so it gives you an interesting set of capabilities basically for management and governance of your blockchain Network agnostic of the kind of blockchain platform that you want to use so you can just have an adapter and bring in any kind of blockchain platform to it so that brings us to the end of the lectures a bunch of fun reading for you to go through so this the first one is a research paper titled majority is not enough Bitcoin mining is vulnerable so this is the selfish mining that I talked about so it shows how maybe even at about 55 percent network capacity if you are able to take over maybe 25 percent of the network you can actually do very bad things into the in the network so that's that's this paper it's a very interesting read I would encourage you to read it it's one of the hot papers that's been cited a lot of times already and there is now a survey on security and privacy issues in Bitcoin so this is right now as a preprint available on archive so you can go read that I think it's gives you a good overview of what would be some good properties and security and privacy and how Bitcoin does not have some of those properties and aetherium has had a few attacks on it so this is the DAO attack so it's a decentralized application organization so this is a there's a blog on that gives you a good overview of what that attack was really about this was really not an attack on etherium it was attack on a smart contract which is which was the Dow now is really a really a smart contract on on ET so your attack on that and how they were able to steal certain certain etherium coins from that right ether from that from those accounts and eventually etherium had to do a hard folk to undo the attack so some details about Intel SGX so Intel itself has published like it's not a very long one so a few pages long it's a HTML you can go read that it gives you a good overview of the some of the nice properties that Intel SGX provides in terms of isolation and and privacy and finally the cocoa framework white paper itself is again a good read it gives you some of the properties that cocoa framework gives you I'm sure this is for cocoa framework if you read it you'll see that's really work in progress I'm sure Microsoft has more things two more things in store that they're planning to bring out along with this so with that that ends this lecture over the next few lectures we'll go at length add some of the security and privacy properties we need for enterprise applications and we look at some examples of how that is provided by hyper nature fabric with that thanks a lot we will see you at the next lecture [Music] you [Music] 