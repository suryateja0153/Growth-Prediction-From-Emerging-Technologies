 [Music] hi I'm Thomas Lewis I'm a cloud developer I've get here at Microsoft build live and I have the wonderful opportunity to talk to my guest who is Duncan Waller you're a principal software engineering manager did I get that right yep okay good good um and so today what we were gonna do was to talk about something that your team has built you've already announced it but you're talking about it a bit more here at build so tell me what what you've built yeah so what we just announced is a map control for the unity development environment it's primarily targeted for mixed reality or augmented reality scenarios and it's used for applications to be able to put together a virtual tabletop map like you see in sci-fi movies right oh very cool umm when I saw it I thought that it was really interesting because I always called these things 3d Islands right there look this is this little square now we've seen other big map controls in the past and how is this one particularly different than what we've had already in 3d well the map control for unity is most closely related to the map control that's built into Windows in terms of the 3d functionality it has but the main target for this is mixed reality which none of the other map controls currently have so all of the controls will support the same basic geospatial functionality you can view any part of the world and do your own overlays on them but this one allows you to give it a full stereo immersive visualization interesting um and so why did you in particularly think of unity as as where to have this component sort of drop in - well it's actually we we experiment with a couple of different options before we settled on unity what we found out is that most developers who are targeting mixed reality we're using the Unity development environment it's just very friendly to a developer to be able to very quickly put together an application that has rich visualizations and when we looked at what was out there there was really no solution for displaying real world data within unity context and especially there was no way for a developer to put together something very simply everything that was out there was kind of custom build your own and what we were really aiming for here was a single component that you could just drop in and have a fully functional map working okay so so I don't have to sort of do you know pull from github do a certain set of builds and then go to unity and ask them hey can I can I put this in it's just sort of a drag-and-drop plug-in yeah you just download the unity component once you have that you add it to a game object as a map renderer component and you've got a fully functional visual map you don't have to do any customization with scripts or anything you just call the API on the map control you tell it the location on the world you want to look at and the level of detail that you want to view and it'll handle downloading all of the data and making it visible to the user oh that's very interesting very interesting now what I've sort of seen in the past a lot of times with controls especially with mapping technology is usually you have to get sort of a some kind of license right so you get the license you sign up to be a part of a thing and it's usually like a business contract that you have to go through I have wheat is it pretty much the same thing for us with this yeah the licensing model that the mixed reality map control uses is the same as all of the other licenses for our big Maps controls you sign up for a developer account you get an application key and you provide that application key to the control on startup after that we have a very free a very generous free Terms of Use where you can have a certain number of sessions after that you pay per session and it's the same key that you can use for all of the other big map services that are online all of our rest services like geocoding directions search etc oh so if they already have signed up for for the Bing map services this is in it in addition you you get it for free comparatively well up to a certain transaction length there's a free Terms of Use and then beyond that you pay on a per session basis okay very interesting and so what are the what do the platforms that are targeted with us is there something I can only use in Windows context currently when you embed it in a Windows application in the unity scene you have to say what's your targeting and we support all of the mixed reality devices that are available on the windows platforms all of the windows mixed reality headsets and other headsets like the oculus rift and the HTC vive and you can also build for the hololens one and two we don't support the AR kit and AR core on Android and iOS yet but it's something we're considering okay and so so with Windows it's not just sort of the the sort of desktop apps but it's you know hololens windows mixed reality and then did you also say oculus or yeah it should support any of the headsets that run on the windows platform and you could also build the desktop app with it there's no restriction on it but it's primarily targeted more for mixed reality scenarios right okay um it's um with using unity because a lot of the folks that are interested in mix rather you spend a lot of time in unity um and so how does it integrate with other components you were talking a little bit about sort of the game object and so maybe for folks who don't use unity and we're like hey game objects of course everybody knows what that is how would you explain like what a game object is and then why is it interesting that you know your your component can actually attach to that in the unity development environment it's a visual tree where everything is a game object or a child of a game object so it's a hierarchical visual tree the way the map control works is it attaches to a game object and then it takes over the rendering for that object and then you can take any other game object you put in your unity scene and you could request that it be attached to the map control at that point the map control takes over the position and the scaling and of the rendering that game object and automatically makes it sync with the map control so when you ask the map control to zoom to a new location it'll handle moving that object to that new location as well and does it this do the same thing for the camera so like I noticed here in the the animation we have behind us you have the ability to go from like one place maybe like the Seattle Space Needle to gas works but do you have the ability to also have the camera do sort of the same thing where if I want to look at a different view of it it can control the camera as well sure so you the in unity you have control over the position of the camera in a mixed reality context typically the position of the camera is controlled by the user's head right so if you want it to look at the other side of the map you would just walk around and look at the other side of the map got it got it um so we have this mixed reality toolkit that we contribute to it's it's open source as well and a lot of folks in mixed reality are using that toolkit um does this interact with that toolkit and if you can tell me what the toolkit actually does for people who may not know the mixed reality toolkit is a great set of code that Microsoft has released is open source to help you provide user interface within a mixed reality context a lot of unity developers have a problem of putting up just simple UI things and in mixed reality it's even harder because there's no fixed interaction model there's no equivalent of a list box right and what the mixed reality toolkit is tried to do is provide that for developers and so our Mac control integrates well with that as a matter of fact the demo application that we put together which you can download from the Microsoft Store right now it's called outings or if you want to wander over to our booth you can see it live it uses the mixed reality toolkit for all of the UI surrounding the map and then has the map control interacting with that so as you select items from the mixed reality toolkit UI the map control response to that Oh interesting um and so the map control I'm assuming pulls from being data like what are the data sources that I have available to me like can I have flat models if I wanted to I could I change from 2d to 3d within that construct or the data that they control uses is the same data that the windows control uses the and it's primarily three main data types that we pull from the most detailed data that we have is our texture 3d city models which we have they're very high resolution up to five centimeters per pixel and we have those for about 400 cities in the world outside of these detailed city model areas we have an elevation model for the world and it's a seamless global elevation so there's no cliffs or you know islands of data the resolution varies depending on where you're looking at from about 30 meters to 60 meters at a minimum to about one media per sample on top of that we will take orthographic aerial imagery that comes from either planes or satellites and is typically at least 50 centimeters per pixel and that gives you a general feel for natural terrain features at least okay and in those numbers I some people probably are gonna be like well what does that mean actually so like if you were to fit it sort of in layman's terms I mean doesn't is that like wow I'm getting like really really deep you know clear views of the thing that I'm looking at is it like oh you're gonna be like 20,000 miles in space looking down at this little cube yeah for five centimeters per pixel you could see objects as small as this amazing and is that something that's just sort of available to everybody like do all of the mapping providers you know give you that sort of depth there are very few companies in the world that have this level of detail okay basically this map control is backed by petabytes of data that are seamlessly streamed across global data centers with millisecond latency z' around the world Wow India I would assume because that's all the work that you all have been doing with being over all right oh that's a that's amazing I think yeah sometimes a lot of folks don't realize that you know number one is this data is huge right and you all have had to figure out like hey how do we how do we deal with this amount of data and then again to get that kind of precision and takes a huge amount of effort and what is the I mean what's the size of the team to do this kind of thing well when we were producing the data we scaled up the team a bit and we had a team of about 200 people that were primarily dedicated just to the production of the detailed 3d city areas in the the cities that you have you said there's 400 cities right we have about 400 cities worldwide they're mostly in North America and Western Europe and Australia as well but the scale of the data is a little unprecedented yeah I like to think of in terms of there's been a lot of press around these large open world games some of them have talked about you know how huge the areas they have modeled 3d data for the largest games out there have areas around 100 square kilometers in size our smallest city is bigger than hundred square kilometers our largest city areas are in the order of 8,000 square kilometers oh wow and we have a total detailed 3d modeled area on the order of a hundred and fifty thousand square kilometers and unlike a game where they can reuse the same textures and models every pixel is unique in all of that data so the scale is just amazing yeah and are you are you is the plan to like add more cities as you go yeah we typically look at refreshing our data every three to five years and our focus area for data collection is primarily on where the populated centers are and I would estimate in the United States for example well the surface area that we have covered compared to the surface of the United States is not large in terms of the population coverage we probably have more than 60% of the populated areas covered now yeah and so how do you how do you create the 3d data I mean I assume that you don't have 3d modelers like going in and going ok today's the new thing is the Pike Place Market in Seattle it's right that just Avengers wouldn't scale so the process involves first flying high-resolution imagery and this is it's not widely known because other providers often refer to it as satellite imagery but all of the really high-resolution imagery the 5 centimeter of pixel stuff has to come from aerial photography where we fly an aircraft over a city and it has a very specialized high-resolution 280 megapixel camera that takes pictures that look both straight down and to the side and front and back so you get views that are angled as well as straight down and it basically just goes back and forth across the city on a lawn mower pattern taking a picture every second the result is tens of terabytes of data that they we run through a very specialized process in an azure compute cluster to create the 3d models from all of those overlapping images assume what are some of the kind of the future considerations I know that you all are kind of open with sort of like hey what are we doing weather what does our roadmap look like what are some of the things that are sort of on the horizon that you all are now sort of investing the scenario that we've primarily targeted for this first release is like I said the virtual tabletop map where you can have collaborative people looking in on the same virtual map we've also heard from developers that there's a lot of interesting scenarios around where they want to have more of an immersive field of view so rather than just have a map with strong edges to it they want it to go out to the horizon be able to stand there and look as you would when you're standing in first-person we also want to bring more of the vector data that we have available to annotate the map without labels and metadata as to what's there the map is nothing more than just a train visualization which is useful but it's much more useful to be able to say oh this is that city this is that Road this is the business that's sitting there and not just look at the picture we also want to have the ability for developers to add more of their own context in one of the scenarios we've heard a lot in architecture for example as they want to be able to visualize well what would happen if I remove this building and put my own building there so we want to be able to edit our data flatten it out and then put a new model in its place now that's very interesting um so again thank you very much for taking the time to chat with us about this I'm assuming that folks can go online and find find where it's at at you know Bing I'm assuming they've been used to search for it yes so if you look for it the Maps SDK a garage project is the official name and we've got some blog posts up on the Bing Maps blog that point to all the documentation all right well that's a wrap thank you very much for taking the time to talk with us and chat with us and we will have more on Microsoft build live [Music] 