 hello everybody i'm mae from microsoft global hololens clc i'm a technical specialist based in shanghai china my job is to support our strategic customer and our mrpp partner to remove technical broker when they develop a mixed reality solution and deploy coloring too in large scale today i am so excited to have this opportunity to share aerospace anchor details with all of you in mrd event okay let's start agenda i will share two topics with you the main topic is asa as your special anchors and the additional one will be wlt water locking 2. asa i will cover what is your special anchor how to try our official demo and how to quick start your first asa project i would also share best practice to help you effectively create and locate anchors by using your spatial anchors water logging too i added this topic because this tool is a very good solution to help you make your hologram fixed in the physical world i would give a high level view of what's these two what specific benefits the water logging to offer let me tell you what is your special anchor at first aerospace anchor is a cross-platform service that enables shared mixed reality experience that persists across time and space so persistence and across platform sharing are two main capabilities for aeu special anchor cross platform sharing means you can upload anchors that you create on your device to add your special anchor service and then for example you have your friend coming use his own device download that anchor from azure special anchors then it will map that anchors from the azure spatial anchor source into the device local tracking system then your friend will see that the same content at the same position so that is the cross-platform sharing persistence means you can create anchor and upload it on azure account of date you come back and download anchor from your special anchor service and relocate it on your device then you will see that content is still there at the same position so this is the persistence asa also supports wave finding with refining the user can guess hints about general direction of the destination so to sum up ac provides a common point of reference for enabling multiple users to place digital content in same physical location where it is the persistence and can be seen on different device at the same position and orientation relative to the real world environment now i will brief cover how to start i think our official site is definitely the best resource for developer to quick start this is our ayur special anchor official site i would strongly recommend you read this documentation at first step you can learn how to create an azure special anchor account on io portal you can also get example code here to know how to prepare unity build settings for all your special anchor i have opened the sample project in my unity edit i'd like to remind you of something important firstly you can find the thing in this directory then go to build setting windows you can select the platform as universal windows platform and set the right option for hololens 2. you can check whether all five things have been added and the first things should be the azure special anchor demo launcher next you can go to the azure special anchor dot sdk resource directory you can find there is a set file clip this file then you can set the authentication mode is api key and you can input your azure special anchor account id account key and account domain here finally you can build the project to a windows 10 uwp project and open it in video studio and compile and deploy the package to hololens 2. of course you can switch other platform if you want to try this sample on other ar device official example includes 4 demos basic demo showed a detailed step on how to use cloud special anchor session how to save local anchor to cloud and how to look for anchor nearby demo show how to judge and search anchors which are nearby your device other two demos one is to show how to share anchors across device the other is to show how to do course legalization checking the code of example for these four demos there are four scripts filed advanced demo sync is the function to control process so you can check it to know what is done at every step but unfortunately core function here have been encapsulated into a class but this class has been open source yet in other words we can't get the function level details with sample code let me back to official site i would suggest that you can follow the steps on this page to start a new unity application here i also have several things to remind you firstly to load azure special anchor sdk you must change your manifest file of package manually because after 2.5 version sdk unit asset package is no longer provided after you do that you can check it in unity package manager in unity edit we all know that changing manifest file is not good way so i also hope that we can install sdk from unity package manager in future secondly you actually don't need to copy and paste the code step by step you can go to the bottom of this page and copy paste the complete files from here finally don't forget to add add your special anchor id key and domain in the code here i referred to our official documentation and created this unity project in this project there is a game object named mixer reality cloud i put a script in this game object as your special anchor script i copy and paste all code from our official documentation to this file and then i attach the sofia prefab here but know that this project has to be completed yet because you can see it need to check airtap gesture so you must input mrtk2 package into this project otherwise the gesture can be recognized ok let's see the result the video on the left is the learning streaming video of that program you can see that there is a sphere with different color software position is the anchor position white color means the anchor is a colored spatial anchor to hollow lens it's word anchor yellow color means cloud spatial anchor is ready to be saved to any spatial anchor blue color means curl the spatial anchor has been saved to add your special anchor successfully green anchor means it's successful to look for anchor near the device and locate the anchor at the same position the diagram on the right is the snapshot from asa aio portal you can check the asa matrix this is the azure spatial anchor script file codes are from our official documentation you can check some function which would be very helpful for you to know code details for example this code is to show how to create cloud spatial anchor session this code is to show how to add a virtual to get the anchor that meets criteria this code is to show how to create cloud spatial anchor and how to link to underlying ai native anchors let's quick go through some key apis cloud spatial anchor session i think it is the root of sa cloud spatial anchor sessions provides all core api service and it also capture all the environmental information cloud special anchor cloud special anchor is normally used to link to underlying ar platform anchor you don't need to do anything when you set the native anchor as a property of the cloud spatial anchor create a virtual when you are ready to find the anchor you can call this function after you call this function you will get back a cloud special anchor and it has a link to an underlying ar platform anchor means if you are on ios you will get back an ar anchor if you are on a hololens you will get word anchor you don't have to do any mess or conversion and you get to work with the anchor that is native to the platform you are on anchor locator criteria anchor locator criteria specifics a set of the criteria for locating anchors criteria is actually an array of ideas if we look at the big picture we see that when we create an anchor we are given back an id and when we want to find an anchor we need to tell asa the id of the anchor we want to find so that's why we need criteria actually we need a database and we can store ids in it you can check the all the details on our official site i pasted the link at the bottom of this page now let me share some best practice to help you effectively create and locate anchors by using azure spatial anchor firstly virtual tracking systems used on hololens or ar device rely on virtual features of the environment to get the most reliable experience please do create anchors in locations that have stable virtual features means that the features won't change often don't create anchors on large blank surfaces that have no distinguished characteristics don't create anchors on highly refractive materials don't create anchors on surface where the pattern repeats such as carpet or wallpaper secondly you should consider the scenario because it will lead your ux design in general when you create an anchor think about the people who will later try to locate the anchor for example an anchor in the middle of the room that has two doors you likely want to allow people to enter the room from either door when created an anchor you will need to scan its position from both doorways you change perspectives to capture environment data around the anchor so that user can locate the anchor from either door in general when creating an anchor scan it from the perspectives of the people who will try to locate it so if you are placing virtual content on an outdoor scripture it makes sense to walk around the scripture while skiing it as you create the anchor if your anchor is in the corner of our room there's only one directions to approach it from when created this anchor you can scan it just from this perspective finally let you know that with edge special anchors each time you locate anchors system attempt to improve the quality of future locator operations we do this by using the environment data corrected to augment the virtual information on the anchors we are looking for this process runs under the hold and is an offline optimization run by the azure spatial anchor service to optimize for your environment this does improve the quality and allows you to better locate anchors through environmental change time passing and for users looking at anchor from different angles and perspectives you can check the details on the link at the bottom of this page let's go through our official site once again for are your special anchor there are some advanced topics we haven't covered today you can find many helpful resource on our official site for example this page is to show how to share special anchors across session and device this page is to show how to use course relocalization to quick determine whether there are any anchors nearby your device here you can found reference for all apis now i will talk about the second topic water locking 2 water logging 2 is a very good solution to solve drift problem when you do alignment you can get details in the link i put at the bottom of this page why we have this solution the background is if you place a virtual object in a specific place in the physical world in a mixed reality application then as times goes by it would tend to drift away from that physical location more preciously the object isn't moving through virtual space the entire unity virtual coordinate space is drifting relative to physical features a more subtle problem relates to distance if you walk 10 meters in the physical world you will have moved somewhere between 9 and 11 meters in virtual space this is often referred to as the scale problem although it would be better coded distance problem water anchors are the standard solution to these problems and they are burdened solution when used for what they were designed for basically a world anchor is a unity component that hosts an object's position in physical space constant but using word anchor is tricky and non-intuitive a word anchor is only accurate when you are near it water anchors move relative to each other as they independently adjust their virtual coordinates to maintain physical position a liver arm effect cause the inaccuracies for objects attached to a world anchor but more than a meter or so from it these problems can make world anchors difficult to work with and make them in appropriate for use with large models and a large space let me describe the work locking truth goal firstly what locking 2 wants to make a unity global coordinator space work the way you would expect it to secondly when you put a virtual object somewhere in the physical environment it should stay where you put it if the coordinates of two virtual objects aren't changing relative to each other then those objects shouldn't move relative to each other this is especially critical for anything that relies on precious layout this is the second goal a third things word locking tool tries to provide is the ability to make coordinates meaningful for example developers specific that the coordinates of one corner of the physical rooms are abc and the coordinates of another corner of the physical room are def now the designer can lay out virtual objects by their coordinates and know where they will land in the physical environment a final goal of the world locking through is that the developer experience should be as declarative as possible by that i mean the developers should unlink how to specify the intention along with the minimum amount of information required to fulfill that intent basically they are a collection of c-sharp scripts and assets to get the basic function a word locate the coordinate system the developer only need to install the tools into a project and then drag and drop a prefab into a sync that prefab will quietly behind the scenes run computation and adjust the camera so that the virtual coordinates for any physical features will remain constant over time that means that virtual objects stay where you put them without needing extra complications like adding water anchors it's worth nothing here but the world locking through have no external expendances they work great with mixed reality toolkit but mrtk is not a required dependency likewise we have projects using the word locking tool with annual remote rendering and spatial anchors and the hololens qr code library and other combinations this is the video to show how to use space ping system of water locking 2 to align virtual furniture with the physical furniture here they have a virtual drop the arbitrary into their physical space they also have print qr code applied at a material location in the physical space there are corresponding virtual markers in the unity things when they scan a qr code they use the material location as a physical coordinates and the pose of the grounding virtual marker for the virtual coordinates these are fed into space ping system to map the virtual furniture onto the vehicle furniture summary besides asa wlt we have another solution as your object anchor i think arming would cover in next session now we have the three technology related to hologram alignment as shown in this deck asa aeo spatial anchor aoa object anchor and wlt world locking tool they are all good so the question is as a developer how to choose them my idea is it totally depends on your request and scenario asa is the most mature solutions from all three it depends general anchor features as you use the word anchor especially when you want to persist special information you want to share this anchor data across device including hololens android phone and iphone or even for refunding i think asa should be the best and the simplest solution you can choose in some cases that you don't want to use 2d marker or you can't even paste the marker on the physical object because its surface is dirty or not flat or even can't be current at the same time you own the 1-1 scale model of this physical object in which case i think aoa is your idea option aoa enable user to align the digital content with physical objects directly it will reduce alignment errors and improve user experience wlt is a unity 2 which adjusts the camera so that the virtual coordinates for any physical features will remain constant over time it supports the most stable alignment scenario as i mentioned in some scenario customers want a hologram to be positioned in fixed position without any drift but the user would walk around in big room wearing hollow lens or we have the worldwide scale model of physical object but it's too big in all this case you can consider using wlt wlt can work with asa this is all my idea just for your reference here are some helpful resource for au special anchor and world locking tool i also put my email address there any questions please feel free to reach out to me alright well right at the end before i finish this session let me try [Music] foreign 