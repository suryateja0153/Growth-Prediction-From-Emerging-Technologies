 [Music] welcome to the first part of lecture 16 so in the previous lecture we have learnt what is residual Network and augmenting path will continue with this again so in this lecture we'll learn how to find maximum flow using the ford-fulkerson algorithm or on the concept of augmenting path and this into a network okay so this is my example in lecture 15 so as I said that this is the residual network with respect to this flow now to increase the flow amount will look for a augmenting path in the residual Network so here we can see that there is a augmenting path so you go from is to a a to C and then you can go from C to B using the backward edge so this is the first time you can see that the augmenting path is using a backward edge and then from B to D D to e and E 2 T so now by considering the augmenting path P witches is a c b d e t so this is apart from s to T in the residual Network so that's why it's augmenting path we can increase the floor Bly Delta unit so the Delta P is the capacity of this path this is minimum of what minimum of two to one four to three so this is minimum of 2 to 1 4 to 3 which is equal to 1 so we can increase the flow by one unit because the capacity of this path is one unit so the network or the flow up there augmenting one unit of Flo is the following so here this is a very important part because here you can see that the augmenting path considered a backward edge so the user of a backward edge means basically we are canceling this flow okay so look at the new flow now so this is s a yeah be see tea the and II okay so now the augmenting path is this one is a so along this augmenting path I'm sending one interflow extra so that means along is a the new flow value will be before it was one now it will be 2 so 2 and the capacity is 3 now along a sea before the flow was 1 now it will be 2 so 2 and the capacity is 3 C T is not involved in the augmenting path you can see the augmenting path in green color so there will be no change in the flow value and similarly s B there is no change because this was not involved in the augmenting path so the flow value will remain 1 and the capacity is 1 now the change this is a very important step see here we have used a backward edge C B which is in red color and the flow is 1 or the capacity of this back wall is 1 so use of her backward edge in the augmenting path is basically canceling this flow you are cancelling this flow so the new flow will be zero and the capacity is five so this is very important step so here I want to also write down that in the residual in the augmenting path CB so CB is a part of the augmenting path CB is used in order to cancel the flow BC okay so you just remember that use of augmenting use of a backward is in the augmenting path is basically canceling that flow here is the use of residual Network I'll explain it again now the flow along B D it was zero before now it will be one and capacities for the flow along D E it was zero before now it will be one and capacities - and the flow along et it was before zero now it is one now you can see that the flow value the the flow of the previous network the flow value here it was two now the flow value here it is has been increased by one the new flow value is three now is this three is the maximum flow possible in this network we don't know what here to do is that you again compute the residual network with respect to this new flow and if you can find an augmenting path then you can augment that amount of flow along that path if you don't find an augmenting path you stop there and you declared that the current flow value is the maximum flow value okay so this is what the ford-fulkerson algorithm is let me just complete this example what what I will do is that to check whether this flow value three is the maximum flow or not again I have to compute the residual network with respect to this new flow which has value three and I look for an augmenting path if I don't find an augmenting path I'll stop okay so let me just draw the residual network with respect to this new is a be see de d e so here I think by now you understood what is how to compute the residual Network so here I'll just draw the first all the forward edges forward edge with capacity one okay let me do one by one so and the backward edge there is a backward edge of capacity to four AC there is a forward edge of capacity one and there is a backward edge of capacity to four C T there is no forward is there is a backward edge of capacity to 4sb there is no forward is there is a backward edge of capacity 1/4 BC there is a forward edge only of capacity 5bd there is a forward edge of capacity 3 and a backward edge of capacity 1b II there is a forward edge of capacity 1 and a backward edge of capacity 1 ET there is a forward edge of capacity to and the backward edge of capacity 1 so this is the residual network with respect to this new flow GF now can you find an augmenting path can you find a path from s to T from s you can go to a you can go to C maximum and from s you can go to a and then C and then from C you can't move to T or you can't move to a you have to again go back to a I'm sorry you can't from see you can't go to B so it's clear that there is no path from s to T in this residual network so we can say that augmenting but does not exist in this residual network and and you stopped here this is the stopping criteria for the algorithm so there is no augmenting path with respect to this residual Network means you have to stop here and then declare the current flow is the maximum flow okay so this is what the ford-fulkerson algorithm is and let me just write down the ford-fulkerson algorithm formally 19:56 this is also called augmenting path algorithm okay so input to this algorithm is a network gee and output to this algorithm of this algorithm is maximum flow if so if you remember that we started with a arbitrary flow which has capacity one in fact you can start with a zero flow because so the that arbitrary flow could be a zero flow so initially your flow value is equal to zero okay and you compute that means everywhere sorry here everywhere you put zero your the flow value is zero here so if we started with this flow and we computed the augment residual Network and then augmenting path but the algorithm says that you can start with a zero flow that means everything all the flow value all the flow values are equal to zero okay so you start with zero flow and while GF contains an augmenting path be in and see if you do the following you identify and an augmenting path P in gf so identify an augmenting path P in gf and you compute the capacity of that augmenting path that is Delta equal to minimum of C f u v where you V belongs to P we understand what is this Delta I have explained everything in the previous example and then what you do is that you argument you augment Delta unit of unit flow along pee and Update GF that means you compute the new residual network okay so this is what you do inside the while loop while there is a augmenting path with respect to the gf you identify one augmenting path and you compute the capacity of that path and you augment Delta unit of flow along that path and you update your GF and again you see whether the new residual network has an augmenting path in GF whether the new residual network gf has an augmenting path if it is true again you identify all one augmenting path and compute capacity of that path and augment Delta unit of flow along that path so this continues till there is no augmenting path in GF and you are out of this while loop when there is no augmenting but that is the stopping criteria for Ford Fulkerson algorithm and once you are outside this while loop you recover maximum flow from the final residual need to work okay so I hope that you understood this augmenting path algorithm or the fold Fulkerson algorithm to find the maximum flow in a network but somehow I feel that you might be wondering why we need residual Network why we don't just find a path in the original Network and augmenting that amount of path that amount of flow in the network so why we need this residual Network concept at all so for that let me just go back to the example here suppose you've okay so this is the network given at the beginning and you don't want to use the concept of residual Network fine you just find a path in the original Network from s to T suppose you found this path s B C and T and you have computed the capacity of this path the capacity of this path is 1 because the minimum capacity is 1 so you augment 1 int of flow along this path ok fine now you don't go for the residual Network concept you now is there any another path along which you can send flow is probably you can you can choose s a-c-p and you can't send two interflow and the minimum capacity of this flow of this path is two there will be problem see you can't send too ill to flow along this path you can send one unit of flow along this path let me just draw this graph once more let me draw this flow Network once more so this is say s a b c d d e so this is the network I have and the capacity is 3 here the capacity along this is 3 capacity here is 2 here it is 5 s to B it is 1 s 2 D it is for D 2 e it is 2 e 2 T it is 3 now what you wanted to say is that what is the use of this residual network I can directly find a path from s to T suppose I got the path P to B say s is a sorry s b c d and i know that the capacity of this path is 1 so i can send one unit of flow along this path ok sorry I drew it wrongly this is not here this is here this is for here okay now if I I'll try to find another path from s to T say I get the path P to be s a C T and the capacity of this path at this moment see I you have already sent one unit of flow so maximum we can send another unit of flow along this path along this edge so that though the capacity of this of this path is path P two is two but we can't send two interflow along this because there will be a problem here so I can send maximum on interflow so this one will be replaced by two and that's all so after this there is no path from s to T because because you can see that you can't use this edge for a path from s to T and there is no other path from s to T so you have to stop here and the flow the maximum flow that you can send is equal to two if you don't use the concept of residual network but the concept of residual network what it does is that if there is a wrong choice of path basically this is the wrong choice of path you don't know which path is wrong so if there is a wrong choice of age or path in the at the beginning the residual network will take care of that they still need to network at some point of time it will cancel that path and it will find the correct path which will give the maximum flow so that is what the use of residual network in the ford-fulkerson algorithm I hope that you understood this one thank you very much [Music] [Music] [Music] 