 all right good morning how are y'all doing having great conference here yeah I heard it was a great party last night I mean I saw it on Twitter because I only flew in and I was here at one in the morning but seeing all the tweets it was a great party and yet you're all here so I'm pretty much amazed great job my name is Mike wrestler you can always reach me on Twitter but be aware if you're having these autocorrect kind of things that will automatically make this into reseller it won't reach me but that being said today I want to talk to you about Windows nano server and and the goal of this presentation is to start very lightly what is nano server why should you be interested in and so on and then go a little bit deeper on it and so you can start so I'm hoping by the end of this presentation that you have all the stuff and the gear you need to go home to go to your demo environments and to try and test it out note that I said demo environment or a lap or something like don't deploy this in production yet we've tried it was a bad idea if you are really getting interested after this session and you want to learn more than you got good news for you because in room five immediately after this session two great speakers will even go more on this topic and more in depth and will give you I believe they had eight demos of PowerShell might sound boring but it's it's a real great demos and you know now I hope they actually will come true and make it a great session but we'll see about that so let's get start with our agenda very simple small introduction we're going to talk about packages we're going to look at some advanced installation give you some more information what you can do what we're also going to talk about managing nano server because this is one of the biggest fears of IT pros every time I talk about nano server they say yeah it's all nice but there's no remote desktop how are we going to manage it it's actually not that difficult but it's a mindset that you need to change and in all honesty the first two days I was working with this that was actually when it was tp2 which was way more difficult than it is today I kind of had the urge to throw away my laptop from time to time but once you get the hang of it it's really not that difficult of course there will be times especially since we're still technical preview that there are some issues so how can you go troubleshooting what are your possibilities and there are quite a few there there's some more information and you know when time permits let's do a Q&A I will be running around here also the day and in the meantime we'll do some demos as well at least I hope that the Democrats are with me so let's start very easy waters nano server it's a headless 64-bit server so forget about 32 bit I actually hope you already forgot about that a couple of years ago but if you're still doing it now it's really the time to forget about it and it's literally headless I will show you that if you connect with nano server that you kind of have the old dos type thing which looks terrible and if you want to go somewhere you actually have to use tap and keys and there's no mouse and it's headless there's no GUI when you deploy this you will see you just got an operating system which basically doesn't do anything literally nothing so it comes with packages that you need to apply it also means that if you deploy something you literally have nothing which means you're not consuming any resources so all of the overheads is basically gone Microsoft has built this with the idea of and you know this is probably one of the marketing buzz words you're going to hear today cloud fabrics why did they build is because they realize their own windows server when they were running it in Azure and it was a hyper-v host it was huge and I want to have something really really small that only did what I had to do as a host being a hyper-v host maybe clustering networking storage stop nothing more than that but they kind of saw pretty quickly that they could be interesting for other things as well and you're going to see that that with each technical preview we are getting more packages we're getting more rolls and it's also the idea that you can use it for your own what they call born in the cloud applications which means in an application you can deploy on nano server and that's kind of when nano server goes down you literally spend up the second one and it should be running again in all of us see this is great for the future but how many solutions today out there can actually support this type of applications not much now you can start pushing your developers if you've got developers in the house and say hey this is the way to go but do keep in mind that the way you're going to create packages and applications has changed no more MSI so install next next next gum now you're going to have to use the app X package format this is completely new and you're going to have to use asp.net the latest version the core one so they probably gonna have to change something in their coat but if you do this today already and you tell this to your developers and you and they would actually listen I mean I'm an IT pro I know developers never listen to me but imagine that they listen they have to change the way they develop and the only way to test it today is on nano server now will that app X package be running later on into Microsoft Azure into the full blown windows server yes by the time with GA maybe with a bit of luck it will be in the next technical preview but as of today the only way to test is going to be this nano server to keep that in mind so why did they start with this rebooting impacts the business just think about Asher for a second and you know Microsoft is all about Asher Asher Asher and I think I said it enough by now they have to run this they have to make it as cheap as possible they're fighting a war against Amazon they're not doing that bad but still it's a war so they need to cut costs so how can you cut costs as making sure that your servers are using less resources which means you can deploy more servers for each host but also microsoft works a lot with images and every time they have a new host they basically deploy an image and 15 minutes later make it half an hour the thing is ready and ready to serve now if you can put make that smaller as in 500 megabyte image it will impact class a network it will be faster deployed and so on but they also realized that these requirements are not only for azure these requirements can be in the office as well because what is the big issue that IT pros have today when a developer comes to you yeah I kind of like to make jokes about developers so if the developers in the house I'm really really sorry you can give me a red card afterwards it's okay if they come to me and they say I need a new server they know it's going to take if I am in a good mood one day before they have their server while when they take the credit card then they go to their Azure subscription they have that server in 15 minutes we need to be able to do that as well Microsoft realizes just as well I know they're shouting Asher Asher Asher but they're not forgetting about on-premises infrastructure because they believe that hybrid is the future so they want to deliver this as well and then finally I think very important security as well nobody likes to do Patch Tuesday its reboots its work and it's always security security if we can lower that impact that's a good thing for everybody so let's quickly look how it is today this was Windows Windows NT you know and up until server 2003 we deployed a huge big server with a lot of gooeys and if you wanted something we added some roles and features and we were up and running right then came 2009 2008 sorry in 2008 r2 and you know they invented something which was called server core and I immediately liked it but the problem was it was never really deployed in environments why was it well you started deployment and he had the choice yes core or no core and there was no switching which means everything had to be done typing half of the goo is to connect remotely were not good let's put it like that so it wasn't easy to work with and people still continue to work with the full server I guess what Microsoft actually learns so what they did in 2012 and 2012 r2 was I said you know what we're gonna build server core and if you want to have more gooey then you have the minimal server interface and you want to get the full blown tools and everything you're going to go for the shell and actually there's a 4-1 as well if you want to go even further for vdi you can deploy desktop on top of that but again the same principle we've got call it the base server installation and then you deploy roles and images so now we're going to go to 2016 nano server and this is where we're going to nana's over really really small headless deploy those packages server core again same principle deploy the packages the only mistake I think they made here maybe they change that is we are back at the part where you're going to decide in the beginning what you need ideally that would have been the case but you know it is what it is today so as I already said completely refactored think about those applications think about virtual machines as a hyper-v hose works very well you already heard it probably saw session already on it as well containers is a lot of buzz around it will it be everywhere next year I don't think so will it be something for the next couple of years probably we're going to see that more and more and often and this is a great platform to actually deploy on ok set roles and features live outside of that server I'm going to see that as well which means if you deploy it there's no binaries there's no metadata everything really really stays small it also means that if you want to deploy a package afterwards it's not like we know it today like you go to roles and features you say go with installs at reboots you're done no you're going to have to point to the packages that live outside of that server so that might be a little bit confusing it's got full driver support there's no issues whether you run a nice dull IBM for you to HP name your favorite brand server as long as they deliver the drivers like they do for the full server experience you will be able to use them for that nano server as well and it comes also with anti-malware you can put Windows Defender in there as a package note that it's it can and this is also new we're not forced anymore to have Windows Defender it's going to be your choice which I personally think is a good decision because not everybody wants to use Windows Defender some want to use some other third-party vendors some basically don't want to use any anti malware which is of course something you have to choose for yourself these are not my figures let me get that straight I don't have the manpower or the time to actually collect these items these come from Microsoft and they're from 2014 so you can start imagining already how long they're working on this solution and this is the difference between patches in nano server the blue one server core the red one and the full server in green how many important bulletins criticals and how many reboots you need in one year now as you can see on the right tree reboots for nano server vs 11 for the full server now this becomes really interesting how is this possible how do they do that is the code that different not really it's just because most reboots and most critical bulletins and so on come from the GUI elements which aren't there anymore few other numbers I'm going to go over quickly because they are not that important I'm sure that you can download the slides afterwards is what type of drivers are loaded how many servers do services do we see running don't forget this is without anything running this is just the server and how many ports are open in the firewall and these are kind of big differences resource utilization how many processes how many boot I oh do we have and how many caramel memory have been used now of course if we have a server of 256 gigabyte of RAM as a hyper-v host and you're winning what is it here 50 70 megabyte of RAM it doesn't seem a lot but in the long term in when you have a huge environment these kind of savings can actually make a lot of money for your company and then finally the deployment improvements how fast set-up time between 40 seconds and 300 seconds by the way they did monitor this of course on real hardware my environment is running on this I don't make those 40 seconds I wished but I don't make it but also look at the disk footprint 0.4 0.5 gigabyte versus almost 5 and so on all right I got your intercept now at least I hope so let's see how we can start with it now one of the first things you need to know there is no setup there's no next next go take a coffee come back have three reboots finished it's not you're gonna have to use PowerShell to create an image and then go from there ntp to to create nano server that was terrible TP tree they had some powershell scripts which made it a little bit more easier but still not that easy you had two dots or scripts it took some time to get rid now in TP for its way more easier you just got a module which you're going to import and i'll show you that in a couple of seconds and after that you got two scripts that you can use you add some parameters and off the go and inside that module you've got three comment let's as I said edit nano server image get nano server packages and new nano server image and that's all you need to do everything what you want so let's quickly look at some examples I know PowerShell and a slide looks terrible but just look at it you're going to say new nano server image and then you're going to point it to a media pads media Pat is basically your ISO i mounted it on the d drive your own choice how you do it and then you're going to create a base image which you're going to store at the base part which could be somewhere a folder on your drive whatever it is and from that base you're going to go to the target spot and the target part is where your v HD or VHDX going to be which you can use then to make it a physical server make it a virtual server whatever you want in my case I'm going to deploy a lot or work with virtual servers but you can do the same for the physical server and then I basically choice to add the guest drivers dash cast drivers what does it mean it just means adds hyper-v drivers to make it a virtual if you want to do it on the physical then you can just look at the last PowerShell where I have dash OEM drivers and that will put the physical drivers on which are the OEM drivers the same one that are automatically embedded in Windows Server 2016 exactly the same right now I feel look again at that first script what i'm doing here is literally deploying a server with nothing on it no packages it does nothing it's got no rules so it's just sitting there doing nothing but that's how you're going to work one note of importance and a mistake I see a lot is from the moment you created that bass bot image the first time the next time you're going to deploy a nano server you actually don't need to use the media Pat's anymore as long as the ISO hasn't changed Microsoft doesn't release a new I so you can now only use the baseball because that's the clean version and start from there that saves you another 20 25 seconds in the deployment you already see on the last powershell script that there's dash compute that's clustering this is the way we're adding packages in this case with the last one I'm building a physical server I give it a computer name I put the OEM drivers in it I say dash compute to make it a hypervisor and dash clustering to make sure that that failover cluster rollers in there so I can use that to build my failover cluster my hyper-v failover cluster pretty simple I'm not going to show you this life i am going to show a few things life but not this one because it's just I said 40 seconds in my case a little bit longer so I've got something very badly created I'm very bad at videos but and sped it up it so this is what happens right you're going to import I made for both just to show you that there tree small things coming in and then we have the new nano server rimmer image and all of the different thing very simple give it a computer name the only thing you will see when you run it is going to ask you for an administrator password and it starts to create an image it's processing you can see I speed it up it's adding the packages that I want they're very important you can actually see now done but in reality it can take a little longer and then we just deploy it as a hyper-v image not that difficult right very simple very easy to do that's all you need to do give it a name you can see I'm very slow and typing and that's it wait I think simple difficult five minutes ten minutes they should be running in your environment the nice thing about this if you don't really want to use it but just play with it 256 megabytes this has got eight gig and it looks like I'm running seven servers on it but it works it really doesn't need that amount of memory so now I'm just pointing it to my PhD and that's it can you do everything with powershell of course that's how you like it sometimes I like to use a wizard sometimes we use PowerShell and that's it and here we go it's running is nothing more add to it you start it they will see the boot process I did speed this up as well a little bit the first time it can take a little bit of time afterwards you will see a lot of improvements and after he has been booted you will literally see a black screen this is it so now what I need to do is add my username at my domain which by the way this one isn't domain joint yet because we literally build it without any parameters we'll come back to that as well I login and you're done pretty simple alright let me quickly go back here and so I can go to talk about packages looks ugly yes it is this is what we have today we've got hyper-v we've got failover clustering we've got those guests drivers basic drivers file server all you can install softs if you want to defender reefers forwarders what it means is if you deploy the package you can actually ask your developers look after this whatever code you have let's try if it works with the reverse forward so it's going to give you some backwards compatibility it probably won't work with every application but there are possibilities that it does work we've got DNS which I think it's very interesting which means no more full-blown server for some dns services just a nano server small resources and leave it running and doing its thing desired state configuration is there already is support for windows containers if you want to manage it with scvmm no problem that is possible you can already deploy agents from operations manager as well we've got em PDS data center bridging all of those that exist now let's talk a little bit about the PowerShell comment loads how you can add those packages and how you can actually start tweaking your images so if you're going to look at that powershell script you're going to look at those different comment les you're going to see there are quite a few parameters and when I say quite a few I mean quite a few yeah because one of the first things they realize that Microsoft is great we built one then people kind of have to connect to it remotely but how are they going to add an IP address to it now if you got dhcp in your server land that's possible who's got dhcp in the server land not that many people so we need to change this that was one now there were tricks you could use setup complete CMD you could the first run you could add an XML file inside you know to get the IP but there was a lot of work so now they all made sure their parameters and again we're expecting more in the next versions you can change the language if you want to if you don't want to use English you can make it in another language if you're going to use a vhd or VHDX by default that will be dynamic disk of 40 gig maybe you're like oh that's not enough or way too much you can change that size as well all of the different roles and then you can see you can actually put administrator passwords in it as well because you saw in the video that I to type the administrator password but you can just pass the true as well please note as of today when you do that and somebody can see the script they can see that password so it's not always that interesting but as you can see already here as well we got possibilities to add it to domain and then many ways of adding it to bait now we'll come back to that one changing the IP already set but then also making sure that emergency management consoles are connected that you can actually connect remotely in case something goes wrong and you can lost complete access to it merge but the one below is a very interesting one because that you can specify a folder which sits on your local machine and when you create your image everything within that folder will be automatically copied to the root of that server and when it starts that data will be available in your server so if you need to add scripts in there or config files or whatever you need you can copy it like that all right some examples um it's huge let me just see let me just skip this one and show you life that might be better because again it doesn't look that good on a PowerPoint slide some additional information I want to talk about also is that domain join right if your machine is in the same domain and you've got the rights to join a server as of course then you only need to use that one parameter and it will be done for you if it's not you can use other parameters to still join it domain however at that point in time you need to harvest a blob does everybody more or less know how to harvest an active directory blood if you don't talk to your ad administrators still simple but you need to have done it once I'll show you maybe some code as well you can reuse the domain account as well you know you true away your server you want to reuse the name that's perfectly possible and if you by accident forgot to join it to the domain and the surf is already running you can do it online as well but I would suggest you try to avoid that because that's a little bit more work okay another thing you can do is deploy your nano surface you know to play with the learn in Azure imagine you don't have hardware or your boss doesn't want to give you a playground you can actually deploy it in nature as well they got three possibilities it is available in the gallery so just go to your a subscription click Next and you start running but you can build it on this machine as well use the dash asher parameter and automatically it will make sure it's ready upload it to your storage account and then you're good to go as well so that is a possibility why would you want to do it well think about the fact that Microsoft has said something about running a hypervisor in a hypervisor nested virtualization and then going to bring that to Azure as well which means you're going to have the possibility to deploy hyper-v hosts into a sure yes your nesting yes there will be some performance loss but purely from the view of trying out stuff building out deployments that might be very interesting and if Microsoft comes true and they succeed in what they're hoping then the performance loss will be less than fifteen percent which means extending your data center to Azure suddenly becomes something interesting because all the tools and the solutions and whatever you're using today in your own environment suddenly becomes available on Azure as well so that is actually very promising I think all right let's jump back to this not to the video but to powershell again good so let's see that makes it easier all right GAD packages is literally figuring out with my base image or with one of my servers what type of packages are there well type of packages can I deploy it's not that much but at least you know what's happening right so running my script and that takes too long so I'm going to have to pray more to the demo God's I'm afraid something is going wrong here oh I actually got the wrong one sorry about that that run like this for a second get meadows mm-hmm server packages sorry we'll look into my base path under this folder and then show me what the packages are but I'm did something wrong and I'm not sure what's happening now so I'll just continue explaining a few things and then hopefully I can go back to my life thing another thing that you need to know is that language one of the first mistakes I made is not this computer bug another one which is deployed in Dutch you don't want to have a Dutch computer because of the bad keyboard but it's Dutch I didn't realize that when I built my image and I don't put the dash language as you can see here it will just take the language of the computer you're deploying so if you go Norwegian computer and you're deploying the server your server will be in your vision if that language package of course already exists so if you don't want that make sure you do dash packages a dashed language sorry and put the right one there so it's in the right language in the meantime sort of a got true just show you a few things ouch that hurts maybe I need to import here first you try again more time I'm not doing well today I'm sorry about that let's try to fix that as soon as possible some examples about that advanced deployment right if we got new nano server image always the same see that I'm not using the MediaPad anymore I've got my target pad which is just a VHDX that I want if you want a generation to you need to choose VHDX if you want a generation one you can still use vhd if you want to we've got our base pads where my is and I just said add some clustering nothing important but I can also do editing editing meaning I've created it but I made a mistake I want to change some things again where's my baseball where is the target but I've got a vhd here what is my interface name index because what I wanted to do here will simply change my IP afterwards that's one issue here if you do this one you need to know what the name of the interface is now this is pretty easy if you deploy it as a vm because that will be ethernet if it's on a physical server that can be something different so you need to know that up front the second problem is if you do it the way i show you here it will just add that IP address which means you suddenly have two IP addresses if it would have already had one before it doesn't remove the old one so keep that in mind when you're playing with editing ok another thing I'm going to show you is a domain join very simple again target bulb a spot adding clustering and compute as you can see here just make sure i'll show you giving it a computer name and then joining the domain that's it that's all you need to do as long as your user has the rights to join it in a domain you're good to go i enable the remote management port which means if I really am into a big problem I can remotely connect something to it and try to figure out what's wrong I added the gas drivers I change the IP address and since it's a new it will actually get that IP address I give it a gateway a subnet mask I set max sighs this is going to be the maximum size of my VHDX or vhd in this case I'm not sure anymore not VHDX okay this is as you can see in bytes and not in megabytes or gigabytes so take a calculator few x 1024 and then i add some scripts to it as well still pretty simple if you want to join it in another domain then you need to do this d join first what it's going to do it's going to grab an object a blob from the data domain download and simple file that file contains a lot of numbers letters some kind of stuff but you need that to be able to join it when you're on another domain right then the only thing you need to do when you create a new nano server is actually say okay I'm going to point to the domain block pot which is somewhere about on a server local whatever you do and it will know that will it be joined to the domain at that point in time no it will be joined to domain the moment you start your first boot so if you do it like this and you see why is that nano server so slow and booting the first time you're joining it to me so it takes some time before everything they talk to each other and so on last but not least and I've made that mistake unfortunately a couple of times if you're joining it to main make sure it's got the IP the subnet mask and so on so it can actually talk to that domain controller first time I did it I was just starting it it had no access to that specific server VLAN guess what I never joined the domain and I was figuring out what is wrong well it couldn't talk to it especially dns and things like that can be important reuse the main note is the only parameter you need if you simply want to reuse the computer account that already exists i know there are some environments where they say don't use a blob will create a computer account nad here's the data now reuse it that you can do as well and then for the online domain join that's a little bit more difficult as you can see right here so just throw this a bit you need to have a block and then you're going to start using a net use to connect to that server you're going to copy that blob somewhere I'm using temp but you know choose whatever fall you want and then you're going to use PowerShell and I'll come back to that in the management to actually connect to it and from the moment I do that then I need to run a d joint again write this code by the way if you want to know what it means I don't know but it's always the same it's what the ID guys told me I you so pretty simple and then I need to reboot of course all line doesn't mean it can keep running you still need to reboot to get it there and then you just exit your powershell session using an unattended is possible as well who likes to use unattended I hope you want you on our fit mark is not here because I know he will be liking this but where is it unattended here we go nope this one it's this we all love this one when we do plumbing images but you know many organizations ask me that's all great but refusing unattended with using setup complete four years already I don't want to change that can I use it the answer is yes you just have to make sure that that an attendant file is in the right directory when you start your virtual machine the first time or your physical server it's not rocket science for them I prefer not to use it but that's of course a choice so what you see here is you can add in a computer named some music counts what's your password registered owner and what I actually wanted to show you as well is how you can add it to a domain this is the contents of such a blob so if you receive a blob you just open it in notepad and you copy it right here and then it will join as well still not that difficult I think good let me just see yep and go back right here so management it's not PowerShell alone now I do advise you the moment you start working with it to use as much as possible PowerShell because it's fast you can do everything with it but you can still use your day-to-day solutions one of the new things is a nano server recovery console again it's like a common problem that's like something which we used during even before NT or if you're a linux administrator you will know that as well wow I have no idea what was happening there what it gives you as a possibility to change them IP settings and to change some firewall rules everything no but just enough to make sure you got back connectivity to that server for example if you need to deploy a specific firewall rule you won't be able to do that through the nano server recovery console you will see a list of predefined rules and you can enable or disable them just to give you that connection so you can do your management afterwards same for an IP address what you can do is very simple put an IP address in it a subnet mask a DNS server that's it just to have that connectivity then you can remotely connect to it and do whatever you need to do and then there's power shell remoting you're going to use a lot of power shell remoting but if you deploy it as a virtual machine you can also use PowerShell direct and I'll show you that as well if we got fans of sim over when RM works as well I'll show you that in a second remote management works and then everything you know today will continue to work as well you like server manager but that will you work and trust me they are making a lot of changes into server manager to make it a little bit better than it is today if you want to use hyper-v manager you can connect if you got a failover cluster you want cluster manager it connects as of today not everything works for example one of the roles is is you won't be able to use a GUI remotely so if you got your web administrators telling you a I want is that's great and you're going to say yeah but AB CMD web CMD those kind of things that's how you're gonna have to work dns works perfectly but you have to set it up of course as well first now the nano server recovery console ntp 3 if you've been playing with that it was called the emergency management console the developers had to change that name any idea why they have to change that name just look at the emergency management console make it an acronym and you'll realize it's a certain company which is now called towel so they still could be able to use it and then it gives you that as I set IP for ipv6 route you can actually put routing rules in there as well and fire rules and shutdown or restart the server how do I figure out what IP I have the easiest is that recovery console you can use ems you can actually ping it if your dns server works and then powershell direct if your server is the virtual machine anybody who knows how to use PowerShell remoting not going to spend too much time here I'll just show you that's easier but again powershell direct if you never use that it's something new for 2016 it's very handy very easy powershell sim some examples not going to stay too much time because i can show you that's way more fun remote management win RS if you want to you can use it don't use it that much but it is possible why don't i like to use it because of that dash b you actually type in your password so if somebody is looking over your shoulder not always a good idea the road remote consoles most of them work what do I mean by push your third-party vendor if you have a third party vendor that really likes nano as well I want to deploy anything you should congratulate him but make sure that this remote console's work as well that you don't have to do anything through scripting or config files or something like that and then there's something new which unfortunately yes because it was a private beta and I don't think they actually opened it up already for the public although I it's it's here soon and that's something which is called remote server management tools that will run in a sure and what it does it's going to give you a web-based console and it's going to replace quite a few of the tools you normally use it's going to give you a task manager registry editor event viewer well you know you can read all of these tools in a sure that means if it's Friday evening one of your servants got an issue and you're already at the bar I'm from Belgium that's what we do and a Friday evening you don't have to have your work computer with you the only thing you need to have is a connection to the internet connect to those tools and then remotely start troubleshooting or configuring your service as of today this will probably only work for nano server but the end idea of these tools is it works on every windows server at least starting from 2016 this probably will be opened in as a beta in Azure rather soon and it looks very promising although you will need to have a gateway on premises to be able to connect to that service so keep that in mind good let's go back to some demos because that's way more fun and let's go to the management so let's start with some power shell remoting now just to show you and I hope my demo start to work now ipconfig so what I want to show you here is very simple my IP address is dot 240 that's the one of my local machine right what I'm going to do now is do remote power shell just enter p accession to compute the name and i already passed the credential but no password which means it's going to ask me for a password but since you saw my script a couple of minutes ago you know what my password is ooh ouch this really starts to hurt might look better now one of the things you're seeing when you do this it might seem slow the reason why that is is I'm doing this through is Z and i really like i see it's great to work with one of the things it needs to load is when it connects and you can see it now please wait in the comments it's actually running through the models to see what's in there to give me the help file so what you're going to see in the comments the moment it's got loaded is actually every comment let you can run on nano server and not the ones anymore that I can run on my workstation so it's an advantage on the one hand a disadvantage because it's takes the connection a little bit longer but you know now if I run ipconfig again just do this what I should see now if all goes well is another IP address how can you see also that you're actually not on your local server anymore that's by this right here great and doesn't work either right here below you can see TP for nano 03 which means you're working remotely on another server how do you exit this pretty simple just type in exit you're gone nothing more to it very simple not just to show you that I'm back on my own computer I'll do ipconfig again I know it's a simple demo but we've got 240 again and I'm going to use a PowerShell direct session now that means i can connect to that virtual machine without having network the only thing i need to have is a virtual machine that runs at least Windows 10 or one of the TPS of Windows Server and the host machine where you're running out has to be Windows 10 or a Server 2016 as well you need to run powershell also as an administrator took me a while to figure that one out but the only thing then you need to do is enter PS session the name of the virtual machine as it is known in your hyper-v manager now why do I want to show you that because you can see that the name of my virtual machine is TP for dash nano dash 0 tree but the real name of the server it's without the first dash we're going to run this one again it's going to ask you for credentials hope I type the right password and you're going to see exactly the same thing it's going to connect it's going to scan the modules and it will come back okay and after it's done we will be able to do to show you ipconfig again to see here we go we've got loading it takes a bit longer and I should be back on my nano server as well again pretty simple not much to it you're going to exit again now quickly let's look at a PowerShell and sim how you going to do it what I do is I create a variable dollar sim not really inventive but follow me here you create a new sim session you're going to give it a credential and you're going to connect to computer name that's it nothing more to it very simple we run it and we've got a sim session right and then next thing what you can do is get sim instance the name of the same instance and then run whatever you want to do in this case I'm looking for the class name computer system and giving me the list so let me just show you that and then you get a lot of information about that server and you can see that right here what is the name what is the class it's an x64-based pc what is my OEM string array which by the way to to be filed by msft so you can actually see it is a better it's a virtual machine and sew of some data nothing fancy but you can run processes queries as well for example now with this one actually look what type of processes are running on that server and you can see it's way less then you normally would have on a true servant some more quickly going to change my codepage here and then I can actually run winner s and you can see I can run any IP complex remotely or I can use whatever other comments I need to do and some of the applications were close like is your developer is probably going to do it like this and push their comments to change is true this but I said also that you can use your normal console so let's go to server manager I've got my service right here TP for nano 0 3 4 5 & 6 which is my cluster do note that you see data retrieval errors that doesn't mean I did something wrong or you did something wrong when you use it the thing is when you're deploying it as of today not everything is implemented yet one of the things that isn't complete is some of the events that you would like to see in event viewer they're not there they didn't build that XML file yet for nano another thing that doesn't work for now is the best practice in a lot of analyzer it will just give you an error saying I try to do BPA but there's no information why is that they just didn't do it yet I hope they will do it by GA but as of today it isn't and then you can just continue like you normally would work you want to see you want to see the failover cluster manner or hyper-v manager or something like that and I already open them in the interest of time this is my failover cluster manager you see three notes and I can simply say just the way I used to work with server add a note next let's be extremely lazy here and do it like this at my node 6 it's verifying really looking into issues here works going to go next do not run the validation wizard if you're using nano today it doesn't work it's not even supported it might even do something extremely bad yes they will fix that by db5 orgy a but today nope I do not require support don't run it you do next add the store to the cluster that's all good I'm certainly not a cluster manager administrator but at least now everything is added and it's very simple and i'll leave it that for here for a second and at the same time show you something else which was here hyper-v management works as well what i did is i literally connected to one of my nano hyper-v service it's nested so i won't be able to start it but you can deploy here and see all of those things as well so pretty easy to do you can still use your day-to-day consoles right and last but not least where did I open it here we go no it looks like I didn't open it yet so let me go back right here go to my tools because when you look at it and right click on one of these nanos everything you want to say computer manager it's grayed out it doesn't work because they say it doesn't work yet actually does work just go to tools computer management here we go and say connect to another computer again I'm going to be the lazy guy here check my name's take my nano tree okay not everything will be visible but there will be no issues in going to your services or going to your event viewer but again with the note that not everything is implemented yet so if you want to see the events from a virtualization when it's a hyper-v host you won't see them because they didn't implement that XML yet but you know it's there for the future and will work now let's quickly see that was a success and now as I said in the failover cluster manager you can easily see that it's added there as well all right where is this here we go some more let's look a bit about the troubleshooting techniques because things will go wrong actually the most troubleshooting techniques you know today are already implemented so you have a possibility to use setup and boot event log now this is something new in 2016 which will work for every server but for nano as well what you're going to do is you're going to deploy an ET w collector somewhere in your environment and he will be responsible for collecting messages from all of your servers during the setup and the boot there they are etl files we all love those very difficult to read but those of you who like it and can troubleshoot it and have the viewers for it you can use those when you're booting and when you're selling the setup in case something goes wrong so that is a very nice that that we use by nano as well it's new I said it it's also push that server component that new role that you can deploy on a full server unfortunately only for the moment will not ask to the service give me messages it's going to be the service themselves that are going to push them to that server right there's a way to do kernel debugging there are four methods you can use serial port are there still people doing that actually but you have the possibility you can do it over tcp/ip with the risk of course if you don't have an IP there won't be any debugging you can use over firewire or USB what I see now in the field is most people who are using this will do it over USB because most servers somewhere have a USB port so that works is well now if you're planning to ever use it make sure you activate it when you deploy your image because it won't be there automatically and I know that in the beginning I didn't do it and then you got an issue and say hey I want to do kernel debugging ah but I never enabled it and then you need to edit it the image and change it and well you can imagine how much pain that was how do you do it just again adding a parameter to that studio scripts and in this case you see the examples of cereal net firewire which is 1394 or USB okay very simple not that difficult just do it up front so it's ready when you need it emergency management service does work as well normally this is actually enabled on every server by default not in nano server so this is again something you need to say enable EMS which port you're going to use and what about rate will be okay a bit more and I'll show you that as well those of you who still like dizzam it's not a problem you can use it they made the script so so you don't need it anymore but we know a lot of people that loved ism that love on a attend xml so you can still use it and sometimes such as dns package and is even if you added it to that script and then you start the virtual machine it doesn't mean it's actually running now if you follow me you know that at my kressler about in a week it's now in creative hands i will release a book ah well a book it's only 65 pages was not really a book that goes into detail of all of these packages what you need to do but remember if you deployed dns and that's probably the most important one that you actually then have to go in to remote powershell powershell direct whatever and then enable the rule will that change in the next versions probably maybe we don't know that yet but as of today you need to do this is exactly the same thing for hyper-v will it support everything that we have on the full server today no a replica isn't supported yet remote effects isn't supported and actually think because it's a headless server remote effects will never be supported because that means they can take out the graphical stuff out of the server to keep it small and as I already said clustering no validation tests now let's jump back where are we here we go and show you a few things so if you want to use dizzam again very simple if you want to add an eye a sammich just create a directory and those of you notice them see that i called ism I mount it and then the only two things i need to do is adding some packages how do you do it actually kind of the same way as you do it with a script but don't forget that you need to add the cap and very important and i made those mistakes as well if you do it through dizzam you also need to add the language package so it kind of looks like you're adding two packages but you've got the normal package and you need to add the language package as well so take that into consideration and then of course do a commit so that works now let's see if I can show you this extra markup five minutes so for setup complete everybody knows what setup complete is you put it in a server the first time at boots it will execute everything inside that file and then afterwards it's totally ignored you can add things in there as well and that will actually be executed how do you do it you go to that nano server virtual machine you mount the image with dizzam and then you need to go to Windows setup there is a possibility the first time that you actually need to create them because they won't be there set up in the scripts and then you copy that CMD file right over there how does a CMD file looks like extremely ugly to be honest where do I have it here we go this is it powershell dot actually dash comments import module and so on and so on and so on luckily you only have to create this once but keep that in mind it's going to be a long line with a lot of dashes but then you can use this for example to change the IP if you want to or add some other things all depending on your needs and then finally for the unattended exactly the same thing this is an example but how are you going to put it into that server you're going to go this time again you're going to go to a CD windows CD Panther and then in there you add an attempt xml and it will run also so not really that difficult maybe the last thing I quickly want to show you is that DNS least if I find it which I can't show you any more since I already did it but this is the way we're going to do it we're entering through ps2 powershell type in the name and so on and then we're going to enable that feature and you know import the module of DNS server again this isn't done up front so the moment you want to use DNS comments inside the machine yes you can do to remotely but if you want to use it in the machine you actually have to the first time import it as well so keep those things in mind and then you're just going to quickly check whether the service is running or not and that's about it so you probably recognize this already from before two minutes we're importing the module I always use for both why do I do it to see what is important you don't have to but you can see it's actually loading now all of the functions and the comment lats and so on so I know what is happening I but again that is up to you whether you use it or not and then I should quickly just run get service dns to make sure that it's actually running and you can see now my service dns is running all right two minutes left so oops it's all right good oh I'm actually finished I didn't know that to conclude nano server it is still on TP for should you use it in production please no don't do it yet however start working with it today it's going to be a very interesting option we're seeing more and more packages and my dream is and I hope Microsoft will listen to my dream I doubt it but let's hope is that you will be able to get your core infrastructure all on nano server I'm thinking Active Directory I'm thinking dns dhcp taking hyper-v hose clustering single scale out file servers all of your favorite core things could be running also which means that you probably will be able to run a lot of them on a single host and save some money plus nobody will care if you run a second one or a third one because it doesn't use that money resources why do we say start using it now because GA probably somewhere september-october i would say when GA will be there well when is ignite probably somewhere around the timing but that means you're prepared and you can start using it as well and the last reason why I think you should start playing with now if you got custom-made solutions like web portals and those kind of things they will run on that type of server as well but that means your developers have to start rethink how they're going to deploy it already today and last but not least if you want to have certain third-party vendors their solutions running on it you should start pushing them as well and with that are there any questions left the problem is I'm not one hundred percent sure please shout because I can't see how few with the lights no questions all right again last remark if you want to learn more about it and you want to see a lot more demos and a lot more powershell nice stuff room 5 immediately after the session two great speakers that will even go in depth that will start playing with Azure and do some really really funky stuff and with that and the rest of the day hopefully I'll see you this afternoon in one of my other sessions and thank you very much 