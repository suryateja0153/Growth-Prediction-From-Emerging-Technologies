 okay welcome everybody um this is an excellent presentation kind of a really there's so much to the NetScaler that it's hard to cover a lot in one hour I'll try to do my best to cover at least give you a good feel for what it can do what it is and you know what it can do for you why you would we use it stuff like that so just my background I created a YouTube channel called that skill trainer and it's linked to my website and 90 X info and I'm a master trainer for the NetScaler with over 200,000 views and a thousand subscribers off of to get skill channels second Nets field channels is controlled by alter comm which is one of the partners Citrix partners I also have an estimator CCA esculent certified net school administrator and also a Ness Citrix certified Sales Professional just kind of gave me my background so what things we're going to cover today are the models physics physical and there's virtual NetScaler appliances so we're going to talk about that also cover some of the use cases the primary use case is why you would use the NetScaler what is what it's good for also the deployment topologies so how you can deploy there's different many different ways to deploy cover those topologies pretty briefly and then I have a brief demo but I want to show you a little bit under the hood how it's working and maybe go through a little bit of configuration but not a whole lot we don't have a whole lot of time and then we'll I have it some some time for questions so the Neffs killer models there's obviously the MPX which is physical you know appliance which is the current current the model naming scheme there's the VPX which is the virtual appliance which runs on various virtualization or hypervisor platforms and there's the NetScaler s DX which is well get into what it is but it's basically a custom-built or purpose-built hypervisor for the NetScaler and we'll talk about that so the main differences between MPX and VPX besides physical and virtual obviously this performance the MPX is that purpose-built hardware appliance dedicated to doing web acceleration SSL offloading caching compression all these different things it's purposely built and there there are Asics Bob to support that so for instance there's this custom crypto ASIC that accelerates SSL connections which you so that's what you'd have on the MPX you would not have that on the VPX obviously if you run it in a virtual systems virtual server your own Hardware you're not gonna have dedicated hardware for that when when to use which so you know that the appliances the physical appliances basically think about if you're in a real heavy-duty production environment you're going to want to have the hardware appliances if you're in a lab or testing certainly the VPX is fine also there is a use case where if you really need highly CPU intensive workloads it's going to be more cost-effective for you to get say uh I don't know a dual eight core server so you've got 16 CPUs that can run CPU intensive let's say filtering on each pack because the NetScaler can do deep packet inspection so that that's one of these cases that's been brought about the SD exes I started to talk about the NetScaler SDX this is a purpose-built you know essentially think of it as a custom version of Citrix XenServer in a box but specifically built to host NetScaler VPX instances not partitions but instances so on this hardware appliance you can run multiple instances of the VPX and they don't have to be the same version so it's very great great very good for you if Europe in a collocation type business you can obviously support multiple users in this environment right with with a single appliance you can host multiple users each one is isolated memories isolated administration is isolated so you could very quickly and easily administer or spin up net scalars for very multiple clients or for multiple let's say multiple versions of the VPX let's say if you're doing a migration it'd be very easy to sit to have you know state version 10.5 versions and then also version 11 do your migration on an SD X so some of the use cases we kind of talked about it a little bit but look any web-based application that you want to have better performance on the net skill it can help and it and we'll talk about how it does it but server offload is one of the ways it helps it offloads the load on the server back-end servers and we'll see how that works SSL offloading one of those things so the server isn't having to generate the the key key pairs right and do encryption decryption that's offloaded onto the net scaler so that's one way where you're offloading the load also a thing called multiplexing where the NetScaler opens up a few connections to the back-end servers and multiplex does that that means it uses one connection for multiple clients so it also lowers the memory requirement CPU requirements of the server we can talk about compression that still it could do compression for you so that obviously lessens the load on the CPU of a server and also caching which lessens to load less bytes that have to be sent from the back-end server also if you want to prove the security of your web infrastructure and if you're just sitting out there you know maybe you have a everybody's gonna have a layer 3 layer 4 firewall but if you need web application security or layer 7 security deep packet inspection to stop you know sequel injection to stop those kind of oo ops attacks the NetScaler is going to be a great for doing that so sir SSL offload we kind of mentioned this allows you to reduce the server load you can have higher throughput you can also have central management your sexual certificate management all your certificates now can be centrally managed on the NetScaler they don't have to be managed on each individual server so those are some of the benefits of having the necessary they're doing your SSL kind of mentioned compression right faster response because you have less bytes on the wire and better response for low bandwidth clients and these are all policy rule-based so you can you can specify what get gets compressed even you can even specify who who it gets compressed for if you wanted to caching again caching reduces server load because the content is on the NetScaler you don't have to go to the back-end web server to get that content it can be served very fast very quickly right from the NetScaler and there's there's all kinds of things that the NetScaler can do like for instance if the website is down the NetScaler can can send out that message the website is down for redirect you can do all kinds of stuff at EC TCP session management this is one of the things that reduces the load to the backend you're going to also have faster response time and you have full traffic optimization and traffic to security features set in this so typical TCP connection without the net skill this is what the the wire looks like when you're talking directly to a server you know you have let's say the server sees 11 packets to send some daemon right open the connection send the data or close the connection but with the net together the NetScaler sits in between and kind of you can think of it as acting as a proxy in a way and it proxies that connection so really the NetScaler sees all 11 connections with the backend server only sees one it sees the get request and then the data gets sent from the server that needs to be sent so right there you're you're offloading this load to the backend now remember what I would give these kind of presentations one time I had HP in the audience I don't mean the day username pick on HP but and I was describing this and how the netscaler could say customers money they wouldn't have to buy new servers of course HP wanted to sell servers this jaw dropped because he was you know obviously incensed that I would tell people by met together and you don't have to buy more servers so let's look at some deployment topologies the easiest one to deploy is called one arm topology and this is kind of what it looks like you know you have your infrastructure your service here in the back end you have your net you can just drop a net scaler on the net on them on the network now the great thing about the 1-iron topology is it's there's no interference with your existing infrastructure you can put it on create a virtual IP which is where the client will connect to update DNS so that clients connect to the VIP the VIP and everything's fine but can can you see some problems with this one-armed topology well one of the one of the problems is that look at those back-end servers potentially are still exposed to the Internet so in this picture they're shown as being on this private subnet so maybe they're not directly exposed but if they were directly exposed and you just drop in at NetScaler if I know the IP of the backend servers I can get to him still right that's number one number two all the traffic in and out is going on that one network interface now certainly you can use aggregate Network aggregation aggregate the links but it's all coming in and out of that same connection so that's maybe a problem but the cool thing is you can just drop it in any network you're not gonna interfere with anything else and only what you configure will be handled by the NetScaler probably the better and the more secure topology is the two-armed apology where the NetScaler sits in between lack of firewall or is up like a proxy server and it literally proxies on every connection all of the client connections are terminated at the NetScaler on that virtual IP which would you create baby and all the backend traffic is seen coming from what's known as a subnet IP or a snip we'll talk about that a little more detail so this is the better architecture but obviously the one of the one of the issues with this you know it's gonna require some better planning right you can't just drop this in there you're gonna terminate all traffic to your back in so you have to obviously plan this and put it in through a in a maintenance window or what-have-you but it's it's very easy to do another way look at the two arm topologies like this you know on the left there you see user requests coming in terminated at the NetScaler the NetScaler number two takes that user request stalk sends it to the back-end receives the response and then can we respond to the to the to the client so as a reminder the NetScaler always proxies all connections to the backend web servers a couple other topologies obviously high availability and clustering that's traditionally NetScaler only used a chain high veil ability and their argument was you want to size the Nets together to handle one hundred percent of your traffic such that if there was a problem and the primary unit went down the backup or secondary as we call it would be able to handle all the load although traffic the problem of course is that you have 50% idle resources right now the clustering means that okay hundred percent of my my appliances are being utilized right that may sound great but what's the downside if you have one failure let's say you're at a hunter percent capacity with two two devices in in a cluster if one fails you just lost 50% of your bandwidth if 50% of your throughput right so potentially 50% of your customers are dropped but the good thing with the clusters you just add a third or fourth into the cluster right so n plus one is usually the typical terminology for handling you know whatever you need plus one so there's always that balance so maybe you're using 50% across three of them if you lose 190 rats 75 across to so that's the good thing about clustering but you know without with all of these typologies errs there's pluses and minuses but it's gonna point them out the final topology I like to talk about is called global server load balancing GS lb and really what it is is just a data to data centers and a disaster recovery so you can have multiple data centers but let's say in this case there's two data centers geographically dispersed with redundant content at both sites and the Nets killers will talk to each other over a protocol called MIT which is metric exchange protocol that's a proprietary Citrix protocol adjust the Nets skills are just talking to each other I don't know why the screen keeps going off but um the net skills just talk to each other and understand where the better response is so that when a client connects them to one of these sensors it can either stay there because it's got the better response or it rerouted to the closer data center so so far on this to summarize we talked about one on two on high availability clustering and GSLV any questions so far okay so let's get into the demo but before we start I just want to talk about some of the requirements that you might need think about if you want to do this in your in your home lab or in your lab or bring it into your production environment whatever and test it out it's obviously you're gonna need the Nets killer VPX probably you're not gonna get an MP X you're not gonna get the physical hard work it's very easy to go to Citrix com sign up for free get yourself a download either a VMware version aka vm version or a XenServer such a server version of the appliance the virtual appliance and get a 90-day trial license from citrix to test it out that on the on your infrastructure side you're going to definitely three minimum of three IP addresses you're gonna need a NS IP which is basically the NetScaler management IP this is the IP address that you're going to use to manage the appliance to utilize it you're gonna create a virtual IP or a VIP this is we're client traffic is going to terminate right so instead of going directly to the server they're going to terminate on the NetScaler on a VIP of the virtual IP and they need to sub that IP this is the IP address on the net scaler that talks to the backend traffic that talks to the backend so this is the IP address that the server will see um I don't know what I want to mention there the sub that IP there's a particular type of sub that ITP known as a map type II or a myth Citrix an 11 point all of the firmware seems to have dropped that terminology basically a mint is just a back-end IP that's on the same subnet as the NSIP but so it's especially it's a type of sub that IP so this is that's not sure this is my this is my lab infrastructure its virtual I have a H a pair of two net scalars and my NSIP or the administrative IP address for my net scalars is 10.0 to that 101 and 102 I created a virtual IP which is where the clients are gonna connect to at 2.15 that's my virtual IP and for the SSL VPN demo I've created the SSL VPN formerly known as on NetScaler gateway at 10.0 that to dot 110 and also the backend the snip is on a different subnet so you can see it's completely isolated it's on a 192 dot 168 by 5.2 subnet I've got three servers red green and blue and they're at one ninety two dot one sixty eight dot five 20 21 and 22 that's my backhand I do have an internal client that's on this network it's a Windows machine it's at 10:02 dot 128 we may or may not need to use it but it just well let you know it's there okay so this is I'm logged in to the web interface the GUI and in this is version 11.0 the two things have changed but anyway it's very simple to install this thing I'm not going to go through that that's not what this is about it's gonna kind of show you what I've got going on here so in system if you click on the system licenses you can see I've got licensing green green checkmarks for pretty much everything this is the platinum platinum edition of the license I believe they call it they may have changed the name if we looked at high availability I have an H a P R here the primary is known as NS 2 and it's at 1 102 102 the the one of his primary can switch dependent upon which order you boot them in you can Boop the second which if you want one to be the secondary you can boot it up first and then in the command lines you can specify state secondary boot the primary then the primary will connect to the secondary which is forced to stay secondary and then you can force one to be primary if you want to you can also failover you know force the failover and for synchronization that kind of stuff so I just want to show that in the high availability tab there now if we go close that up if we go to traffic management that's where we find a load balancing this load balance is just one of the features that we're talking about here and the virtual server that I created is this one at 105 to 105 now so if I connect to that 10.2 sorry 10.0 to 105 I'm connecting to the back end three there's three white red web servers there now if i refresh you can see that I'm I'm cycling through maybe the green server didn't get started at least two of the three are up grief server didn't get started let's start it up the back end our one ninety two dot one six eight dot v dot twenty twenty-one or twenty-two it's uh yeah it's a little it's a lamp lamp distribution known as turnkey lamp yeah yeah yeah patchy all that kind stuff yeah okay so it's green is up now so if we cycle through shoots degree okay so you can see server one server-to-server three I'm cycling through right this is what you might call a round-robin but it's that this is not using round-robin it's using lease connection it's very similar to round-robin but what I want to specify tell you is that we're not limited to that if I go into the virtual server you can go to the home here Advanced Settings method what is the method and you can see its lease connection is a load balancing method right but if I I can change that to almost anything that I want right as far as how to I'll want to load balance to the backend round-robin is one of them loose connection is probably better but certainly if I wanted to go based on destination or source IP hash there's a whole host of things that I could do but that's just how to load balance the backend but really what's more important is persistence right once I you know for a for a generic website that just has simple stuff on it you don't make maybe you don't care what website you go to because the contents the same no matter where you go to but if you're talking about any kind of transactional website you want to be persistent that means sticky stickiness stay on that website and that's where we talked about persistence and you can easily do that in this in this V server that created this virtual IP go into persistence persistence right here you can see persistence is set for none but if I set a cookie let's say I set cookie insert that's um and I have a two-minute timeout if I make it zero to be forever but I just make it cookie insert now if I go back I'm currently on the green server now I'm on the red server I'm stuck on the red server now I'm persistent to the red server and that's what you want in in most cases you want to be able to load balance initially to the server that has the least number of connections and then be persistent on that server through the course of that transaction if that's what you need in most modern applications web application just want you wanted to be persistent on that server so that's just showing you low basic load balancing using lease connections and then persistence using a cookie to maintain that persistence on that particular server so the next thing I want to show you is if I go to well if I if I go to my Windows machine right here this is a Windows machine yeah it's 10.0 2.1 28 it has no connection to the private subnet a little 192 private subnet if I try to ping it 192.168 5.20 the red server it's gonna fail right there's no connection to it right so what I want to show you is how the SSL VPN can work now the SSL VPN this is the web server remember persistence persistence is set up still if i refresh on the sticks I'm sticking to that to that blue server that's where I got set it's sent to first but if I go to UM 10.0 to that 110 HTTP I will be redirected to HTTPS and the SSL VPN server ten desert are the two nuns 110 yeah okay so it's redirected me right it's forcing me to go HTTP here's the certificate it is a self signed certificate so there is a significant issue I created a test account a local with known as a local user on the NetScaler but you can certainly integrate this into your LDAP or your radius authentication stuff right so you don't have to do anything new or different now if I I'm logged into this SSL VPN or it's actually TSL 1.1 but we still refer to it as the SSL VPN now because this is a self-signed certificate the Nets gonna plug in which is available for OS X Windows and I think Linux I'm not hundred percent sure in the Linux one but it's not gonna it's not gonna work because I haven't copied over the the intermediate service or the self self signed certificate but I can do client less access now if I do client less access it's just basically a web-based client accessing the SSL VPN and we'll see what we can do now so it is a little bit limited in what it can do but it's it's still very powerful so for instance before as you saw I'm I'm on a ten dot whatever network I have no access to the private 192 but if I connect to the VPN this red server here I've set it up set up a link to it this SSL VPN is going to pass me through to the red server and there it is passed me through the red server so um let me see if I can go back oh yeah I want to go to the sslvpn so so that SSL VPN it's bridging that connection right allowing me to go through in previous versions of the NetScaler firmware even if you had a self signed certificate the client would run and then you would have full access to your back in or whatever access that you would want to use and I've done that in the past it's pretty nice so you just say basically have to get it real sort of to get more copy their certificates over to your clients so that it accepts this as accepts the self sign one now I want to connect you to one of the pages on the back end here has a bunch of credit card numbers and I'm going to move the demo over to SSL now it's one of the security features were just known as the Web Application Firewall so it's a layer seven firewall that is one of the features in the netscaler and you know it can do all kinds of things like help you protect against sequel injection help you protect against buffer overflows help you protect against you know really all the hola SPEs ten olaf sixteen whatever different security issues helps on that and one of them is data protection data leakage let's sing whatever whatever your company is you've got some people that's a your bank you have credit card numbers we have account numbers that are on your systems right if someone were to hack in to let's say somehow they do hack in and they try to copy credit card numbers out well they would just if they got in they're gonna get your numbers right but if you use an S killer and this especially this is not a percent you know seamless to the user unknown to the user it can block the stuff out and I'll show you how that does that if I go to so let's leave this window open let's create a new window a new tab here I am going to the through the NetScaler so through the virtual IP 10.0 that five dot 105 slash test CC dot HTML that's the where the location is the NetScaler has x out those you know it went when it read replies with the data it recognized what what numbers or credit card numbers in an X amount this Australian bank card was not recognized as American Express Diners Club MasterCard or Visa so it left it alone and some of these other numbers were just left alone because they were not recognized as to be protected and we can see that if you look in the look into the NetScaler look into the configuration 400 security Application Firewall profiles this is the profile created it's called I just call it give it a name Web Application Firewall RGB for the for the RGB servers if I get into it should be edited you can see what I what I activated here is just a list of the checks that you can have so I will go through go through all these but start URL is a way to force a user to go to the start page you can't what's known as deep deep serve like if you know of the long URL whatever you can't it blocked you from doing that it blocked you from going deep into the website forces you to start on the start URL and it will learn that it will learn all the deep connections in your website and fortune you know cookie consistency book buffer overflow credit card this is what we are dealing with right here and as you can see when I talked about these are the cards that are it is protecting american express diners discover JCB MasterCard and Visa and that and I told it to exit out see this X out you can block it you can tell its blocking which would block that site block that page from me being returned it'll block any page that has a credit card number on it but I decided to do X out which X's out everything but the last four digits and it doesn't automatically so this is a security enhancement that you could drop into your your network right without changing any code without messing with anybody just drop it in there and you basically are saying I'm filtering for any data leaving my infrastructure that if it has a credit card in it and of course it could be a pencil number Social Security number whatever it is you can you can you can specify what that what that number sequence looks like and you can exit out or block it or whatever so that's just that's a real simple demonstration of that what else did I want to show you oh when you create these security profiles you need to find it either globally which means that all traffic will be affected by that or you can find it specifically to a V server so in this case I found it only to this be server this RGB V server this this load-balancing D server that sits in front of the three are in the RGB in my in my example there so any questions so far in summary or in conclusion we talked about the models the various models of the net scalar we talked about some use cases talked about the deployment topologies how you can deploy the net scalar I gave you this a very very quick demo I mean obviously you know the net scalar training takes five days the the street price of the list price is five thousand dollars so that's it there's a lot to cover I'm offering the course in three days virtual and a lot less so stay tuned for that information but yeah so are there any other questions based upon what you saw any questions maybe you might want to use it or think about using it to play with it just have some fun with it check it out it's very I don't over complicate things it is a very complex appliance a very complex virtual machine but if you take it in baby steps and on my channel and on my website and 90 X doc info I break it down into bite-sized pieces you know how to install it how to set up a load balancing server how to do SSL VPN I break it all up into little bite-sized pieces so that it's much easier to to handle so question of the competitors be typing f5f5f5 yeah five yeah in this region that five is very actually pretty strong but in pretty much the rest of the world Citrix is dominating now I don't know you know Gartner Gartner surveys I mean I haven't seen 2015 but in 2014 Gardner had f5 just a little bit ahead and a little bit to the right of citrix netscaler but they're both in the upper right hand quadrant sort of in the middle there and you know Citrix probably is neck-and-neck with f5 but look Gardner's just that's just one person one company's opinion right you know if you look at a lot of the metrics and there's been a lot of bake-offs between f5 and Citrix Citrix tends to perform a lot better especially the more complicated the traffic is just the way it's designed the weights architected it seems to be a much faster architecture but I haven't tested f5 myself certainly top 5 wants to hire me test it out you know I'll be happy to do that but yeah that's those are the that's the biggest competitor and one important note is that Cisco Cisco is end of lie using their their appliance their their you know web balance whatever IDs their application delivery system and they've partnered up with Citrix to take over that business so that's actually um you know very interesting that Cisco went with Citrix and not f5 to do that so I don't know what you know obviously there's you know I don't know that they've ever worked before in the past but maybe that's a a positive reference you know for the probe for the appliance any other questions alright thank you for coming 