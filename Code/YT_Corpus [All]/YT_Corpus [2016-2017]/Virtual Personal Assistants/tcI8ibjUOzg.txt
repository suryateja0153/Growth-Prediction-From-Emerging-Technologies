 hello my name is Alexa I can play music answer questions get the news and weather and create to-do lists and much more hello and welcome to a Ralphy pie tutorial by me the raspberry pie guy in this video I'm going to show you how to turn your Rasta pie into your very own artificially intelligent personal assistant by the end of this tutorial you'll have your own voice interactive AI that you'll be able to ask nearly anything you can imagine to perform this task will be using Amazon's cloud-based voice recognition and information service Alexa this essentially turns your Raspberry Pi into an Amazon echo for those of you who aren't aware the Amazon echo is a state of the art American only $180 tube that you can talk to by using a Rossy play instead of an echo you can utilize Amazon's high-tech features in not just America and for a significantly lower price this is based off of the work of Sam machen but I've modified and changed the Python code considerably to work with a much more friendly sense hat add-on so your Amazon echo PI will have some great visual feedback and be a lot easier to use without further ado here's what you need to turn your Rossy pie into the ultimate AI firstly you'll of course need a Raspberry Pi in this tutorial I'll be using the new Pi 3 but this should be compatible with every single PI that supports the sense hat this includes the B plus a plus PI 2 3 and even the Raspberry Pi 0 the Alexa voice service is cloud-based and so your play will need to be connected to the internet also ensure that you have the very latest version of raspbian installed on your Raspberry Pi available from Raspberry Pi dot org /downloads secondly you'll need an official Ralphy PI sense hat as I've covered in the earlier videos the sense hat is a great multifunctional Raspberry Pi add-on designed by the foundation that has a whole host of features including an accelerometer humidity sensor etc etc etc most notably and what we are interested in is the joystick on the sense hat as an input trigger for our artificial intelligence and also the sick for RGB LEDs for some nice pretty visual feedback the real Amazon echo is always listening and consequently when you say Alexa it is triggered and listens to your request for third-party devices this activation by voice is not permitted in the terms and conditions and so for this tutorial we're going to make the AI listen to us by pressing and holding the joystick of the sense hat despite being difficult for me to program I found this to be the easiest and most convenient way of interacting with a Ralphy pi personal assistant find a link to where you can grab a sense hat from in the description below next you'll need a USB microphone input of some kind as the Ralphy pipe does not have one on board and a lexer of course responds to voice commands this can be any USB microphone you like but ioad advise trying to find one that does not require strange drivers and is just plug and play I shall be using this one from Amazon that cost me around ten or fifteen pounds you can find links in the description to this microphone and suggested other ones alternatively if you do not have a microphone then a USB webcam should work as a microphone input to Linux is quite good at Auto detecting microphones but if you encounter issues later then check out the FAQ and troubleshooting section that I've created links again can be found below finally Alexa will speak to you and so you will need to connect your Raspberry Pi to an output speaker of some kind I would recommend plugging in an external speaker like this one into the PI's 3.5 millimeter audio jack most speakers like this are rechargeable but you can keep them charged by plugging a USB charging cable into one of the PI's USB ports my installation code will automatically use the 3.5 millimeter audio output but this is very easy to change if you are using the HDMI audio on your television for example just take a look at that troubleshooting section below a 3.5 millimeter speaker can be picked up for around ten pounds on Amazon and that is all you need to create your own rally by artificially intelligent personal assistant as you can see this method is significantly cheaper than Amazon's own offering with the ability to modify as you wish before we get to the software first you'll need to hook up everything Raspberry Pi place the sense hat on to the GPIO pins and ensure that it is firmly in place next connect your speaker to the 3.5 millimeter audio jack and finally plug your USB microphone into one of the PI's USB ports now power up your rally PI and log in before you set up the stuff on the Raspberry Pi you'll need to create an Amazon developers account I'd recommend doing this on a separate computer and then communicating with your PI over SSH as later on in the process you'll need to copy and paste large keys and strings of text open up a web browser and navigate to developer Damas on comm you should be greeted by a page such as this now click on sign in slash make an account and either sign in to your Amazon account or quickly create one during this registration process you'll need to fill in some basic details about yourself accept some terms and conditions and then answer no to both questions asking you whether you are going to monetize anything to do with Amazon after this you'll be at the Amazon developers console next we're going to click Alexa and then get started with the Alexa voice service once here you'll need to register a product type and do that by clicking this button and make sure you register a device not an application you'll then be presented by a further process that looks like this now what are we doing here we're essentially telling Amazon that we're making a new Alexa voice service device so give that device a name in the type ID and then you can just duplicate that in the display name make sure you pay attention to how you spell and capitalize this name we will be using it later I just called mine Raspberry Pi AI now click Next you will need to set up a new security profile for your Alexa voice service device this contains unique information to you that is probably not the best to share and also we'll be using this info later on so here create a new security profile and give that a name I would recommend calling it and describing it the same as your Alexa device name so for me it is Ralphy PI AI now click next you should see that things called security profile IDs and client IDs have been generated in this space here as I mentioned before these are unique to you and we will be using them when setting up a lexer on the Rossi PI so best to keep this page open before you do that however you'll just need to modify some of these web settings so click here and then press edit firstly we will need to change the allowed origins field so click add another and then type HTTP colon forward slash forward slash localhost colon 5,000 after that click add another again and here we'll need to put a PI's IP address this can be found by going to your PI and typing if config and hitting enter your IP should be listed in the results of that command here once you have that go back to Amazon and in that box type HTTP colon forward slash forward slash your IP : 5,000 so for example it might be 192.168.1.2 o 5 colon 5,000 these settings just tell Amazon that the device at this IP address is allowed to communicate with the Alexa voice service before we move on we'll also need to change the field called allowed returned URLs do this by clicking add another and then do exactly the same as before however with one crucial difference you must add a forward slash code onto the end of these additions so for the first one type HTTP colon forward slash forward slash localhost colon 5,000 forward slash code and for the other one type HTTP colon forward slash forward slash your IP : 5,000 full slash code in the end it should look something like this once you've been short that is correct click Next now all you need to do is fill in this miscellaneous information for Amazon for the category option just say that it is an other product describe it as whatever you've named yours so for me it is raspberry pi AI then finally just say that you're expected timeline for commercialization is to be decided and that you're planning to commercialize just one device you don't have to worry about any of this process you're just jumping through hoops so that you can use Amazon's Alexa service now that a new device has been created you should be at the registered product screen simply click Edit again and then click security profile this is that unique identification and security information we had earlier keep this up because we'll be using this in a second now it is time to set up the code on the Roasterie pi so ensure that your pliers on everything is connected and that you're in the terminal ready to type commands firstly we would need to download all of the code that we will be using as I mentioned before I have heavily modified and improved the baseline stuff to work with the sense at and you can download all of the software from my github repository with the command git clone HTTP colon forward slash forward slash github comm forward slash the - raspberry - pi - guy pulled slash artificial - intelligence - pi if you've missed that command it's on the screen right now and it will also be in the description below list the contents of the current directory you're in with the command LS and you should see that a new folder has been created that houses all of the code change into this directory with the command CD artificial intelligence PI if you list this folders contents you'll see a wide array of different programs before we run a lexer and get our raspberry pi personal assistant working we must first set up the software and install all of the necessary dependencies that the code requires you can do this very easily with the command sudo dot ford slash setup SH and then press Enter at first they should start to download all of the required packages and take perhaps five minutes after all the software's downloaded the setup process will move to the next stage and require some input firstly it will ask you to enter your product ID this is what you called your Alexa voice service device and it is critical that you input this letter for letter with the correct catalyzation so for me it was raspberry pi AI and then after that just press Enter next you have to enter the security profile description this is the top line of your security profile but if you followed my recommendation it should be the same as your product ID so for me it is raspberry pi AI the next several prompts require some copy and pasting firstly you need to copy and paste this field here the security profile ID input that into the installer when it asks for it after this do the same and copy and paste your client ID after the setup file ask for that finally repeat and copy your client secret over to your PI this should be the last thing that you need to copy and paste once you've done all of that press enter and you should now see lines of text like this saying that an engine bus has started for the next stage of the process go back to your web browser and then simply type your PI's IP address followed by colon and 5,000 just like this if everything has gone correctly you should be greeted by a webpage such as this saying that you need to sign in to your product using your Amazon account before you can use it do this by just typing your password and hitting Enter then agree to the terms and conditions given finally a large refresh token should be generated this is automatically added to the configuration so you will not need to make a note of it you can now close the tab and head back to your PI now that the process is finished you have successfully set up your own raspberry pi personal assistant ai you can now exit the setup script by holding ctrl + C you'll notice the last stage of that installation script is to set the audio output device as the 3.5 millimeter speaker as I said before if you want to use HDMI check out the FAQ below after that fairly long and arduous Amazon process you can now start to talk to your Raspberry Pi in the hope that it will talk back to you to start Alexa ensure the pi is connected to the Internet and type Python main dot py and hit enter you should see a welcome to Alexa and a confirmation that everything is in order then she will say hello to you hello so how does one use this high-tech personal assistant from the future simply go to your PI and press and hold the small joystick of the sense app down you should see that the RGB LED is burst to life and react to your voice this tells you that Alexa is listening to a question of query so be polite and ask her something once you finish your question just let go of the button for example let's ask Alexa what is the weather going to be like tomorrow here's the forecast for tomorrow in Cambridge United Kingdom look for showers with a high of 60 and a low of 54 you should see a question mark appear on those RGB LEDs this tells you that our lexer is thinking and when she's made up her mind on the answer to a question this will change an exclamation mark as she serves your request overall Amazon has a very low latency service and so even the most complex questions will only take a few moments before being answered for example who were the presents when Barack Obama was a teenager Ronald Reagan Richard Nixon Jimmy Carter and Gerald Ford we're the u.s. presidents when Barack Obama was a teenager you can quit your program by holding ctrl and C and that will stop your artificial intelligence I won't delve into the program as it is fairly complex but essentially what is happening is when you press the button on the sense hat the loudness of your voice is represented on the RGB matrix and a recording is sent off to Allison's cloud for voice recognition processing once that happens another recording is sent back from Amazon containing an Alexis answer this is then relayed to you the user this tutorial has had many steps and so congratulations for creating your own Ron Street Pai I have commented all of the code and please do look through the directory to see what is happening and what I've included there whilst tricky this has been a great project to do I'd like to thank my good friend Simon bill for his Python expertise what things are you going to be talking to you I'll see piña I about let me know in the comments below if you are having any issues or getting strange errors then either check the FAQ of my github there is a link below or scan through the code and see if there is a comment there for your particular problem that's all for today's tutorial and I hope that you've enjoyed turning your browser by in your very own especially intelligent personal assistant curse you've just some Python code and amazon's cloud service please don't forget to Like subscribe or share and until next time bye 