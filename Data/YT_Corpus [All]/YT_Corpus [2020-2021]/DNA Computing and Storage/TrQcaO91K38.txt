 [Music] today we're presenting on real-time streaming applications on GCP so I'm going to present with my colleague at Kailash Singh so we're both from Sydney from the JPAC professional services team and I clash is the lead strategic cloud engineer and I am the I'm a cloud consultant in data and analytics so we work on this stuff every day so hopefully we're will share a little bit of what we've learnt with you so those three things we're going to cover the first is why Google cloud then I'll talk about what we have to offer our Google cloud and the different Suites of product like the different products that are available to do streaming real-time applications and then I'll go through how you would do it and then after that we've got a demo and there's a chance to win we have some three prizes so we're gonna get some interactivity going and at that point I'm gonna ask you to pull out your phones so if everyone wants to get your internet connection ready that would be good so let's start with why so big data is in our DNA at Google we have over eight products with over so we have eight products with over 1 billion users so a lot of the products that were making available through to you to do these types of problems to solve these problems are things that we use internally and that we've made available to the community so this was started in 2002 where we've been innovating on lots of different products so you might have heard of big table or spanner and a lot of these innovations were made available to the open source community and so what we're now doing is then bringing those back to Google platform and open and making them available as services as managed services to you so things like bigquery and pub/sub and bigtable are all services that we provide so our focus for the customer is to focus on insights so rather than you having to worry about the infrastructure letting you focus on what you want to do with the data and get the insights out is our key focus another is looking at streaming analytics so being able to get real-time business insights and make a business more responsive so if you can get insights in in real time then you can also react in real time and then we make that easier to do using machine learning so what you can do is once you've got your data coming in real time a player machine learning algorithm on top of it and actually make it actionable automatically without you having to manually intervene so I'll talk about what next so what's available on Google cloud platform to do streaming analytics and streaming up us so we we focus on four stages of a data platform so the first is the ability to ingest at any scale so what we're going to show you today is actually not that we can do streaming but that we can do it at scale so we're gonna have the ability to adjust thousands and millions of messages the second is to process and transform the data reliably the third is to store seamlessly and the fourth is to analyze learn and validate I'm sorry and visualize with speed so we're gonna go through each one of these and I'm going to talk to you all the Google Club platform products that enable each of these so that brings me to the hell so this is a typical data pipeline that I'm gonna walk through and we have lots of different ways of doing things so this is just sort of one way of facing things together but it's quite a common architecture so we start with streaming events coming in like from IOT devices or in this case we're actually gonna have mobile device data that's coming in and that will be read to a cloud sorry written to a cloud pub/sub topic imma get we can read from that cloud pub/sub topic as well so cloud pub/sub is a service fully managed asynchronous messaging platform so basically it's pretty straightforward you just publish the top you can read from it the second is we can also ingest batch data so you can actually do both of those at the same time so data flow which is going to be the next step is gonna is going to be able to handle both those types of streams of data sources story and that is going to be read into cloud storage which is performing unified and cost-effective object storage bucket for a binary and blob data so then it's going to go into cloud dataflow the data flow has connectors to pub/sub and to cloud storage and it's going to be able to process our data and apply transformations as we need them to to Batchelor stream so one interesting thing about dataflow is that we can't handle real-time streaming data so we can apply things something you do differently to batch data is you apply things like windowing functions where you take an aggregate of the data that's being right in and you can and you pass that downstream but we can also use other products like data proc so if you have already got sparkin who new jobs you can migrate them over to data proc and we can then from dataflow write it out to bigquery or BigTable so you can go to lots of different sources this is just an example so big careers our data warehousing solution and BigTable is our high-performance new sequel database to large workloads well and then we can apply machine learning on top of that so once the data is in a database we can pull it out or you can actually use it directly from data flow and then we have a lot of visualization options and different analytical tools so we can use cloud data lab which is a Jupiter notebooks type of environment you can use either third-party tools or something like data studio which is a bi tool that we have you can share with other people or you can produce applications reports so we've done the last one today as well as we can show you that okay so we're about ready to start the competition so can I ask everyone if you're if you want to participate get your phones out right now and get a web browser open and we're gonna give you a URL in a minute so you can get that ready these are the prizes just to give you a little bit of an incentive so we have a pair of Google cloud socks a beanie and a t-shirt so what we're gonna do is you're gonna vote and the highest score will win one of these prizes every TI flesh so this is the URL we need to go to and you will see a very simple voting application with only three logos you can't go wrong there just enter your username and start voting so if everything goes well you'll see your name mapping appearing here Akhilesh probably just leave the URL yeah okay so we're gonna set a timer and we'll bring the URL back out and you'll have one minute so go back to the URL page - sorry can you bring up the URL but yep so it is a bit dolly flash 2w r IV b p and the IV PE b is lowercase cool so try and fight as many times as you can or each of the products you might want to pick one that you really like click the socks all the hot the beanie and then in about a minute one down can you get the timer up Akhilesh cool so I push wall that's going do you mind explaining what's happening in the backend yeah so in real time when we when you're placing a button the request is going to App Engine instance and App Engine scales automatically you don't have to scale it so we were actually not running any instances but because of the voting application we will see that there will be many application instances which will be created on the fly on the other side of things there's this data flow which Liz talked about and in data flow what happens is like when the messages are in the copper queue on the puff sub-q it reads from there and as you can see it's processing huge number of misses without any scaling who's that the results are actually presented here so you can see like the ninja is winning as of now for socks and with a total of 15 votes and this is updating in real time as you click on the button slide yeah are we nearly done yeah we fourteen seconds away whoa okay ten ten seconds five four three two one I should take a screenshot yeah so whoever is listed at the top now after the session please come over to the experiment pod one and we'll give you your prize yes so we'll take a second to just let it refresh and we declare the winners cool so this is not the end of it like when you build a really cool app it may actually become very popular across the globe and not only hundred but let's say like there are millions of users so I'm using a tool which is jmeter it's a bare-bones emitter which can create millions of requests on our server and we start saying that we are encountering zero percent error and the number of requests is this so there's already three thousand requests which has been passed in a short duration of time and let's see if it reflects on the e that's good so as you see like this is completely it's serving a solution it relies on components which will let's talk about this App Engine and this data flow they scale all well without a say without any developer intervention cool so I'm just gonna talk through what we just did just to recap so can you skip both sorry I'll do it so what we did was we read real-time events in from your mobile devices using an app engine front-end so that's actually scaling up to meet the demand so however many people here who I was logging on at this time we're scaling up and then when Akhilesh just showed you that last screen what he was doing was injecting a lot of extra events from a robot now that's been read in through cloud pub/sub so it's been published to a topic and we're reading that back through from debt cloud dataflow so cloud dataflow is taking those messages and processing them in parallel in real time with latency of just a couple of seconds and publish them to bigquery and from bigquery we're presenting that dashboard on the screen which is showing you the leaderboard so we've managed to piece together end to end and then we can also do a few more things which we we didn't do in this presentation but it's just to demonstrate as well that you can actually get batch data at the same time and you can actually process both battery streaming data together with cloud dataflow or separately if you wish and then output it to lots of different options of destinations so just to recap there's a couple of big customers that are using solutions like this so we have twitter who is using it to help them scale so they've got her to a hybrid hadoop in data probe cluster and they're working towards the sub fully service environment or google cloud we have air asia with 500 million passengers they're using bigquery pub/sub data studio and they've been able to reduce their costs using those tools and we have Spotify who are cloud native and have you know implemented these solutions to help them so the key takeaway today is that the focus is on real-time insects so we have these massive amounts of data coming in and we want to be able to make use of them in real time make decisions in real time and add values your business in real time so thank you very much [Music] 