 - Hi everybody. This is Dhanyah Krishnamoorthy, feature PM working on the hybrid platform, in Azure Identity at Microsoft. - And I'm Daniel Birmingham, program manager on the customer experience team. - [Dhanyah] Thank you for joining our session on how to accelerate your hybrid identity journey with Azure Active Directory, And how Microsoft's hybrid platform can help you achieve seamless collaboration and productivity for your identity and access management needs. Whether you're starting a journey with Azure Identity and looking to understand how your hybrid setup is going to look, or if you're trying to optimize an existing hybrid setup because of your ever changing business needs, we hope that this session provides some answers for you. In this session, we'll cover provisioning scenarios of varying complexity from a simple Office 365 standard set up to a multi-tenant setup. We'll show you how you can consolidate all your identities from your various on-prem tenants, connected or disconnected to a single global Azure AD tenant. We will deep dive into Azure AD Connect cloud provisioning feature and how it helps you achieve your hybrid needs as you move your organization to the cloud. And of course, we'll have demos, tons of them. So without further ado, let's begin. Identity provisioning provides you with a single platform that can meet all your hybrid identity requirements. HR-driven provisioning enables automation of the human resources and identity lifecycle management scenarios, such as new hires, management of employee attributes and employee terminations. We have rich integration with user provisioning workflows of workday and success factors. Directory provisioning automates the process of approaching objects, such as users, devices groups from AD to Azure AD, keeping the directories in sync and allowing you to leverage existing processes already in place using on-prem solutions. Not only can you automate object creation using directory provisioning, you can also provisioning authentication details, or a syndication credentials. As an example, you could use password hash syncs so that the authentication can happen directly in Azure AD. Using the same password as on-prem without having to send the user back to AD. AD provisioning, lets you automatically provision user access to their applications and automatically revoke access when it's not needed anymore. Choose from over 130 pre-integrated applications, or bring your own scheme-complaint application. In addition to provisioning to on-prem apps, we are going to start support for our provisioning to applications on-prem using user store, such as SQL or LDAP. This feature is currently in private review for the on-prem provisioning scenario, and we're looking towards a public preview. So keep your eye out for updates and announcements in this space. I want to briefly touch on a directory provisioning. Directory provisioning today can be done using multiple tools like Microsoft Identity Manager, also known as MIM Azure AD Connect sync and Azure AD Connect cloud provisioning. Each of these tools, was built to address different needs, scenarios and use cases which I'll cover now. Microsoft Identity Manager, our longest low data provisioning product was originally built to address the on-premises needs. These include provisioning from an on-prem HR system to active directory and from active directory to on-prem applications. Although it can be used to provision objects to Azure AD using the Microsoft Graph Connector, this is not something we recommend. MIM was not built for that. Because of this, it has very limited support for hyper scenarios available in Azure AD as well. Azure AD Connect sync, which you may also have known as Dir sync or AD sync in it's previous life was the first solution built for provisioning from AD to AD. It's currently a support for most Azure AD hybrid scenarios. And it can support companies with very large directories. While Connect sync is very robust in its capabilities, it also requires heavy investment from an infrastructure perspective. It all is configuration or manage on frame thereby resulting in higher maintenance cost. While it is currently the most utilized provisioning solution and it is very useful to many of our customers. We felt that we needed to build something that's more cloud driven that requires less of an investment for our customers and quicker to deploy and support. Which brings us to our next tool, Azure AD Connect cloud provisioning. Azure AD cloud provisioning leverages a lightweight agent or set of agents that you install on-prem while managing all your provisioning configuration from the cloud. It does support for all common Azure AD hybrid scenarios while also extending it's support for what we call as disconnected forest scenario that's commonly seen in mergers and acquisitions. Due to a smaller footprint on-prem and high availability features, it makes your hybrid set up super easy to manage as well as it provides a resiliency for your infrastructure. Now I'm going to hand over to my colleague, Daniel, who will be walking you through why cloud provisioning might be the right solution for you. Daniel, over to you. - [Daniel] Thanks, Dhanyah. First we'll cover some of the major benefits of choosing Azure AD Connect cloud provisioning as your provisioning tool, and then discuss two common scenarios that we frequently encounter when working with our customers to illustrate how these benefits apply to them. One of the major reasons you'll want to consider choosing cloud provisioning over the other tools are the cost savings. With cloud provisioning leveraging a lightweight agent you no longer need to deploy a robust server in your data center to run the service and unlike Azure AD Connect sync that required SQL Server for larger deployments. That is not the case with cloud provisioning. So we may be able to save money on SQL Server licensing too. Along with infrastructure savings, you'll find yourself spending less on support and maintenance throughout the life of the service due to its simplified architecture. Our upcoming demo will show cloud provisioning is extremely quick to deploy and simple to configure so you can get it up and running in your environment in a fraction of the time spent deploying the other options. The simple setup is intuitive and streamlined so that you can enable your end users to start collaborating quickly and seamlessly with minimal effort. Multiple agents can be deployed in your environment to provide high availability and automatic failover preventing a service outage due to a server or network failure. This will help prevent frustrations for your end users and reduce support calls for things like unprovisioned users or out of date group memberships. And if you find yourself needing to provision for multiple active directory forests that have no network connectivity between them, as we see in complex scenarios like mergers and acquisitions, you'll find that this is your solution. Cloud provisioning allows you to deploy agents into each of the isolated networks that can communicate independently between the forest and the respective network and Azure AD. If you already have Azure AD Connect sync deployed in your environment, not to worry, it does not exclude you from deploying cloud provisioning to that same environment as well. Cloud provisioning can be used side by side with Azure AD Connect Sync. It can even be used to provision from the same directory, which is an important capability for migrating from one tool to the other. We also see a lot of customers like SMBC and Emmi that use Azure AD Connect sync for their main AD forests while using cloud provisioning for their secondary or subsidiary forests. And lastly cloud provisioning can keep Azure AD up to date with greater frequency. So no more having to wait 30 minutes for on-prem changes to be seen in Azure AD, as you have to do with Azure AD Connect Sync, based on these benefits of the cloud provisioning feature, we recommend that for any new deployment, upgrade or AD expansion that you first consider, if cloud provisioning is the right tool for the job. Next I want to illustrate why cloud provisioning is a right tool for two quite different scenarios that we encounter on the customer experience team. In the first scenario we have the F/128, your typical small to medium sized business. F/128 is just starting their cloud journey into Azure and Office 365. They have a single active directory forest that has been providing identities to their on-premises ecosystem for years. This is Evan, the systems administrator that has been tasked with creating a bridge between their on-prem AD domain and Azure AD. Being a smaller company, Evan wears many hats. So he does not have the luxury of becoming a provisioning expert to get connected to the cloud. After researching the various options he finds the following is most appealing about cloud provisioning. First it's cost effective. The lightweight agent design allows Evan to work with the limited resources he has at his disposal. Asking for an expensive beefy server for the task is just not an option. Next it's quick to deploy. IT is getting pressure from leadership to start leveraging their investment in Office 365. And that means deploying a hybrid configuration quickly. Finally, it's simple and intuitive configuration. Having to wear so many hats means that he does not have much time to spend on any one thing. He will be responsible for managing the configuration for the longterm. So he needs something that is easy to learn and maintain. As mentioned earlier, cloud provisioning is not just for net new Azure AD deployments. It can be used to integrate additional force into a single Azure AD tenant, even when Azure AD Connect sync is already deployed. And this next scenario, Charlie, who's an identity architect at F/128 Photo is in charge of quickly integrating a newly purchased print company into their Azure AD tenant so that the companies can quickly start collaborating seamlessly in Teams. And the new employees can start accessing the enterprise applications, which are integrated into Azure AD. Print is a traditional on-prem shop. So they do not have an Azure AD tenant of their own. And with the purchase only being a few days old, there are still no network connectivity between the two companies. So leveraging Azure AD Connect Sync is not an option. What makes cloud provisioning the best choice for Charlie is that it supports coexistence with Azure AD Connect Sync. So she does not have to make any changes to their existing provisioning tools. She can just add to it. Second, it can provision from disconnected forests that allows her to move forward immediately without waiting for networking, to provide line of sight between the environments, which may take several weeks or longer. And finally high availability with automatic failover because she prefers not to be called into work on the weekends. She plans on deploying multiple cloud provisioning agents so the service is still up and running if one of the agents fails. Although quite different scenarios, but Evan and Charlie will follow very similar steps to deploy cloud provisioning in their environment. Up next we'll demo the steps that it will likely take. For our first demo, we'll be walking through the cloud provisioning agent installation and basic configuration process. Similar to Azure AD Connect Sync this server and any other agent server should be secured like a domain controller or what we call a tier zero asset from the administrative tier model. The first step will be the launch Edge and navigate to the Azure AD Management Portal. I'll be logging in as a hybrid identity administrator, but you can also log in as a global administrator complete the next steps. The hybrid identity administrator role was added so that you can delegate the deployment and configuration of cloud provisioning to individuals that are not assigned the global admin role. Once logged in, I will navigate to the cloud provisioning page by first clicking on Azure AD Connect and then the managed provisioning link. Next I'll download the agent, which requires acceptance of the terms of use. Once the agent installer executable is downloaded, I'll open the file to launch the installer. I'll agree to the license terms and privacy notice and start the installation. The installer will install the agent binaries and agent service, which will run as a virtual service account. The agent configuration wizard is automatically launched and prompts me to log into Azure AD, which I'll do using the hybrid AD administrator account. An authentication token is obtained from Azure AD, which will be used during the registration process. I am then asked to confirm the domain configuration. At this point, the agent registration process begins. It starts by creating a certificate that the agent will use to authenticate to Azure AD in the future. It uses the authentication token obtained earlier to register the agent and domain information, as well as the certificate. Next it restarts the agent service. During the agent restart, it checks for configuration updates in Azure AD and continues to check for updates every 10 minutes while running. At this point, the agent is successfully installed and now it is time for basic configuration of the cloud provisioning service. Back in the Azure AD management portal I can see the agent is registered. I will now create a configuration for the F/128.local domain. I'm going to use password hash sync as the authentication method for my provisioned users. So I'll leave it enabled here. This will make my journey to the cloud much easier as I won't have to worry about setting up a Federation service in my on-prem environment. It will also give me leak credential detection and authentication resiliency in the event my on-prem active directory becomes unavailable. Once the configuration is created, I will define an OU based scoping filters. So that only the appropriate users, groups and contact objects are provisioned to Azure AD. At this point, the basic configuration is complete. Dhanyah will now demo some of the new capabilities that you may want to consider using when finishing out the configuration. - [Dhanyah] Daniel showed you how to do basic configuration, including setting up scoping filters and password hash sync. I'm going to be covering two features today, which will be public reviewed soon. One is the attribute mapping. The other one is what we call as provision user or provision on demand. The attribute mapping experience exists today in the form of MS Graft API, which you could use programmatically. You're adding a user experience on top of it to make it easy for you to apply these transformations. The second feature provision a user is a feature that will help you test a user with your existing configuration before you go and roll it out for your entire organization. We highly recommend using this feature because gives you a step by step guidance on whether your scoping filter is set as expected and whether your transformation works as expected. So this way, if we want to make any kind of adjustments, you do it in this step. Make sure everything looks good with a few users, and then you can roll it out to your entire organization. Now, let's jump into the demo. This is the attribute mapping page. As you can see, we have three tabs at the top for users, groups, and contacts. So you can actually go and set attribute transformation for each of these object types. When you click on groups, you'll be able to see all the group attributes and when you click on contacts you'll be able to see all the contact attributes. This way you can easily delineate the different object types and its attributes. Now let's jump to example. I'm going to use display name, which is very common to standardize in the real world, especially when you're moving users from multiple on-prem tenants into a single Azure AD tenant. In this example, you see the display name is a direct mapping and it's associated with a common name in the source attribute, which is AD here. What I'm going to do now is I want to actually go ahead and change it into an expression, but I want to append the physical delivery office address to the display name. You can see that expedition here, I've appended it and I've joined it with the common name. Once I do that, I click apply and you can see that by changes look is at the top, but it's still not saved. I have to go and click on the save schema in order for this transformation to apply when you're syncing the user. So I go ahead and save the schema here. And yes, you can see in the notification area, the save is in progress. Once the save is successful, you'll be taken back to the configuration page. Now we are going to provision a user. I'm going to take a user here and I want to test this user to see whether the transformation I just applied actually works. So in my example, I'm picking a user with a distinguished name. I'm picking the distinguished name of the user. I'm going to use this example here. And then I'm going to start provisioning. When I click provision, there are four steps that happen. You check whether the user exists in AD, then you check to see whether they are within the scope of what you've set. And then you check to see if they already exist in Azure AD. And whether you have to match any attributes. And finally, you tell whether the user was successfully synced or not. Each of these steps has details that you can go in and look at. As an example, if you go into the import user and click on the view details, you will be able to see all the attributes that this particular user had in AD. And from there, you can go to the check, whether the user is in scope, and we do a certain bit of check here to see whether the scoping filter evaluation passed whether the user has a required role and whether they're active with the system. Then we go and match this user in Azure AD. In this case, it's a create experience. So we don't need to do any kind of matching. So we just tell you that we are going to create this user. And finally, we show you how does user object information will look in Azure AD. And as you can see there his name has the physical office address name. Now we have successfully provisioned this user. You can either go ahead and provision another user, or you can click on finish to go back to your configuration. The final steps in the configuration includes adding a notification email in order to send any kind of sync or notifications or if your particular provision configuration goes into quarantine. So you take an admin email or a hybrid admin email and put that in there. And then the final step here is to enable a deployment and click on the save configuration in order to initiate the sync for all the users in your scoping filter. That brings us to the end of our demo session. You saw how easy it was to set up cloud provisioning in your environment. We have a couple of our customers who have given testimonials on how they use cloud provisioning and how we helped them achieve their business needs. Sumitomo Mitsui Banking Corporation known as SMBC is one of the biggest banks in Japan. It has about 50,000 employees all over the world. SMBC has two main Office 365 tenants, one for Japan and APAC and one for US. Since SMBC is the big financial conglomerate it does a lot of mergers and acquisitions. This has led to many disconnected forests, thereby making it very hard for them to manage a global tenant in Azure AD. They started using cloud provisioning about a year back. And so far SMBC has consolidated user accounts from across 200 disconnected forests into a single Azure AD tenant using Office 365 in Japan and US regions. Tom Sawyer, the Vice President of the Cloud Architecture Team at SMBC had this to say, I'm going to ask you to pause your video and take a read through it. I just wanted to call up the two things that stood out for me, at least, the single unified Azure AD, which gives you the full power of Office 365, as well as the efficiency and speed in which you could set up complex topologies using cloud provisioning. Our next customer is Emmi Group. Emmi is a major Swiss milk processor. The company dates back to 1907 and have global presence over 14 countries. Two thirds of more than 8,000 employees are currently based outside of Switzerland though. And this has led to disconnected forests for them and making it hard for the employees to collaborate using Office 365. Emmi started using cloud provisioning a few months back and so far consolidated user accounts from two subsidiaries into one single Azure AD tenant. This is what really well for Emmi and they're planning to consolidate the rest of the subsidiaries over the next year. Martin Muller system architect for Emmi Group had this to say, again, I'm going to ask you to pause your video and read through this. The one thing again, that stood out for me was the single Azure AD global tenant that gives you the full power of Office 365 and also helping you in centralizing IAM and M365. Now I'm going to switch gears to feature capabilities. What do we have today and what our roadmap looks like? Most of what you have today is what you saw as part of a demo. What additional feature that I do want to call out here is the availability of a new role called Hybrid Identity Administrator. With this role, you no longer need to be a global admin in order to set up provisioning configuration, or do any kind of sync operations. This feature was released a few months back and you could use it today in order to move away from the global admin role. As for our product roadmap, what does it look like? So we're going to have a public preview refresh in a few weeks with whatever we demoed in the session. In addition to what we showed you, we are going to provide you with an improved troubleshooting experience, as well as accidental deletes prevention. For general availability, which we are targeting by end of calendar year we are hoping to give you more features specifically around synchronization of up to 150K AD objects, GMSA support for agent install and performance improvements over the initial sync cycle. Please look forward to announcements from each of these releases in the next few months. This brings us to the end of our session. Thank you for joining us today. And I hope you have a better understanding of how cloud provisioning can help accelerate your hybrid identity journey. Before we sign off, we need your voice in announcing our feature. We would greatly appreciate it if you could take a one minute survey to tell us what you would like to see happening, with cloud provisioning in the future. Thank you once again for joining us, until next time. 