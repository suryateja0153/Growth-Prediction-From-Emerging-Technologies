 Good afternoon everyone, thank you for coming to the Advanced Use of NCBI APIs webinar. Immediately pressing questions will be answered by my colleague, Peter Cooper during in the webinar. And more general questions will be answered by me at the end of the webinar. Answers to these questions will be on our webinars page in addition to questions we may not get to. Also the slides are available at the URL that you see at the bottom of this box. So, I know most of you are fairly technically sophisticated, but at some point I think we are all biologists. In that vein, what I want to do is to show you tools and strategies, that I employ to use NCBI API and FTP infrastructure, to answer large-scale biological questions. Say I was interested in age-related molecular degeneration. A place I might start asking questions about macular degeneration is ClinVar. In case you don't know, ClinVar is a crowd-sourced database from the clinical genetics community where they have asserted genotypes that are associated with specific phenotypes such as age-related macular degeneration. If I were to use ClinVar and was interested in one disease or one snp or a smal set of them, I might in the search box and narrow down by the filters on the left. However as a computational biologist, what I find useful is to click on the FTP tab and go to the ClinVar FTP site. That will bring me to this site, and what some people miss is that I can get vcf for either GRCh38 or GRCh37 right now. This is a 30 MB download, and it has all of the snps that are in clinvar. Most of the metadata that is on the website is included in column 9 of the vcf and can be filtered as such. The fields there should be reasonably obvious. A common use case for those involved in clinical genetics, when you may have vcf file, for a given patient or a set of patients with number of variants, sometimes variants are expressed in HGVS notation. This can be ambiguous, so one thing I suggest is that they use NCBI variation services API, for disambiguating HGVS. If that is something you are interested in please check out this URL, https://api.ncbi.nlm.nih.gov/variation/v0/ and give this API a shot. ClinVar records can now be shown on a viewer we have called iCn3D. This service is in alpha, but perhaps it would be useful to you. I encourage you to check it out, all you have to do is re-create this URL, https://api.ncbi.nlm.nih.gov/Structure/icn3d2/seq.html?id=809237 with the ID of the particular structure that you are interested in viewing. If it is in the PDB, you will be able to view snps from clinvar on the structures. Finally, it is possible that your snps are not phenotypically characterized. And in an event I will tell you about in a bit, we built a tool called PhenVar, and that tool allows for phenotypic characterization of snps from dbSNP. I want to demonstrate that to you now. If I open up a web browser and I go to phenvar.colorado.edu, what I can do, and I find this quite exciting, is I can put in a particular snp, the rs number, and generate some things I will show you as well is doing some normalization. Here, I am doing a live search of PhenVar and initially I get a word cloud of phenotypes, phenotypic terms in fact. These are all of the phenotypic terms co-mentioned with that snp in PubMed abstracts. Below I get something perhaps even more useful. This is a graph of the requested rs ID, linked to articles, and then a view to other rs IDs linked to those articles. If you are familiar with GWAS studies, you are probably not terribly surprised by this result. As you can see, there are a lot of snps associated with diseases in particular studies that don't map to others.However there are other snps which seem to be fairly central to a number of disease studies. I would like to demo PhenVar for a snp such as this, in fact 800292. So if I search for 800292 under the same parameters, I get a very similar word cloud, and amd is even more central. By the way this is Age-Related Macular Degeneration, and I see several terms related to Age-Related Macular Degeneration. One thing I see here is that I get a much much denser graph, it is much denser of snps and publications related to this thing. Here, I can see lots of publications that are linked to this snp, 800292 and then other publications that are a little more flung, as we can see I have a much more dense network, of phenotype-genotype associations. I would like to point out, this was built using NCBI infrastructure. One of the pieces of infrastructure used to build this is EDirect and also Eutils. One thing I find very useful is the EDirect cookbook which we built about a year ago. We hypothesized that people might use commands, simple commands directly from the Internet to do relatively complex metadata investigation. We find this is a popular way to do this. Say you were interested in all genes aliases associated with a particular disease in a particular organism, you could run a query such as "liver cancer AND homo sapiens" and find all of the relevant gene aliases. There are also many similar things you can do and I encourage you to check it out. Towards the bottom of this list, there are a bunch of resources for parsing literature as well. I would like to think Mike Davidson as well as Peter Cooper for working on this project. Finally. If there are Edirect queries that you would like to know how to do, and you cannot figure them out yourself, please put in issue in github, at this repository and we will try to help you out. I will tell you about some other tools we use to do more complex things. In that sense a lot of these tools are built on something that week call Magic-BLAST. This effectively allows you to edge computing on NCBI's SRA database. The reason it allows you to do that is because you can do affinities searches, in real-time without moving the primary data sets. If you are interested in doing that. Please check out this URL, https://ncbi.github.io/magicblast and think about downloading NCBI magic blast. The resources I am about to show you show you, EDirect or Eutils, and magicblast are typically pillars that we have used to stand up these tools and may be useful when you are generating your scripts for your tools. One thing we have been able to do is figure out how to call SNPs on the fly. What we do in this pipeline is we use Eutils to go into dbSNP, and find the flanking regions for that snp, we then quickly create databases from the regions of these SNPs, and we blast SRA objects into them without doing any file dumping. This is streaming data. We further use that to create robots that are able to go into remote SRA locations, or even to remote fastq files, look for particular sets of SNPs, and then anonymize them by random flipping. Finally, we use this technology to integrate phenotypes and genotypes estimating the phenotypic relatedness by random forest models, and the genotypic components by feedforward neural networks. I would like to point out, this is all based on magic blast and Eutils infrastructure for being able to do these technically complicated things. We are also able to do novel virus discovery using these types of things. This is an early prototype we used to do novel virus discovery, unfortunately it really required doing some data dumping. Now we are able, by leveraging magic blast, to do discovery without data dumping. One of the coolest parts of this is not only can we assemble magic blast hits not only by MEGAHIT, but Abyss, MetaSpades and assess protein domains in them, we can create an algorithm which is analogous to a De Bruijn graph method where we actually extend the contigs using magic blast streaming data from SRA to detect whether there are domains of other organisms around these viral contigs. What that lets us do is to see if we have novel endogenous viruses. A lot of people contributed to this project and Jan Buckman in my group is continusing it wrapping this in Python currently. We are also able to use magic blast for antibiotic resistance detection. This is a simple method, a very simple method to detect antibiotic resistance genes in public genomic databases and datasets such as those in the SRA. Effectively what it does, it removes host genetic material using Magic-BLAST, and then uses magic blast to map the CARD database to the resulting read sets. It then produces a graph of these things. This was just published in the journal F100 Research and the program is called nasty bugs. Finally, just last week we prototyped something we call deSRA. what deSRA allows researchers to do is put in individual gene IDs and a list of SRR accessions, and through Magic-BLAST, we computed some blast database, we were able to approximate expression for any genes in a particular SRA data set. That is something that I think is exciting because it gives an initial screening tool to any raw, RNA-seq data set on the web. I would like to think the team that built this, some of whom are listening to the webinar right now. Why is Magic-BLAST able to stream things from the SRA? That has to do with the SRA toolkit infrastructure. Basically the toolkit allows for data streaming from the SRA data sets. You can use these tools as they are right now. They do many things. Here are some more complex ones, these are simple ones. You can also integrate these into your code and they have been integrated into both HISAT2 as well as GATK. So you can use those tools directly with NCBI, SRA data sets. I highly recommend you check out some of these URLs for further information. Finally a lot of these things were built in NCBI Hackathons, or originally prototyped in NCBI Hackathons. Here is a list of upcoming Hackathons, and a live URL where you can find these. I will also add the publication for NastyBugs very soon as well as some recent prototypes we've worked on. Other projects were worked on or extended in the NCBI visiting bioinformaticians program. If you are interested in coming to work at NCBI for 4 to 6 weeks as an individual bioinformatician, please email this alias for more information. bioinformatics-training@ncbi.nlm.nih.gov Thank you very much. And with that I will take questions. Somebody asked, is there a way to sign up for a hackathon, it is not clear on the website? On the screen I showed you, there were no live links, but if you go to the site, as it is now, some of the events have live links, those will direct you to sign-up pages for those events. Please email this alias if you have any questions about the hackathons. Somebody asked what experimental catalyst is, the name has changed, but it is effectively an alpha prototype for being able to document both wet and dry bench lab work, in a visual, Python framework. Someone else asked, they are interested in meta data, is it possible to all metadata associated with a BioSample or BioProject? For example the source of isolation for bacteria. The answer is absolutely, and it's really quite trivial. I highly recommend that you Google for the EDirect cookbook. There are specific examples on how to get in to the metadata, the kind that you are interested in for biosamples and bioprojects of different bacteria. What you can do is get the XML, for the whole biosample record, there is an NCBI specific XML parser called xtract, that will parse the metadata up from the XML for you. So someone asked about the Magic-BLAST procedure. What I would say is, Magic-BLAST if you are used to command line BLAST it is very similar with just a couple of caveats. For one thing it is optimized for next generation sequencing, that said, it will output by default to the SAM File, although you can get tabular output as well. Just look at the help document. The binary can easily be downloaded from either the NCBI BLAST Page, or from the github page I showed you. Someone asks what languages most of these tools are created in? They are created in some combination of bash, R, and Python. Someone else asked about analysis of snps that cause alternative splicing, and gathering information through the SRA Toolkit. That is a fairly difficult thing to do as a whole, but one could envision building a tool for that. One thing you might be interested in doing is taking RefSeq RNA, and building a blast database from your RefSeq RNA of interest. Then you can blast into the database, and look for relative abundance of spliced isoforms as well is snps of those in the RNA. That is something that you can do relatively easily through Magic-BLAST. It is great to see there are a lot of questions. Are there any other questions? I will give it another minute or two. Actually, someone else said does Magic-BLAST also work for assemblies? I'm not entirely sure what you mean, but you could use Magic-BLAST for whole genomes, it does work and it has very similar characteristics to HISAT. Depending on what you are looking at, you might want to try both Magic-BLAST and HISAT for transcript mapping. You can also use MagicBLAST in non-splice mode to do DNA-seq mapping. Someone asked what tools we are using for contig assembly? I suspect you are talking about the novel virus searching? Right now we are testing metaSPAdes, ABySS 2 as well as megaHIT. If you have further suggestions, please feel free to send bioinformatics-training an email. Also for specific applicaations, although not so much for metagenomics, we are using NCBI-built assembler called Skeesa, which is freely available. If you are interested, I am giving a very very short NCBI minute on Skeeza on November 29. If you want to hear about some of the contigs we've generated from bacterial pathogen data sets. with SKEZA, please check that out. If you are interested in the Hackathons, we are giving a workshop on running NCBI- NIH-style Hackathon's, I believe on December on December 10, but that is just off the top of my head; it is a Friday. Someone asked what Data Portal might be useful to study population-based cancer genomics data? I'd encourage you to check out TCGA, which is a large set of data put out by NCI, and dbGaP also has quite a bit of cancer genomics data, for some cancers, quite a bit more than TCGA. We have provided a very short command line tool to go between the TCGA and dbGaP data set accessions for particular diseases. All right great with that I think we will leave it here. I would like to think everyone for attending and I hope you have a fantastic rest of your week. 