 This is a demonstration of the Eaton Microgrid Controller with a Typhoon HIL  ultra-high fidelity Microgrid Testbed. This controller hardware in the loop test bench emulates a real microgrid,... ...allowing for thorough testing and validation of primary,  secondary and tertiary controllers. This demo shows the Banshee Microgrid,  a 3 feeder system modeled after a real microgrid. The model was developed by MIT Lincoln Lab for the Microgrid Symposium 2017... ...and will be used to push the limits of  microgrid controller testing in the coming years. As you can see, the primary distributed controls in this microgrid  consist of the following: 3x physical Schweitzer SEL-751 Relay controllers in the loop as point of common coupling for each feeder to the grid; A physical Woodward EasyGen 3500 Diesel Genset Controller in the loop; A physical EPC Power PV Inverter Controller In the loop; A physical EPC Power Battery Storage Inverter Controller in the loop, also from EPC Power; A physical Woodward EasyGen 3500 natural gas engine controller in the loop with a simulated Combined Heat and Power System; Also included our 42x simulated relay controllers and a simulated DMS dispatch interface; And finally we have a physical Eaton microgrid controller in the loop. All the controllers both physical and simulated, communicate via Modbus TCP/IP which is used for control and monitoring. The entire power stage of the microgrid is being simulated in real time on  the Typhoon HIL Microgrid Testbed with 2 and 4 us fixed time steps. For this demo I will be using two user interfaces, the Eaton Microgrid Controller UI and the Typhoon HIL Control Center. Let’s start the simulation in the Typhoon HIL Control Center and we will see the microgrid is completely de-energized. All 3 feeder points of interconnection are opened and all the inverters  and generators are off. Let’s send a command to close all relays from our virtual DMS interface to the microgrid controller via Modbus. At this point we can see that the microgrid controller has successfully sent  a command to close both the physical and simulated relays via Modbus. We are now tied to the simulated grid. If we switch to the Eaton microgrid controller interface, we can observe that all breakers are closed, and the induction motor loads are running. Using the simulated DMS interface I set the commands  “DMS Microgrid Controller Start” and “DMS Import Request”. These commands enable microgrid supervisory control and enforce power import setpoints at the points of interconnection. The commands are sent through Modbus from the HIL running the simulated DMS and read by the microgrid controller. The microgrid controller then sends commands to the ESS  and PV inverter controllers,... ...and both Woodward genset controllers to begin operation and provide power based on the setpoints from the DMS. We see the ESS inverter controller comes up quickly but you will notice that... ...both Woodward controllers need to match the frequency of the generator to the frequency of the grid. After this sync check is complete, the Woodward controller will close its contactor, connecting itself to the microgrid. After the PV controller is turned on, I can load up an irradiance profile  to be run for this inverter... ...using a Python widget in the Typhoon HIL Control Center. We won’t see quick changes in the inverter power output because the irradiance profile is relatively smooth and has a 1 second time resolution. We can see the small changes in voltages and injected currents  using the built-in oscilloscope. Currently the DMS is limiting power import from the grid to 4 MW. Since the microgrid controller strategy considers load priority, we can see that some interruptible loads such as I4 and I6 have been disconnected. You can now see both generators have finished sync check, connected themshelfs to the microgrid and started to expot a power. To move into an intentional islanding state, we will first set the power import to 0. When I set this on the DMS, it is read by the microgrid controller, which commands our generation controllers... ...to push power onto each feeder such that the combined output is close to 0. You can see the generator currents and active power are increasing  on the built in scope and CUI widgets. After this is achieved, we can now place feeders 1 and 3 into an islanded mode, by setting DMS disconnect commands for those feeders. You will notice disturbances in the speeds and voltages of the generators  as they shift into grid forming control. The voltage and frequency are now controlled to 13.8 kV and 60 Hz  by the Woodward controllers. To re-connect these feeders to the grid, let us issue a “DMS Request to Sync POI” command to the Eaton microgrid controller. This time the SEL-751s will perform a sync check before re-connecting to the grid. The sync check ensures that feeders 1 and 3 each have the same frequency and phase as the grid, before closing the breakers. Sync check prevents improper operation and potential damage to  the microgrid assets and loads. Once the sync check is complete the SEL-751 relays  will close the breakers automatically. Once all the feeders are connected to the grid again, we can then set the power import reference in the DMS to request additional power from the grid. In conclusion, we’ve shown how microgrid controls can be tested using  hardware in the loop techniques. This provides us more efficiency, test points, safety, and lower cost compared to controller testing in a high-power laboratory. Thanks for watching and subscribe to our YouTube channel to stay in the loop for more microgrid testing videos. 