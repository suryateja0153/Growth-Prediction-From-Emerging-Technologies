 cool welcome everybody to this video where we're gonna have a look at how to explore the World Cup graph with neo4j blue in case not met me my name is Mark and I work on the developer relations team for an F J okay so first of all what is the World Cup I imagined you probably don't need much introduction to this but just in case you've missed any media in the last two weeks this is what it is here's a few pictures from some of the games that have happened so far and we decided that we would build a graph of the matches in the World Cup and this is a model that we've created representing different things happen in the World Cup so you can see at the middle we've got the different tournaments and those are represented by a node that has the label World Cup each country over to the left hand side can name a squad squad as a set of players who represent a country and then you can see that's connected to the country down in the bottom left hand corner a player can be named in a squad and obviously they can be named in multiple squads so you could be in this squad for the 2018 World Cup maybe also for the 2014 World Cup and for the 2010 World Cup and so on a player can then make an appearance in a match over here on the right-hand side an appearance would just be does that sort of represent them representing their country in a match and so you can see the appearance as a connection to a match and they could also score a goal in that match obviously they could score more than one god much if we come down here then has countries participating in it and the match can be played in the stadium and the match is part of a World Cup tournament and you can see there are also some other properties on the match so the match for example has an ID it has a home score and in a way score and also has a round which indicates like is it in the group stages in the quarterfinals semifinals and so on okay so that's the world cup graph if you want to play around with this we've got this hosted on a forge a cloud instance and it's up this your eye up here and you can login with the username World Cup World Cup and if you type in : play World Cup - 2018 - queries we've created a new photo browser guide for you to play around with but for this session we're going to have a look at nifty bloom so what is that so this is a visualization tool to help people explore graph data where they don't necessarily want to write cyber queries so we're cyber queries made it really easy for developers to go and explore data this at all is intended for everyone else in hey I've got some data I don't know what it is I want to figure it out this is the tool to help you there these are some examples of some screenshots of bloom and you can if you want to get access to this you can go to this URI and you can ask to get it a key to play around with it for now there I'm going to switch into the near future desktop so we can have a look at it in action okay so I'll just start from the screen so this is the near future desktop and you can see I've got a project here called World Cup online Meetup and i've connected it to that new video cloud instance that i mentioned so you can see here I've got my connection and up here I've got new video browser and new photo blue so if we click on near future bloom this is the window that will see what you would normally do the first thing you need to do is create a perspective so I've cheated a bit and done that already so you go here and you can see the perspective that we've traded this is kind of the way that you define what color should each label in my graph be and so you can see we've chosen some different colors for each thing you can also define a cat what caption will show when nose of that label are displayed on the screen so I'm going to double click on match down on the bottom and you can see for this one I've suggested when match is there you should show the round and you should show the description now we can also choose icons so I haven't got an icon for matches but if I double click on goal you can see I've chosen a little football symbol there so you can double click on here and you can type in for example football and it will come up with some options for you to choose from I'm gonna minimize this now so that's the overview of what we've got to query something we need to type in a query in here and you can see it's giving me a suggestion so it's suggesting type in World Cup when you type it in it will try and match that against something in the grass you can see here it's detected okay there's a label called World Cup so let's click on that cool okay so it's loaded up nodes representing each of the World Cups we could obviously zoom in on any of these but give them we're in 2018 let's have a look at the 2018 one and if we double click on that we get a little window popping up here on the left hand side which tells us what properties are there see it's not all that interesting at the moment we've got the name of the World Cup we've got the year we can also see what neighbours we've got so if we click on there we can see we're connected to 32 squad nodes 54 match nodes 2 penalty nodes those are matches that went to penalty shootouts and one country and if we go to relationships we can see specifically how are we connected and we can filter those down so imagine we want to get to find out who's hosting this World Cup we can click on that hosted by relationship and it will tell us here 2018 World Cup is hosted by Russia and if we want to see that visually we can click on the reveal button and then let's just close this and we can see here now we've got 2018 World Cup hosted by Russia now imagine we want to get the Heppner hosts for all the rest of those World Cups but we could go and manually click on all the others and do the same thing but that's probably a bit time-consuming so what we can do is let's just guess it's probably gonna be something like hosted by and there we go so picks up a graph pattern for the hosts and we can click on that and you can see now we get all the hosts for all the different World Cups and some hosts have have hosted more than one World Cup some of hosted just the one mostly you'll remember that World Cups which are in the green on this diagram are tend to be hosted by only one country so 1994 one country 1966 one country the only one that doesn't fit that pattern is up here which was the 2002 World Cup which if you'll remember had two hosts what we're gonna have a look at now so that's how we can find the hosts for the World Cups and we can obviously zoom in on the countries and we can have a look how they're connected to other things and you'll see all the different squads for the countries where the World Cups of where the countries have represented and we can see the matches they've participated in as well what I want to do now though is see if we can find the World Cup final so I'm just gonna go here and clear clear scene so right click clear seam that gets rid of everything and what we can actually do now is we can say hey from the World Cup find me all the matches Oh marches find the matches fine then watch the round property and it should say final and then there's actually also a played in relationship from the countries who play in each match and so you can see here we get a pattern woke up it should be a match in the final and get me the countries that participated and you can see we got a bit bit more of an interesting graph now and remember again while cups are in green and mostly you should be seeing they connect to to just the one match there is one that stands out here so let's see if we can we can find that one so I think it's one one World Cup where there are multiple multiple matches matching pharmacist down here in the middle you can see there are loads of blue nodes connected to that one which is a bit a bit strange because you think okay finals should be one match as we zoom in on this side that's the 1966 World Cup final just by chance that wasn't deliberate that's only got one match between England and Germany but you'll notice down here this one here 1950 has got loads of matches there's one two three four five six matches which matched which match matching the pattern where the round property had final in the name and the reason is in that World Cup it was a group stage thing and whoever won the whoever came top of the group won the World Cup so that's a sort of interesting thing that we can find out by by browsing graphs like this you could have to give me one more given the England are currently on a high having managed to win a match is can we find the England Patrick scorer so we can do we can write quite a nice query to do that as well so we write we want to find England find their squads find the players in those squads find the appearances they made and find the goals they scored and we get back this type of graph and you can see the ones in the blue are the goals that have been scored by England players excluding penalty shootouts and there aren't actually that many hat-trick so we should hopefully be able to be able to spot them so this looks like it might be one down here where my where my cursor is it looks like there we go so if we click on that red red button there let's see what that was so that would be hurricane so you can see there we go we can we can click on hurricane and there and hurricane got a hat trick and that was in a match versus Panama so that was the most recent one we should be able to find some of the other ones as well if we look for the places where the 3:3 group blue blue circles lit again so it looks like maybe that's one now there's only if there's only a couple down there I think that's it's not Kane again so you can move this one out scored if we click on the appearance we could figure out who it was so it was Jefferson is probably the most famous country so you can see we could sometimes spot the patterns depending how it lays out sometimes we can't but one other nice thing that we can do is if we only want to find the hatrocks let's just clear this all out we can write a search phrase helps up so I've created one earlier so here we go we keep on here we can actually write our own cipher query to find hatrocks by country and it's a little bit of a complicated complicated than just typing in in there but effectively we're just finding goals that have been scored then we're filtering to only find where a player in an appearance scored 3 and then we return back those paths so what we can do now is we can say find Patrick scored by country and it will then give us some suggestions of countries so for now we'll do England and we fill in England in the milk it will come back with the three that we would expect so we get hurricane that's the one we looked up before we've got Gary Lineker in there and then we obviously we've got geoff hurst now we could obviously do do other ones as well so we could say hey find me brazil hatrocks so we could do that there's the hatrocks go by brazil so you got Pele I think that was in the 1958 World Cup final but we can check that so we can click on the match and reveal that that's actually it sorry not the final semi-final there and then we've got another one down here Leonidas and that's the end of my demo of balloons I hope you enjoyed it and don't forget if you want to play around with this or get a copy near Vijay comm / bloom is the place to go 