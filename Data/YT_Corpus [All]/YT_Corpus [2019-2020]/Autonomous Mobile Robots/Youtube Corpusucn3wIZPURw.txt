 (upbeat music) - Hi there. I'm Dr. Jonathan Butzke. I'm not a medical doctor. Instead, I'm the robot doctor. (upbeat music) (robot whirring) Here's a video of one of my robots flying around. It can move around obstacles such as myself without running into them, because it knows its position and the position of the obstacles on the map. So how does it get its position? It can't use GPS when it's indoors, so how does it know where it's at? A robot needs to be able to measure distances to nearby landmarks on the map and use what we call localization to answer the question where am I? We'll explore that in lesson 104. And we can do that with the math you may already know. Geometry, trigonometry, algebra, and a few concepts from physics. Now, there is a good bit of math in this episode, so get your pencils ready. So what do we mean when we say localization? One thing the robot needs to do its job is to know where it is on the map. Localization is finding that position on the map. It literally means the process of getting located. Hey, robot. Where are we? (robot whirring) Robots can localize using their internal systems and sensors or they can use a external system such as GPS. In either case, the general approach is very similar. So let's look at an example problem. - [Woman] Imagine your robot is in a yard with a tree, a bush, and a bench. These three items are marked on the map the robot has. The robot also has a sensor that can detect each of the three objects and tell the robot the distance to each. Before we get into the actual math, how could we use this information to figure out where our robot is located? If we have a range to a tree, we know we are somewhere around that tree. For example, imagine we know we are 10 meters from a tree, but we could be 10 meters to the north of the tree or 10 meters to the west or maybe the southeast. Or 10 meters in any other direction from the tree. We can see that this forms a circle with a radius of 10 meters centered on the tree. From that, we have narrowed down our robot's possible positions from being anywhere in the yard to being somewhere on this circle. - Now, let's combine our knowledge about the tree with our knowledge of the other objects in the yard. - [Woman] We also know our robot is on a circle centered around the bush as well. These two circles must touch somewhere since our robot can't be in two places at once. If they just barely touch in one spot, there is exactly one point where our robot can be and our problem is solved. However, in most situations, the two circles will intersect in two places. How can we figure out which one of the two intersections is the correct location? Well, for that, we need a third reference point. In this case, we can use the bench. Now, with three circles, they all intersect at only one point. This is how a robot determines its location in the yard. - And fundamentally, this is how the GPS in your phone gets your location. Using satellites above you. So the general flow is detect at least three landmarks whose position is known on the map, determine the range to each of these landmarks, calculate where these range circles intersect. This intersection point is the robot's position. Now, let's calculate how to find that position. If we recall from geometry, the formula for a circle is x minus a quantity squared plus y minus b quantity squared equals r squared. Where a, b is the coordinate of the center of the circle, and r is the radius. Let's go back to looking at the tree. We know we are 10 meters from the tree. From our map, we know the tree is located at two comma 13. So if we just consider the tree, we have the equation x minus two quantity squared plus y minus 13 quantity squared equals 10 squared. (gentle music) As we said earlier, if we only look at one object, then we could be anywhere on the circle. So let's add one of the other objects to help narrow down the possibilities. In our example map, we will use the bush as our second object. It is at 13, 11 and we know we are five meters from the bush. We can use the equation of the circle, that's x minus a quantity squared plus y minus b quantity squared equals r squared, with the location of the bush to get the new equation, x minus 13 quantity squared plus y minus 11 quantity squared equals five squared. Now, we have two equations. One for the tree and one for the bush. You also have two unknowns, x and y. Let's expand the tree equation and simplify. You first expand the squared terms and combine like coefficients, then set equal to zero and simplify. Now, let's do the same for the second equation for the bush. First, expand the squares and combine coefficients, set equal to zero and simplify. We now have two equations. One for the circle around the tree and the other for the circle around the bush. We can subtract the bush equation from the tree equation. You first distribute the negative sign and then add like terms together. In this case, the x squared and y squared terms cancel out and we are left with 22x minus four y minus 192 equals zero. We can divide everything by four and solve for y and simplify. This now gives us an equation for y in terms of x. We can substitute this back into our original equation, to find the possible locations for the robot. Using our equation for the circle around the tree and our new relationship between x and y, we substitute in for y, simplify, and expand the squares. We then group similar terms again and multiply both sides by four over 25 to simplify some more. Subtract 16 from both sides to set equal to zero. What we are left with is a quadratic equation. From algebra, we know how to solve quadratic equations. In our case, a equals five, b equals negative 108, and c equals 580. We substitute our values for a, b, and c, then simplify the equation. Remember that the quadratic equation produces two answers, depending on whether you add the eight or subtract. In our case, we get x is either 11.6 or 10. We can then substitute both numbers into our combined equation to find the y values. For x equals 10, we get y equals seven. For x equals 11.6, we get y equals 15.8. And that gives us our two answers. 10 comma seven and 11.6 comma 15.8. So we've gone from knowing we were somewhere on the circle, to knowing we were at one of two points. In other words, if the robot sees two landmarks, it can compute two possible positions it may be in. We need the third landmark to determine which one is the actual robot position. Let's say the third landmark is the bench located at 10 comma zero, and this sensor tells us it is seven meters away. We can simply substitute in both numbers to see which one works. If we substitute in 11.6 comma 15.8, we would see that we get 252.2, which does not equal 49. Therefore, our robot can't be at that location. Let's try the other possible position. If we use 10 comma seven, you find that we get 49, just as we wanted. Therefore, that is the robot's actual position. And that's it. That's the math that goes into figuring out where a robot is. And here, we can see a robot keeping track of its position, allowing it to maneuver around obstacles that are in its way. In this session, we have discussed how robots calculate their positions using the ranges to some landmarks with known positions on the map. We have walked through how to calculate the intersection point of circles, and how to use that information to determine where the robot is. We have successfully localized our robot. Now, get your pencils ready for today's challenge questions. This week's challenge question is if our robot had moved farther along in the yard, it was now five meters from the tree, 10 meters from the bush, and five meters from the pond, where is it? Again, the tree is at two comma 13 and the range is five meters. The bush is at 13 comma 11 and the range is 10 meters. Finally, the pond is at five comma 22, and the range is five meters. What is the robot's position? (gentle music) For our second question, imagine the robot only sees two landmarks, a pile of rocks and an umbrella. The rock's at the position 10 comma zero, and the umbrella's at the position 20 comma zero. The distance to the rocks is five meters and the distance to the umbrella is also five meters. Can you still determine the position of the robot even though there're only two landmarks? (gentle music) Again, you are five meters from two landmarks. Rocks located at 10 comma zero, and an umbrella located at 20 comma zero. Can you determine your position with only two landmarks? I'm John the robot doctor. See you next time. (gentle music) Hey, robot. Where are we? (robot whirring) - [Woman] You can find these video lessons online at wqed.org/therobotdoctor. (upbeat music) 