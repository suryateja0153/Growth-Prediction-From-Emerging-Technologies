 good evening we're here to talk to you tonight about securely unlocking IOT for your enterprise with Azure sphere I'm Melina McMaster and I have to Microsoft colleagues will join me tonight Steve Patrick and marchello mahjongg Qi and we're also really excited to have Dan apone from Starbucks join us so let's jump right in micro controllers are low-cost single chip computers they're about the size of your thumbnail and they're in virtually everything from automobiles to appliances to medical devices to the escalators and the elevators in this building when MC use were introduced they brought simple computing to these devices but they weren't connected to the Internet and today only about 1% of them are but that's changing rapidly connected devices will change the way that we live and work in ways we can't fully imagine yet we're seeing transformation already across many different industries and that's because of the value that connectivity brings and the opportunity you're able to get telemetry you're able to understand feature usage patterns you can offer your customers new capabilities post sales even and new experiences like predictive maintenance when we talk to customers we typically find that they're completely sold on the value that they could gain but they often haven't moved ahead because of the risks security is the big challenge and the concern and a recent study showed that customers would pay 22% more on average for an IOT device if it were secured and they'd buy 70% more devices if they were secure those are really big numbers but that's not too surprising when you consider everything that could go wrong you could have your device rendered useless taken over and used for malicious purposes loss of confidential data data pollution imagine that you rely on devices around world to run your business and you come in one day and they're suddenly all bricked think about the logistics the cost of rolling trucks to replace those devices all around the globe the downtime that you'd have the damage to your quality into your brand that just one of these attacks could cause robust end-to-end security is the key to addressing these risks and we've learned that in order to be highly secured a connected device must have these seven properties these are actual properties there are things that can be measured they're not simply principles or intentions or aspirations our team's written a paper that describes each property in detail and you can find it at a kms watch seven properties some of the properties depend on hardware for example the hardware root of trust your device might pass through a wholesaler or retailer and other supply chain partners until it's finally installed and once it's installed it's going to connect back to your enterprise through your cloud when that happens there's a few things you will want to know first you'll want to know that that device has an identity and that it is actually your device and its identity hasn't been stolen second when that device boots up you'll want to know that it boots up with the software that you put on it and that it's not booting up with the software that somebody has since put on it a hacker for example that's secure boot and then third when that device connects you'll want to know that it's still running the software that you put on it and it's not running some other software hasn't been compromised that's device attestation all these depend on hardware some of the properties depend on hardware and software working together dynamic compartments are a great example they prevent a breach from progressing so it's analogous to the physical layers of security that you see here in the castle walls and dynamic compartments require hardware that can create barriers and then software that knows to configure that hardware and create compartments the two have to work hand-in-hand finally some of the properties depend on hardware software and the cloud working together renewable security is a great example this is the ability to update your device once your device is in the field because a vulnerability has emerged we've learned that with software and with security you're never really done hackers will invent new attacks and they will try to use them so you have to have a cloud that knows how to provide updates you have to have software on your device that knows how to robustly apply the updates and you have to have hardware that can prevent a rollback attack a rollback attack is when you have version 1 software running on your device and a vulnerability emerges so you release version 2 to fix it but you need to guard against hackers tricking your device into rolling back to version 1 and then attacking through that version 1 weakness and in order to do that you have to have some means in the hardware to guard against version 1 ever running again on that device a blown fuse for example so this might all start to sound complicated maybe scary maybe even overwhelming it is really hard to build a device that guards against all these risks on an ongoing basis you have to have technical expertise that knows how to build and weave together all these components into a coherent cohesive solution you have to have security expertise that knows how to detect and respond to ongoing threats and you have to have infrastructure and operational expertise to deliver and deploy updates globally and rapidly when you need to the complexity and the challenge in addressing all of this is the problem that we're addressing with Azure Sphere there are three components to as your sphere first we have our certified MC use this is an entirely new class of microcontrollers that we're working with our partners to create and there are years of Microsoft learnings building highly secure devices that have gone into the IP block that is in every azure sphere chip so there's Microsoft security technology built in second we have our operating system it's secured by and serviced by Microsoft so we now have a trustworthy platform with secured hardware and software working together and third we have our security service this service reaches out and it guards every azure sphere device that's out there it uses certificate based authentication for device to cloud communications there are no passwords used in Azure sphere because of the vulnerabilities that they present it also monitors the entire ecosystem of azure sphere devices for emerging threats using online failure reporting and finally it provides the update mechanism and channel for both OS and application updates so how do you implement as your sphere what often comes to mind for folks is the greenfield building into a new device designing in and you can absolutely do that but there's also the brownfield there are all these existing devices out there and you might not be ready yet to update the equipment in your factory or your building or your retail environment so we'll talk today about how you can get started right away in the brownfield with as your sphere we're really excited about the growth in our hardware ecosystem at the heart of every one of these options are the azure sphere certified MC use we have development kits that can help you get started prototyping if you're building a new device we have modules that can accelerate your time to market and for the brownfield we have Guardian modules powered by as your sphere so I'm going to turn it over to my colleague Steve he'll talk more about guardian modules thanks Lena so as somebody mentioned brownfield scenarios include existing devices that may or may not have connectivity already built into them at any rate these devices may not be suitable to be directly acted to the Internet she mentioned the seven security properties in the paper that we talked about and I invite you to go review these seven properties look at your downstream devices that you want to connect up and make that determination for yourselves however a guardian module powered by a geosphere is meant to secure these downstream devices so let's take a look at some capabilities and some scenarios where you would use a guardian module first of all what is a guardian module and what is it not a guardian module is not a gateway so don't think of it as a network appliance you would hook up and shovel data through at the network layer to route to the Internet it does ingest data from the downstream device it can perform some limited processing and filtering and of course it secures the downstream device by being in front of it as a connectivity service for upstream communications connectivity to the Internet services whether it's Iorg central or other varieties services we support Wi-Fi and Ethernet today and for downstream communication protocols and interfaces we support a variety of things you are modbus serial spy etc a couple of things to keep in mind as you go forward and look at what you want to use your guardian module for there are very limited resources for storing data and for processing data so don't think of this as a full-blown azure IOT edge device that has a rich set of capabilities for things like cognitive services you definitely would need something something larger than what we've got for that in addition it has limited storage so as you look at your downstream device and you're thinking of well what kind of data am I gonna push and pull from the internet you really need to consider where that data is going to land because the curt for a guardian module 4 as respira today there's limited storage on the device so here's an example of see if this works I don't know if you can see the laser dot so I'll just point him out here's an example of a guardian module today so you can see you have the address for your MCU on there and if you look closely it's attached to an AB net module Kaleem I mentioned this in her previous slide about the ecosystem for downstream interfacing we have Ethernet so this is the interface would actually connect up to your downstream device whether that's you know a toaster or whatever you're connecting to you have some external LED indicators and you might want to consider doing something like this pulling those indicators out to the external enclosure so that the operator has some idea of why if I status power status other status indicators that you'll want to bring out to them this particular one is powered by USB and it's got an FTDI chip for onboard management as it goes to the factory for provisioning and whatnot so let's take a little bit closer look at a communication flow between a guardian module power bi as your sphere and the address for your security services so you can see down in the bottom left corner there we've got a brownfield device some existing device or equipment we've got the azure sphere the guardian module they're powered by a geosphere and up top we have the azure sphere security services and azure IOT services in this case azure IOT central so when an address sphere device boots up one of the first things it does and you can see in this green line there one of the first things it does it's going to check for application and OS updates so if there's any operating system updates that have been released it's going to look for those it's also going to look for applications that the customer has configured maybe v1 to v2 for over-the-air updates as part of this process the very first thing it does i thinik gates to the address for your services and then it performs what's called remote attestation I'll talk more about that here in a little bit but in the happy path where everything works at the station is successful authentication of the device is successful what happens is the device will get a certificate if you guys are familiar with PKI or certificate authorities it'll get a standard certificate for client server or client off from the address of your security services to the guardian module and it can use that for subsequent authentication to IRC central for example so let's talk a little bit more about an area that I was talking about here previously authentication and attestation as Felina mentioned one of the key problem areas for IOT devices are using air passwords and I'm not just saying weak username passwords I'm saying any username password if you guys are familiar with the mirai botnet it made news a couple years back it's still making news its primary attack vector is through user name and passwords so after sphere has gotten rid of all of that there were no passwords used to authenticate to the device and as I mention in the previous slide that leverages the azeris for your security service in order to enable what I like to call high assurance a certificate based authentication I say high assurance because as it goes through at the station and authentication with a service is a number of checks it goes through to make sure the device is not only genuine but also trusted so let's let's talk a little bit more about how remote activation works first of all whoops first of all when a device connects up to the address for your security services it's going to authenticate the device and indication to a device or other device proves a device is a genuine as your sphere device genuine doesn't necessarily mean trusted though right so it could have been originally let's say it's OS version 1 and it was genuine it was signed as a genuine product but over time vulnerabilities vulnerabilities are exposed over time new operating system updates come out and there could be a time where that particular version of the OS is no longer trusted so attestation proves that it's still trusted what happens to an attestation kalenna mentioned the harder route of trust so within an address for your device we have will call the sub component called pluton and pluton is our hardware root of trust the hardware root of trust essentially takes a set of measurement data of the operating system performs some hash hash mechanism on those and signs it with the unique key to that one device we don't share keys there's no global secrets across all devices here during activation it sends a data up to the azure sphere of security services the services verifies that it's signature is correct for that one unique device verifies of the measurements and it looks at those measurements as hey are these set of measurements till trusted if yes great go ahead and go down the happy path you give them a certificate etc if not go get an OS update so let's take a little bit closer look at how address for your issues those certificates if I can get this switching to work a couple of key concepts I want to talk about one second we have something called an address for a tenant so think of an address for a tenant as a logical grouping of devices you might have a set of hardware and you're going to group that and essentially collect those or claim those or assign those devices to an address for a tenant in order to manage those devices and so here what I'm showing is I'm saying hey go select this particular tenant so I pre-baked some stuff in here and saying hey I've got a tenant with this gooood go select that tenant when you install the address for SDK you get a number of different tools in here one of those is our command-line interface tool called AZ sphere when you create a tenant and I'll go into some details behind the scenes what actually happens when you create your tenant when you create a tenant what we actually do is we actually create a certificate authority to ensure that these devices are only issued certificates that are assigned to this particular tenant so we have multi-tenancy concepts there where every particular tenant has its own individual CA so you can't have devices get in CA is trusted from other chains if you've ever managed certificate authorities you realize kind of how complex this can be and for a IOT devices or in IOT devices in general I think this is this is a great story here you don't have to go ahead and provision these manually you don't have to manage the lifecycle here so going down that path let's take a look at the actual certificate authority for this particular tenant so what we have here is a command that says basically I've already picked the tenant go download whoops go download the I didn't have it free down here one second go download this certificate so what's happening is when I math indicated through this command-line interface I'm actually kated with my adder Active Directory account so if we look at this certificate here really quick I don't know if you can see that but that GUI there is the same GUI that I put up here for the particular tenant gu8 I picked now why is this useful where it actually comes into play is when you're authenticating services so let's take a look at IO 2 central here within IRT central we've got this interface here and you can see here if you can read that it says the route or any media certificates shown below can be used to generate leaf or device certificates so what does this really mean what it's saying is hey upload a certificate authority cert to this interface and devices that are issued certificates so we'll call them device certificates devices that are issued certificates from this particular CA can now Affinia gate to this IOT central application so let's go ahead and do that really quick we're going to pick the CA cert that we just pulled down from the address for your security services and we're done no it says needs verification so why do we need verification here we want to prove to IOT central that we actually own that certificate authority there needs to be some proof that hey this certificate authority is something that I actually can manage and control so if we go in here it's basically getting a journey of what's called a verification code what it's asking for is it's saying hey prove that you have access to this CA by taking the verification code generating a certificate with this unique verification code and upload that to our - central for verification so let's do that it's gonna generate a unique code here we're gonna take that we're gonna go back into our command line interface here and we have a download verification certificate we're gonna put in that unique value there and generate a I call a pop dot CER or a proof of possession certificate so we're gonna take that oops so it's checking and making sure that it's actually issued by the original CA certificate that I uploaded previously and we can see now that the certificates verified so kind of an end-to-end they're looking at like how you can get rid of username and passwords to manage as your sphere devices how certificates can be used to actually authenticate to services and these certificates aren't certificates that you have to manage they're automatically renewed on a regular basis from the address for your security service and the azure operating system I'm gonna pop back here all right okay that's the interface I just showed and I think at this point I'm gonna bring up Dan a poem from Starbucks so I don't know if you guys saw the keynote the other day if you did there was a piece in there about address fear in Starbucks and the great partnership we've had Dan's here to talk a little bit more about kind of the rear world aspects of how that deployment went and as well as their ongoing plans so alright thank you Steve thank you hello everyone I'm Dan apone I'm the engineering man at Starbucks for the responsible for the IOT program on our connected equipment are smart upon a smart appliances IOT can mean many things to many people to our particular world that I'm in it's the equipment on the counter at Starbucks and what data we can get from those and what recipes we can push to those machines so in starb in the world of Starbucks all the IOT value kind of falls into two different buckets one is ensuring high quality product is delivered to our end customers and the other is reducing machine maintenance costs and downtime so talking about product quality that would include things like pushing recipes to each one of the coffee machines every time we have a new coffee bean it gets slightly different brewing parameters in the espresso machine or the brewed coffee machines so we try to optimize our flavor for what that bean is supposed to deliver when we talk about the ovens for example and each breakfast sandwich or muffin each of those get different settings in the oven so having a portfolio of connected equipment lets us customize each one of the recipes for whatever product is being produced the product quality stuff doesn't just end there it gets into a lot of operational behaviors of the store so with the IOT and connected of machines we're going to be able to see if baristas are properly discarding espresso shots that fall out of spec for example as opposed to serving those to customers which would not give the customer the proper product flavor that they should be getting there's a lot of machine health over time a machine barista behaviors that affect a machine health over time so after a barista steams your milk for your latte they're supposed to pulse the steam wand to blow the milk the milk that had gotten up in the steam wand out of it so with the connected machines we are seeing how good the stores are and actually complying with that and helping store managers train their baristas better to improve the machines health over time on the maintenance side of things we're seeing the ability to help technicians in the field remotely troubleshoot these coffee machines these things are expensive they're like 20 grand and it's the most expensive object in the store so if the machine is broken and the technicians have to come service it they learn about the problem and realize the Machine needs a new boiler and inevitably they don't have a spare boiler in their truck so they have to tell the store that it's on order and they'll be back in 3 days to install the new boiler so that store has now had a down machine for three days which does not make the baristas happy and customers can't get the product they need which makes the customers unhappy and we've paid for two technician visits to get to go to that store to solve that problem the remote troubleshooting should allow that technician to have the boiler in the truck on the first first visit out to the store so in our stores we have all of these espresso machines blenders refrigerators water filtration system ovens all of this existing equipment it's basically the exact scenario that the brown field devices that Steve mentioned connecting brown field devices so the Guardian module that was on screen a few minutes ago is what we're using to actually connect to these coffee machines we have a new espresso machine rolling out to all our stores that's kind of the lead program taking advantage of the the IOT program there are about a hundred or two hundred of these installed at the moment and will be several thousand by the end of the year the espresso machine in question here the espresso machine sorry I lost my points so when we have the so the espresso machine actually connects to the Guardian module with an Ethernet connection for data and the espresso machine also supplies USB power which is actually a common scenario for this existing industrial equipment a lot of these manufacturers put Ethernet ports on their machines thinking they would be connected someday not really totally sure how it would actually play out in the real world and they usually all have USB ports because that's how you manually update the firmware or manually install new recipes on the machine so the espresso machine or the coffee machine or the oven are all able to communicate to the Guardian module over Ethernet and power it over a USB but that's not the desired end State when we have new products and development we're trying to get these sphere' modules built into the equipment so that we don't have wires running around our store that gets in the way of the baristas it causes extra nightmares for our facilities department when they get unplugged it's it's a much better long-term solution to have it integrated but for now we're dealing with connecting legacy equipment so we've got these Guardian modules which are going to be mounted under the counter right below the espresso machine the guardian module is joining a new Wi-Fi network we are launching in our stores and had it will have the ability to fall back and join the guest public Wi-Fi if for whatever reason the network isn't up and running and then the Guardian module securely sends the data into our IOT cloud so all the analysis all the dashboards all of these things are built in the azure cloud platform we have a close close relationship with our Microsoft friends when we originally started doing connected appliances it was with a coffee machine called the clover which is what Starbucks stores used to brew reserved coffee for our customers today those machines have been connected since 2009 and they have been a physical hard wired Ethernet connection what that decade or so of use has shown us is that there is great value to Starbucks by being able to push recipes to these machines and monitor error conditions in these machines what it has also shown us is that it's too expensive to expect to be able to hardwire all the appliances in our stores so for years we've been looking for a Wi-Fi solution that has security all the security boxes checked as well as offering some sort of platform for managing these devices in the field so when our Microsoft friends started talking to us last year about the sphere platform we were all ears and jumped in to make this stuff happen with them but that's not to say it's easy because IOT is actually really complicated in the real world and there's a bunch of different reasons for that starting with like thinking about how many college majors are called IOT right it involves like a million different disciplines there's the person who knows about the firmware running on the coffee machine and the person who knows about Wi-Fi infrastructure and the person who knows about the security concerns and it's just the knowledge base is spread across a lot of different people and different academic backgrounds and what that manifests itself in the corporate world is that all of these people live in different groups inside Starbucks I'm probably working with eight or so groups that funnel up to like this five different executives and so working across all the teams even though we're all working on the same project it you know we're all working toward the same goal it's just sometimes hard within efficiencies or duplicate of work and it's just the nature of trying to get a big project done in the corporate world then all of the work outside of you know once you get outside of the Starbucks view of it you're you're dealing with an entire network of companies right our our Guardian modules is a partnership between Starbucks Avnet and Microsoft and then we've got the whole fleet of Wi-Fi providers that we're using on our in our portfolio of stores like you know the googles and CenturyLink sand internet providers of the world and then I've got this portfolio of equipment run by several dozen or sold by several different several dozen different companies around the world most of which are not terribly savvy about software so if you think about the refrigeration company they're experts at refrigeration but they probably don't have any software engineers on staff and the espresso machine companies know a lot about brewing espresso but they don't know about software either because they're an espresso company not a software company and so when we show up with these companies and present them with the API spec for how their machine is supposed to communicate with our Guardian module we get a range of answers from that's easy we'll have that done in a week and release a new build of firmware for the blender all the way to what are you even asking me and you guys need to fund a software position at my company to even take on this work just to send a couple JSON strings across a wire and it's it's delightfully entertaining experience seeing the range of companies and their interest in playing along with this but obviously as a corporation the size of Starbucks we buy a lot of equipment so most of the ecosystems is generally interested in playing along with us here and so if you've made it to the Starbucks exhibit up in the fourth floor of the Convention Center you would have seen two coffee machines and then a dashboard put together in the IOT central with the ioc iot central toolset and so that was done by a gentleman right here marchello so I'd like to invite him up to talk about the world of IOT central good afternoon guys so as then in a wonderfully candid way you know explainers enterprises are really facing a lot of complexities when it turns to you know embarking in this type of digital transformation journey what really happens is that because of the complexities in terms of skill sets investments time a lot of companies that are starting this this journeys of digital transformation at some point gets stuck gets stuck because maybe the investment that they envision at the beginning you know gets massively over budget get stuck because you know they realized that they don't have the skills in order to you know take home that type of project or get stuck because you know they realize that they won't be able to you know get the product and gets you know there are the business results out of the door in time this is something that has been very well define in a famous book by Jeffrey Moore called crossing the chasm his book about innovation and is a book that really defines without the challenges of companies that screen really need to innovate and so crossing the chasm is really a key point and cutting down on the complexities that are related to our IT projects is really what you know can enable customers that are starting these transformational journeys to you know being able to be successful with that this is why as Microsoft we announced I think almost a year ago that we would invest five billion dollars in IOT and the main goal and main worth of investment of those five million dollars is actually to help our customers and partners to simplify their digital transformation journey it means that we are building technology and services and products that would obstruct most of the complexities of our modern IOT infrastructure by raising and making available only the capabilities that are needed in order to enable the creation of reach Maude and powerful IOT applications the product that best embodies this strategy of you know cutting the complexity actually taking on the complexity of cells with our cloud with Azure so that our partners our customers don't have to is a product that is called our charity central which is you know the project that Dan was mentioning so our IT central is our hosted IOT solution platform so it means that it's based on the same IOT building blocks that you know you can you know use and leverage as are your services but it matches it up together as a single service that provides global scale automatically bility automatic disaster recovery high availability and a single SLA for the entirety of the services the underneath so effectively you can get out-of-the-box capabilities like device connectivity device management monitoring rules that are based on streaming data the ability to map user roles and permissions and and to create rich experiences in terms of dashboards and automatic monitoring capabilities really without having to deal with the underlying infrastructure but since its best shown that just you know talked about what I would ask you know Steve to come on stage and do with me it's actually show you how easy is to take an Ashes field device from scratch builder the code that runs on the device provisioned a device with a sphere security service and then correct it to central and user ID central to customize an application and you know transform it into you know a real rich experience now this is something that usually is allowed man that takes a you know weeks monster we will try to do it in 15 minutes so we'll cut some corners and you know we'll have some sometimes something that we get you know already baked out of the oven but we'll try to do that Steve wanna start okay me one second here let's see okay great hey guys again so I'm just gonna show you kind of how simple it would be to hook something up from our Azure Sphere SDK into Azure IRC central as marchello mentioned so what I've got open already is just a default template when you install the azure sphere SDK you end up with a number of different kind of boilerplate samples here and the one we're gonna choose is the azure IOT hub sample behind the scenes so he talked a little bit about azure IOT central as a hosted platform you don't have to worry about the managing the IOT hub behind the scenes but behind the scenes I was control is an IOT hub and that's we're kind of using this particular sample to kick it off so one of the things when you when you go ahead and load up this sample is what we can do here is look at sorry else would be better where is it uh you know what hold on one second let's just open this one fresh one okay so there it is right off the bat and you can see here that what we've got is this overview section here and in this overview section again this is kind of installed will you install the address for SDK you can look at the device that's currently connected to your dev machine so in this case I have this small dev kit here which is hooked up and you can see here that we have some information about a device ID the Wi-Fi status things like that one of the other things that we have is this connected service wizard and we're gonna go ahead and run this also and what I'm gonna do is I'm gonna pick just an existing IOT hub that I have we're gonna modify that and show you guys how to hook it up to higher to central so in this case what it's done is it's inserted a bunch of boilerplate code and some helper functions for eyes your eye o t hub and so what we're gonna do is kind of modify this look at some of these functions so one of the main messages here is send messaged IOT hub so instead of sending hollow from azure IOT sample what we're gonna do is we're gonna add some code in here essentially simulating temperature and humidity so I've just built in a couple of snippets here and this is really simple it's basically saying hey give us some random values for a temperature some values for a humidity and send this off in a key value pair to azure IOT send message so let's take a look at azure IOT send message here really quick all right so insane message it's pretty simple you come in here with a currently just a standard message payload you're gonna pass that into hub message create from string and then you go to send that event off to your hub a couple of things I want to show you before we jump into this also when they say you're gonna send this off to the hub as your sphere and one of the things I didn't mention previously as as your sphere by default is pretty well locked down so I'm gonna show you what we call the application manifest here and if you guys can see that very well it does it fly off the screen here how's that better okay so in here we have a manifest for this particular application and there's a bunch of things in here by default like I said it's pretty locked down in this particular example we've opened up all these GPIO s but by default you have to define them specifically explicitly if you want to access them the same for allowed connections and then the same well device authentication in this case should be the tenant ID that we use previously when we hooked up that last example I gave you two azure IOT central so I've got some pre-baked values here I'm just gonna take these pop them in here and what we've done is we've defined the connections to the hub that we want you're interested in we're connected we've predefined the device authentication tenant ID is the same way that we use like I mentioned for the certificate example I gave previously the next thing we need to do is we need to make sure we have the correct scope ID for our azure IOT central application so we're going to take the scope ID and we're gonna take this and pop this in here so now we're going to connect up to the we've enabled adders for you to connect up to the correct endpoints we know it's using the correct tenant we have the correct scope ID for the application and we're gonna go back into the utilities oops sorry we're gonna back in the utilities here and change up that send message function so where was I okay message payload so we again I mentioned that IO to central when you define something like hey here's a temperature value or humidity value you're going to define hey the temperature is you know thirty five degrees or something like that humidity is seventy percent so we're gonna change this up to you to include or accommodate that key value pair that I mentioned previously we're just going to comment this out so all we're saying here is hey take this take the the key name in the value name insert it into the message and create it from string and then we're going to hand it off down below here we also need to modify our definition here so let's do that and let's change the did I okay let me go back there ah thank you okay so that's pretty much it we should be able to build this let's see hopefully okay and if everything works out nicely it'll actually connect up to the address for your services it'll actually pull down our certificate it'll take that certificate it'll use that to attend a gate to the IRT central services and it will push up some data to the services so let's see always a little dicey so while that's going under the covers what I didn't tell you is that the azure sphere SDK automatically includes all of the azure IOT C SDK so that's all bundled in here so we're really leveraging under the covers here is the azure IOT c sdk if you guys have used that at all okay so we should be able to tada send some data up there and looks like it were let's check our application so within here what we're going to do is we're going to look at this specific device in device Explorer we have this particular guardian module example the device I've got and yay we have a data point so within there we have just a few easy steps to just get yourself up and running it worked to hook up to i/o central I'm gonna hand it back to my chela here he's gonna show you some more advanced scenarios of how you can configure IOT central thank you Steve so the demo gods are outside today and so we cleared in just a few minutes the first big rock right which is you know getting a device which is you know a vanilla device and you know build a code deploy on the device and get it connected and sending you know data to the cloud now at this point what we can do without you centrally start to turn you know this device that right now just you know shows some you know measurement on on chart to something that is meaningful us is really turning the raw data that we are getting to this device from this device into actionable insights that can drive you know a rich are rich application and in order to do this right central provides us with a bunch of capabilities that again are obstructing the underlying services so that we can take advantage of those without having to deal with with the services themselves so when we create an ID central application we are a bunch of you know discover ages we have the committee to explore the devices so you saw our device you know was by Steve automatically provisioned and enrolled and that automatically shows up inside IOT central we have a committee of group device with basically queries dynamic queries that we call devices in order to create you know fleets of devices in order to then use the data coming from those devices to you know run analytics to the device management and so on and so forth we have the ability to do analytics so to use the right set and run you know time series queries in order to you know find anomalies to run jobs which is effectively WT to run remote commands or orchestrate series of configuration updates and commands on those devices think as an example you know performing a filmer update or a configuration update on the device and then we have the ability to modify what we see and the behavior of those devices with a WYSIWYG environment that is you know directly embedded inside the IT central application and for each device we define a specific device template which is effectively represent the schema of the device which is the combination of the schema of the data that we expect to track from that device and also the scheme of all the additional information that you know we relate to that specific device the metadata the behavior so the rule and the automatic monitoring rules that we run and you know also the dashboard which is you know the ability to create and template eyes compelling visualization for for data so as you see you know over here we have a bunch of you know telemetry data points that are the ones that were defined you know in the code by Steve then you know we can define specific template its previous settings which is you know configuration that we can send back to the device we can track metadata about this device and those can be metadata that we store directly on the cloud or metadata that we want the device to be able to updater they're easy to run commands think about you know methods that we can cool on the cloud and run down on the device so monitoring rules which is effectively the ability to monitor conditions based on the telemetry so based on the payloads that we are getting from the device in order to trigger specific behaviors inside or outside IT central and then the ability to create you know compelling now it takes only you know just a few minutes you know to do this but you know that save a little bit of time I have an example of you know a similar template that I did starting from you know the same starting point as this but you know giving it the flavor of what a real device powered by an address field you know not just a board that will actually look like so I go back to the buy stamp later as you seen in addition to the Guardian model I just created a you know a fake power generator this power generator as you can see as the same temperature and humidity as as the Guardian model but also added you know additional type of you know data that we are tracking imagining that this device could have accelerometers gyroscopes amitis for example the ability to define states and ability for the device to send specific events that we can track and map you know to specific to specific behaviors there in terms of setting so you know we just defined a bunch of you know commands a bunch of configurations that you know can be related to a power generator like you know the speed of the cooling fan properties those are the metadata that you can expect from you know an industrial machine so tracking what is the model what is the serial number when it was installed while the people that are in charge of maintaining and so on and so forth command sir you know the example is a former updater you know process that we can trigger from here monitoring rules this is interesting here I have an example of a monitoring rule very simple so a monitor alert so I'm constantly monitoring the payload for the temperature that data values that are coming and I'm basically running each payload that I'm that I'm getting against a very simple condition in this case I'm monitoring that the value is you know greater than a specific number an integer 100 in this case and at this point what I can do and I have a visual representation of you know my role with the data that we are getting from this device I can trigger specific you know actions either inside the product which is you know sending an email notification or you know Konya web or or even outside the product and we have first-party integration with some you know major other services that we sure will you will recognize from other functions to other logic apps other monitoring action groups and micro flow now flow is particularly interesting especially because we have a flow connector which is well whose authoring is actually integrating in the UI of our central so you will be able to define your micro flow directly from here and we also have templates so that you can start with but also you can start from scratch and actually in the flow catalog of action you will have IT central specific actions and triggers an example you know we have you know templates to a no trigger specific action in max of dynamics in teams notification in the flow apps you know SMS with our partner Twilio emails from Outlook but also we can start with a sort of a blank template that will you know enable us to kind of take a look at you know what we can do to flow now I don't want to give you a full flow demo that's a different session but just to give an idea I you know just login with Microsoft account and I have my template and as you can see now it's loading the data of the application that is triggering the flow which is you know this build application and this is the rule that is triggering and then I simply add a new step and from here I can tap into the vast catalog of actions that flow is providing so something you know super you know simple like creating a new SMS a new notification in inflow like a mobile notification and then from here now the the type of metadata that I can define in a notification are limited but you know the interesting part is that for each event the triggers that is triggered by a rule I pass a payload that contains all the metadata that belong to that device that triggered rule and I can use that as a payload and can I use to create a rich notification in this case so I can you know put in a notification what was the device ID that triggered the notification itself what was value and so on and so forth to give another idea of an example going back creating a simple notification email here as you can see we're already showing a template of the email that will be send it out and using it as you can see here we have automated data in the email about you know the device type or the device name the rule and the value and the notes that you know we're triggered by this rule last but not least dashboard so the ability to use all the data and the metadata created this specific device in order to create a rich experience for the users that we'll be logging in and here is a typical what-you-see-is-what-you-get you know dashboard that I can compose with a library of widgets and you know the creation with these widgets that I can choose from a library of different types depending on the data type and the nature of the I want to display it's super simple so I just select you know a new widget that I will find you know over here I give it a name I define the time range which is basically defined in the query that I want to you know do on the time series data at I have a nice control let's say the past 30 minutes so I defined what are the measurements that I want to display in this chart let's say that I wanted temperature and humidity I just save it and all automatically I get you know displayed all the data that I have over here now in order to be able to you know have a rich experience you know it's central even before connecting the sphere device I can leverage a simulator that you know enables me to create simulated devices in order to make sure that what I'm building what I'm configuring IOT central actually makes sense so in this case I've already assimilated device over here as you can see there is simulated data coming in both in terms of you know events and in terms of telemetry and also the example of the dashboard that we just saw this is how it looks with just you know simulated data that that is coming in as you can see we can you know display you know time series data we can display widget with values it states metadata series of events tapping into a history and different type of charts and data as you can see over here we also can display maps maps are the rendering of locations that are tracked in properties so in metadata of the device so if we go back here in the properties we have a specific you know GPS location value we will be used our corporate address so one Microsoft way which is the Microsoft main campus so if I save it over here and I go back to the dashboard you will see that now the map will be rendered and will actually show you know allocation this is exactly you know the location of the campus right now this location can be just a metadata track in the UI like here but you know if I have you know maybe connected to one of the GPIO GPIO a GPS the device itself can track its location and can set this location that can be you know updated live in the device itself I also have a bunch of other committees that I can leverage in order to create richer experiences or to extend experience beyond IOT central one important thing is you know what we call continuous attacks port which is basically the ability to create different types of you know profile to explore data targeting different you know other services I have the ability to dump you know data into an azure blob storage if I just want to keep it for a long term storage I can also use the send data to HR data like Adia last gen to but also if I want really real time and real time data I can just hook it up to an event table of my of my choice or a service bus and I will just be able to stream the data from all the devices that you know I would have connected you know seamlessly to that specific to that specific application and the configuration again it's very easy I just you know with the same UI are justifying the parameters of I you know export I defined what type of data that I want to export I put the connection story of my event hub in this case and I will just you know it save and I will be all set so this is just you know scratching the surface of everything that you need to be able to Central and it's worth mentioning as last thing is that all the capabilities that showed here L so the other companies is that I didn't have time to show just you know what we expose so every single cop creating maps into a specific Archer service that is part of IOT central but it's a service that you don't have to manage it's part of the product which means that if you connect one device who will scale that service and all the other services in order to manage the data and handle you know one device if you decide whenever you want to connect 1 million 2 million 10 million devices the own infrastructure the old service is gonna scare you know to provide a you know all the proper size of services that you actually need for that device and also the pricing is an abstraction so you don't pay for the services that are underneath you just be you know a single you know bill for IOT central as product and this is about IT central is a great combination with sphere it's an end-to-end story for security and you know IOT enablement without having to deal with most of the complexities of IOT so thank you for today we will remain here and also you know with Lina and then for your questions and you know I invite you to geta a sphere dev kit get you know open up a central spin up your own application is actually free for up to 5 devices and just try it out yourself thank you so much [Applause] yeah if you can go to the microphone guys I've questioned we can use the microphone sir over here is very just form a line my question was just in regards to the marketplace that you guys have for certified devices that I saw earlier and if there would be something so we have a lot of ble devices that connect to a central gateway to connect to the cloud and I'm looking at this and thinking well maybe we could do more purchase solution rather than having to build everything ourselves but we'd have to have the capability of connecting to the ble relay and being able to firmware update of the downstream devices which are ble connected so Mike my question was just is there something already in existence that was that you guys know if that would do that this is maybe a blast rate to the sphere but you know you have asked the case you know they could even be on sphere that you know will enable you to do you know to use a you know phone device as a gateway and being able to you know connect those ble devices and you know being able to manage that seamlessly and there is a I don't know if you saw in the convention center there is a module by us I believe it has ble built into it okay and you could start with that Thanks I why didn't you use an IOT edge device and so the Guardian what wait what's what why do you choose the Guardian module instead of like an ith device for this so as a question why why would I not use an IRA teach investor why didn't use an IOT edge device larger sphere device in this case so the you the guardian module it knots the I did this ideas just fair was put in the so what does the gallium what you provide what does it provide that guardian module is more of a kind of a concept or deployment method like if you have brownfield devices if you have existing hardware you don't want to buy a new hardware that has all those embedded IOT you want to utilize what you already have you could hook up an external module so we call it a guardian module up to it gardening modules are powered by hydrosphere so the dev kit that I'm showing is also powered by a dreary right the address here is the MCU the the chip on there is no extra like compute nursery on the onion but everything is on the sphere correct I um any hope for do dessert or sect ego PK I managed chains being integrated with as your sphere down the line as opposed to Microsoft's right it is a question can I use essentially external CA chains to authenticate or on the device to authenticate to other services or just an azure spear enjoy sort of the Microsoft there's no no plans right now I think what you're asking is if I could somehow integrate my existing chain or a different chain into address for superior services into my tenant and then when the device connects pull from your existing chain correct because we have corporate policies for yeah currently no okay but that's good feedback glove talk you afterwards really quick question any chance of adding reclaiming a device or moving yeah so reclaiming device or moving the device we get that feedback a lot especially the dev kits as you're moving in between developers and things we're working on something for that I think we hear that a lot that's currently we don't have anything to change that right now sorry plans you know we're thinking about how we can do it securely so I think the real challenge here is how do you identify a devta device versus a production device because in its production device you certainly wouldn't want to be able to reclaim it to different tenants right so that's the challenge we're kind of working through right now I just fears a lot about the seven properties and I guess when in one of the earlier slides you said it's as three are certified MC use it's about the verification that these properties are there if you go into an industrial security space customers typically very very quickly are interested how strong is its actually it's the security claim is there any documentation how much protection the actual solution provides like for example is it a protection against SP is DPA side-channel attacks all the text is kind of stuff and in good practice in the security businesses and first of all that you define your sick goal and then you sub subjected to an evaluation that eventually proves that you have not made any fault in the implementation so that as a customer you really get what you think you get is that part of the certification program or that's a great question I can't answer that but if you stick around I think we have some folks who might be able to help you on that question around like kind of what does it mean to be an address for your certified MC you or I think another way to ask that question may be to solve what your thinking is like are there other certifications that we're looking to comply with like tips for example or something like that that would help in that to tell that story is that yeah stick around I think we've got some folks up front you might want to talk there yeah does there a security target exist a documentation about yeah I talked to Josh about this earlier but I'm gonna mention it again the underlying assumption here is you have a high-speed network available there are a lot of devices that need cellular connectivity and when you go so with cellular connectivity there are a lot of underlying issues you need to take care of backing data compressing data it's a lot more expensive you need integration with cell phone providers so you can get billing information and there's just a lot of other stuff there so really need a solution that integrates all these capabilities into a cell phone network based solution no agreed I think we've heard that feedback before and we're definitely investigating that as a future connectivity option hi I have two questions one is around as your spear so let's see if we have an asset up or where we have an IOT edge device and so where the where would this which is not spear doesn't have as your spear built-in so where would this guardian module sit where it set on the device side already sit on the internet side yeah so if I understand a question already so say you have an IOT edge server and you have this concept of a guardian modular sphere where does it play in this space so address fear or guardian modules power managers fear wouldn't serve as the actual IOT edge device these are very constrained devices they don't have the power to run a container for example for my o th modules so that way you would look at this as you would look at the guardian module connected to your brownfield device as a downstream device to the IOT edge server o connecting through the IOT edge server processing cognitive services or whatever and then setting that up so it means that if I have a hundred different divide devices don't field devices connecting to my IOT edged and what I need hundred different Guardian modules to be hooked up yes okay all right and the second question is around IOT central you mentioned earlier that there is a cost associated to purchasing the IOT central right as opposed to underlying a cost so if I'm doing something like a proof of technology for a client and they just want to hook up few devices do you have any package that word yeah yeah so I just centralize a free queue is a sort of a freemium model it's free up to five devices and then you know you start paying up to the six and how do we do define a device because there are could be cases where we have one device which is serving other five devices whatever makes sense for you in the sense that whatever for you as the identity of a device whatever comes with an ID it comes with you know I think the dedicated authentication that's the device for you of course you can you know mash up multiple physical you know devices into what you call advisor but it's up to you okay thank you thank you so much guys Reed appreciated thank you [Applause] 