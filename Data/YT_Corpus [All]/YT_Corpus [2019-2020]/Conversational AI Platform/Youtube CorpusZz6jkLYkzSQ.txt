 [Music] so how do we get to where we are so Google's big it's not really a surprise but we have hundreds of buildings we have tens of millions of square feet on all of our offices and all of our labs and we have difficulty managing that right so there's existing tools and platforms have difficulty scaling data standardization and practice is difficult and so what we've done is we've built tools that allow easy fast and accurate commissioning at scale because when you think about it you know building management today is really fun right and the answer is not really so we built this platform in order to manage our buildings better and fundamentally we want to run Google on Google right so we want to be a customer of ourselves so that we can show this is how we manage our data and our buildings so we want to be able to access our data we want to be able to analyze it and we want to be able to act on it so today we're going to talk about the platform how we built it some of the data science behind it and then we're going to show you a little quick demo of the kind of applications that you can build on it so today when you're thinking about bidding building management there's really sort of three personas but the first one is if you're a landlord or the sole tenant all right so you're caring about things at scale you may not care about an individual building but you care about how for example the energy spend and the space utilization happens at scale and why this building is working better than that building right you may also be the facilities ops manager that's a little bit more focused you care about a particular building or a particular campus and you want to know how you can actually operate it better you might be dealing with trouble tickets you might be doing truck rolls in order to do maintenance and so forth right and then there's the occupant right so all of you here today probably work in an office and you care about having the building be comfortable you care about the facilities being you know able to let you get your work done efficiently effectively and comfortable so what's the opportunity here well so first is energy that's the first one that anytime someone's talking about smart buildings they really sort of hone in on right you want to be able to use less energy and you want to spend less on it and that's the I don't think we really need to go into too much detail about you know sort of the motivation behind there it's both on costs it's not efficient see it's being more green right if you're on the operational side you know I don't think it's uncommon to say that people really get alarmed fatigue right if you have anything to do with operating a building you know that there are literally tens of thousands of alerts that come in either weekly or monthly that are just routinely ignored you don't have the time to be able to dig into the ones that you really have to take care of in order to address issues that you have either with occupants or with your facility overall and they hide efficiencies that you might otherwise be able to realize if you were able to dig deeper and then on the productivity side answering hot and cold tickets that means people are uncomfortable enough not to be able to get their work done and they're telling you about it if you're managing the facility and moreover you know Google has tons of buildings some of them are very complex layouts people have a lot of meetings and we have found that people actually spend and this is a measured amount millions of hours searching on the floor for the meeting room that they need to get to now there may be the issue that you're having too many meetings that's a separate discussion but fundamentally you need to be able to get people to where they need to go faster and then there's something that it's very important I'm not gonna be able to go into too much about it today but it's cyber security you want to make sure that the devices that you have and it's a growing set of them in your building whether that's HVAC so climate control whether it's occupancy sensors whether it's different kinds of alarms for you know water life safety that kind of thing all of them are safe and they're communicating in such a way that they're only communicating the way that they should and that somebody isn't going to be able to you know compromise your network through your air conditioner right so there's lots of stories that you've heard about that in the news and we don't want the systems that we're building over here to be one of those vectors so our platform is really to the to the rescue and you know the the none of it really is we want to have the ability to stop having people be your censors right you want to be able to use sensors that you have in the building and you want to gain the intelligence from that right so on the energy efficiency side you win and be able to gather and aggregate all your data you want to be able to use machine learning ml to detect anomalous behavior so that you can address it on the efficiency side you want to be able to filter all of those tens of thousands of alarms that you unfortunately aren't able to get to to get to you know the small number of them that you actually want a dispatch attack or dispatch a truck to actually take care of and when you have people who go on-site to address these issues you want them to be better informed you want them to know where the devices are what's actually going on and what could be the root cause of causing them to malfunction the occupant side you want to be able to not wait for the trouble ticket to open up you want to be able to detect that something is bless you it's sufficiently howtube and to be able to you know proactively address it and you want to be able to definitively get people to where they want to go right so they shouldn't be lost they shouldn't waste time where you know you're waiting for that last person to show up for your discussion or your meeting and then on the security side we want to be continually monitoring these devices to make sure that they're only communicating in a way and only can - the devices that they're supposed to be and like I said you can talk more about that afterwards if you're interested in that particular aspect of the presentation so today's building management systems are really siloed right they've been around for a long time but fundamentally you're going to have for each one of the different silos whether it's a V or energy or lighting or security they're gonna have their own UI they're gonna have their own stack their own storage which may be on pram it may be in a third party cloud it may be through you know an API to access the devices they're gonna have their own networking requirements and they're really they're separate right they also tend to be very rule-based they don't tend to be learning so it makes it difficult if you get your rule set up just so for one building to be able to take them and put them into another building it's basically a lot of walled gardens and that that's problematic right and today you know it's also sometimes difficult to be able to take all of these separate silos and combine them into a more cohesive orthogonal platform where you're able to access things and apply the same kind of intelligence to one system as to another so what's our approach this is the platform that we want to build it really orchestrates all of this together and you know it starts with the fact that we want to be able to take any kind of device like I said whether it's a climate control whether it's a sensor whether it's security and think about it in sort of a orthogonal way right so we want to be able to have an API that your mental model of how you think about all these is the same so at the bottom you have your devices and your network and your connectivity so you know fundamentally that's not what we're going to go into we assume that you're going to have some kind of a gateway you can have some kind of IP connectivity so that you can talk through these devices and communicate with them and they're going to use you know any kind of industry standards Modbus back that etc to communicate with you and we're assuming that you have all of that set up that's kind of a you know standard understood way to do things but then on top of it what we're going to do is we're going to take the data from each one of the devices and put it in a data layer when I say data lake to you that means a lot of things to different people but fundamentally to us it's a time series database stamped for each one of the devices and done in such a way that we understand the ontology the relationship of the devices to each other have generalized them to different classes of devices and we're able to access them in a structured way all right sometimes a data Lake can be thought of as just sort of a collection of data but here you know we're putting order on top of it we do that using a building ontology and metadata about each one of the devices and char Belle we'll go into much more detail about that later and another thing that we do which is I think a little bit different than other systems is we have spatial understanding of where these devices are where they are in relationship to each other for maps for the building so that not only do we know what the device is what it's connected to its relationship to other devices but where it is as well and of course none of this would be useful unless you had API is in order to access the data and we do so using the same kind of mental model that you do for all of the other Google cloud platform stacks and technologies that we have you know this is something that we did because it makes sense to do it in a standardized way so that other developers who are developing apps on top of this are able to access it in the same way that they do any of the other cloud platform technologies and altogether this is what we're calling the digital building platform right so taken all together that's sort of the the special box that we had black box if you will that takes in the data on one side and provides it to applications on the top so this is where we've built some third we worked with some third parties to take their existing systems that do things like alarming and analysis and so forth and they use our platform as the source of their data or we also have some groups inside Google that have built first party applications to do things like anomaly detection and alarming as well so how do we are grown a building now what is on boarding me so I'm boarding for anyone who set up a building automation or a building management system is taking your devices and being able to talk to them and getting them connected into whatever kind of management software excuse me or platform that you have and it usually is a very painful process sometimes it can take days sometimes it can take weeks well with the platform that we built we started there and it actually did take us on the order of days or weeks on board building but we actually got it down to the point where we can do it in a matter of hours for most of the buildings in Google which is a pretty big impressive thing right so we start where you either have greenfield with your new devices or brownfield with your existing devices and those devices might be individual so they might be something like you know an air handler they might be something that you think of you know sort of in aggregate together where you have different component devices like a B a B or something like that inside of it and you think of them as one all right and then we create an idealized representation of them right so you have one where you think of each one of the classes of devices in a way that it encompasses all of the special fields and data points that each one of the manufacturers devices might have in it but we do it in such a way that you can address them orthogonal right so you don't have to worry about what brand this is what type this is and so forth and so if you've ever dealt with these devices each one of them has data points that's a piece of data and a tag that basically says what is this what does it represent what units are it in and so forth and in the idealized representation we have the same thing and we do this in such a way again to make it so that you can treat all of the devices in a particular class the same and then we need to figure out for each one of these data points what semantic tag what what tells you what this data is and what what it represents what unit it has and so forth right so for example this might be a tag that you in the actual device and here are the different semantic tags that we might break it down into because we can do clustering and matching to basically say we recognize this kind of device in this set of points that it has and this is how we map it to a set of tags and then basically we have a mechanism that we'll go through and do that matching for all of the other points and tags in the system and that way it saves a lot of the manual work that you used to be able to do have to do before to do it in a more automatic way and then of course you have the api's to access it on the top and then the applications right so in whole this is basically what the stack looks like after you've gotten something on boarded and into the building system so what do we do with all this once you're done it's all great to have the data but unless you actually make use of it you know it's not that interesting so just as an example particular problem that you might face is you know an outer set point temperature right so if you look at the box in yellow that's what the data looks like you know raw coming from the device and it says that this is a sensor that should be in the range from 62 fahrenheit to 72 Fahrenheit it's currently 81 degrees so obviously that's problematic right this has landed in the data Lake the sensor data captured the data and it put it in there it TEKT it with a timestamp right none of this is really unusual if you've dealt with any typical building automation system before but we also have the ontology in the mapping which tells you where the device is what type it is what kind of really sorry what kind of class it relates to and allows us to get more contextual information about this particular error such that when we then dispatch someone to take care of it they're able to have more of this context and hopefully are able to address the problem faster than the other what so the whole is greater the sum of the parts and you can use all of these kind of sensors together to tell sort of an aggregate story now I'm going to switch over to char Belle is going to tell you some of the data science behind all of this platform Thanks so I want to talk about how do we make sense of this data as Mark mentioned before we have all of these silos that are really in verticals where the data is trapped so if we take a step back we have really different devices and systems that are provided by various vendors and if they can vary by geographic region or by country because no single vendor can can cover the whole planet and as we mentioned that data is trapped in silos we saw we have the lighting we have the cooling the badge axis reader all of these data are really in vertical and of course when we're talking about the building it's a whole ecosystem so we need to do data correlation for better management if we know that the space is not occupied we don't have to clean it or maybe we don't have to cool it or maybe we don't have to light it so all of these simple information can give us a lot of insights to better manage space and of course we want to be able to correlate the data so we can serve it for these three personas whether you are a landlord an occupant or a facility manager so one of the ways of doing that is by relying on ontology so before I go through it by show of hands who heard about this word before okay so an ontology is a common vocabulary to refer to the concepts in a building but we can also use it as a way to express relationship between these concepts don't frown upon this definition I would go through more details so this is something we didn't invent it started with the Greek philosophers when they started to map the world how a mammal can relate to a human how does living being as related to the planet and all of that and of course computer scientists like to reuse things from the past so computer scientists reused ontology as a way to represent information it can be also in a building so in a simplified definition an ontology is just a way to represent domain concepts and the relationship between these concepts as they are usually represented in triplets and we distinguish between classes and instances so you can see we have a city and a country which our classes are connected by is located n which is a relationship and then we have the instances like Paris is located in France what is nice about ontology is we don't need to invent how do we represent them because the World Wide Web Consortium already proposed standardization like RDF our are in json-ld to represent and Express these kind of relationships so let's take an example in a building we have a location which is a concept we can have subcategories like a building floor and a meeting rooms that are also connected together and we can also instantiate them with a room a floor and a specific building so this can be seen as one of the silos and we also have another silo which is the devices we have a sensor that is measuring a quantity a temperature sensor measuring a temperature and then we have the instances so as you can see thanks to the ontology we can link these two silos together by adding relationship and connecting them together so there's a lot of ontology is out there we didn't want to reinvent the wheel at Google so we looked at what is out there I'm gonna focus in the following just on three of them and as you can see with the cloud tags there's really a lot like saref and KNX m2m ontology I'm gonna focus only on three of them so the haystack vocabulary started in 2014 and it was one of the first effort that said okay I'm gonna start proposing a vocabulary for my building domain and this is where we started to see these tags emerging so it's a tag based system similar to the Twitter hash tag where for a certain point like a temperature sensor one you sign one or many tags together so it's a tag based model it's not an ontology and back in 2014 they didn't rely on w3c consortium but they had their own zinc standard another interesting progress was provided by Siemens in 2015 which points out in a research paper the limitation of haystack the lack of expressivity ambiguity and assigning tags you can imagine that you cannot express relationship with just tags it becomes really very hard to manage and of course you need an abstraction when you do queries the tags are a very flat system when you are trying to query you might want to query by location or by an upper class so you lose that with the tags because they are flat so Siemens proposed a haystack tagging ontology which proposes to mix between the haystack tags to semantic sensor network ontology and the building models like BIM and IFC so basically what Siemens tried to do is to take these flat tags and represent it in two triples but that you can see it's not really a lot of explicit relationship just to add hashtag and The Triplets we still lack of explicitly and this is where bricks come into the picture so the brick schema proposed by IBM and several academic universities which took into consideration haystack haystack tagging ontology and serif and proposed the models that is I would say richer than just a simple tag model and it's also relied on a pragmatic approach they took around six buildings that are scattered across the globe that they've supported different vendors and they try to refine what are the concept or the common concepts of these ontology and they proposed break what is nice about brick is that it's not out there it is part now of the ASHRAE body to propose which trying to push brick to become a standard so this is a really an interesting thing for if you are in the buildings domain because you can go and influence this vocabulary and this ontology and of course brick schema guided our choice for our digital building platform because of its rich richest Ness and that it builds on prior work related to the ontology so now that I've talked about how do we represent information I would like to talk what are to talk about what are the bricks that we used to that we reuse from GCP to build this platform so we have a cloud IOT to connect the devices to the cloud we have pops up which is publish/subscribe mechanism we have data flow for bash and streaming processing and BigTable and spanner for storage and then I'm gonna show a little bit a simple chat pods that we built in a very quick manner to show how easy it is once you have the ontology and this API is in place how easy it is to tap into the system and extract what kind of whatever information you would like to have so first I'm going to talk about cloud about IOT core it's a fully managed service for you to connect your devices and systems to the cloud and as you can see on the architecture diagram you can combine it with different other components like pub/sub data flow so you can collect process and analyze your data so far in the Bay Area we have around 100 buildings that were on boarded and we have around 20,000 devices that are connected along with 120 thousand points that are publishing data to the cloud so once these devices are connected and are pushing telemetry data to the cloud we rely on pop sub which is an enterprise oriented middleware it's secure scalable and globally distributed where you have a topic and multiple subscriptions that can collect data for you so far these devices send approximately four million messages per day so which is kind of a lot just to give you an idea about the scale that pops up can handle once this data comes in - pops up you can see that you can have different mechanism to start playing with the data do some batch and stream processing on it and this is where we use data flow because it really it gives you a unified batch and processing service it relies on Apache beam which is an open source programming model so you write your logic once and then you can pick whatever running environment you would like so it can be sparked or it can be as well dataflow the cool thing about dataflow it's a fully managed unit you don't need to scale it and so it's hustle free and of course it's very scalable that support million of queries per second so dataflow is grabbing the data from pops up and then doing the processing on it and putting it in BigTable which is a fully managed no sequel database for you that can handle up to petabytes of data sets and it's ideal for Internet of Things data like the time series currently we store around 500 gigabytes of data coming from our buildings and as I mentioned we we have only 100 buildings on-boarded today and then my favorite is bellick flow Valek flow allows you to build chat BOTS or interactive agents that rely on really the knowledge of Google when it comes to the machine learning expertise related to NLU it supports multiple channels you can do chat you can do voice whatever channel you think about you can integrate it and it's one of the most widely used tool to build actions on top of the Google assistant so I will go through the demo a little bit oh I can't argue so as you can see here we have a user which can be one of these three personas it can be the landlord the occupant or even if the facility maintenance operator that will interact with the chat application that will help the facility's board which will interact with dialogue flow to interpret whatever the user input was and then the facilities bot will actually handle the call with the api's so created a little video demo of course this is just a proof of concept to show what is possible but you can stretch your mind to support any type of operation based on the data that we have in our buildings yeah I just wanted to make it high quality Thanks so what you will see here is the user is just typing queries to count floors on a certain building so the beauty of that is that once we put this in place we can change the building and tap to any building that Google is operating so it can be in Cambridge in New York it will not change how we deal with this query and this is thanks to the ontologies but also they kept the capacity of dialogue flow to interpret the query you can search for meeting rooms information such as I want to count how many meeting rooms do I have or I want to just see them I want to see the largest meeting room because maybe I'm hosting an event and I would like to know where should I book I can change sides and if I'm maintenance operator I would like to see it and understand where are these HVAC components because when you are the maintenance operator usually you are walking into a building and all of these components are hidden for you behind the ceiling so you don't see any pumps you don't see any fans you don't see any of these HVAC components so you're like ok I need to find them I need to locate them and this is where the maintenance operator can use similar capabilities with a chat bot to understand where is the device whereas this equipment I need to go replace where is it located so here we're still targeting the floor level but you can imagine we can show a map and guide the maintenance operator to go and look up where he needs to look to prepare the environment for him so we can locate a fan because he need to change this type of equipment we can group them by floor because he would like to run some diagnostic operations on them and benchmarking benchmark them by floor and how they are behaving and here we can see more queries related to the HVAC so these queries and the keywords that you are seeing like the fans the palms the fanboys are all taken from brick brick schemas that we talked about earlier because brick allows to lay the foundation of this vocabulary so we took these vocabularies and put them here and of course for some who don't want to type we have also interactive menus where these queries can be already populated and the operator need just two a header button or click on one of them so that's it for the demo so of course this was just a proof-of-concept to show what is possible on top of this building platform I think I'm stuck on ok thanks I think it's okay it's just one slide thank you so another example is also to extract time series and integrate them with the chat board or maybe integrate them in another third-party application so that's it I will pass the mic for mark for the conclusion thanks well I hope that gives you a little bit of an idea of what we've been building with this platform and what it can do you know this really is sort of a work in progress for us for how we manage our own facilities at Google but it really you know is meant to show you some of the themes that have you know been pervasive I think you know throughout the conference here particularly you know we're doing this for ourselves on our own stack right and it's basically showing that you can build these kind of rich applications using a lot of the capabilities that Google already has so you know it's modernizing an infrastructure that frankly you know hasn't been changed in many decades right so you're seeing a lot of new kind of analytics and applications and platforms sort of at the top level but we're sort of going very deep into this stack all the way down to the device you're seeing that we're using these building blocks in GCP as basically a way to build an application platform all right so you're utilizing and not having to reinvent the wheel as Charbel mentioned for a lot of the capabilities in building out these applications and we're also going from analytics to action right so we're using capabilities like machine learning we're using a lot of our data visualization and so forth to be able to take that raw data which is sort of difficult to maybe discern messaging and action from and do the analysis to be able to come up with a punch list for text or operators to be able to go take care of our onboarding process really is I think leaps and bounds ahead of what it takes to do onboarding and typical systems today and this is sort of where a lot of the intelligence is being developed right now you know as we go into new buildings and discover new types of devices new kinds of network topologies new kinds of gateway boxes and so forth you know that's helping to make this platform richer so that the next time we encounter it it's much quicker to be able to onboard it's really you know building out the fundamental intelligence of the underlying system so that it actually applies down the road as we go along and we're using structured data here so we're trying to use you know the best of what the industry is working on right now in terms of ontology in terms of terminologies so that an operator will be able to take the you know lessons that they learn in one building and be able to apply them into an entire campus or other buildings as well so what next well that's where you guys come in we'd really like to continue the conversation particularly if you have device data or interesting ways of representing data so we touched mostly on things like climate control HVAC today but I mentioned that there's a lot of work that we're also doing for things like occupancy sensors and alarms and physical security and so forth so if those are the kind of devices that you work with we'd like to know how would that integrate with this platform what would you be able to do if you didn't have to do all of that plumbing down at the bottom of the stack but we're able to just apply whatever it is that you do best at the top for applications on device security and maintenance you know I touched on this a little bit at the beginning but you know we have been talking in the open-source community about how to do continuous integrated testing of your devices to make sure that they're only communicating you know with the devices that they need to in the way that they're prescribed to and that's something that we'll be talking a little bit more publicly but essentially this is something that we want to do at Google as well to be able to ensure that our network remains secure as well and then again the third-party apps and other integration partner involvement and so forth remaining involved with the various standards bodies and like you know ASHRAE a brick haystack and so forth and if you have involvement there as well we'd certainly like to hear you know whether or not what you're doing sort of integrates well with what we're building with this stack so that we can make sure that when we encounter your devices out in the field hopefully we will that we would be able to integrate with them as well [Music] 