 [Music] alien isolation left an indelible mark on artificial intelligence for video games a game where the success or failure of its core premise relied heavily on players believing in the intelligence and cunning of its primary antagonist if the design and implementation of the xenomorph did not stand up to scrutiny then the game would have quickly collapsed in on itself from a developer's perspective now in 2020 there have been many exciting and novel applications of AI across the games industry including many we've seen on this channel but I don't think any other game has quite caught the attention and imagination of players in recent years it's a testimony to the hard work of everyone involved the creative assembly and one that this channel can attest to and while I have previously explored the inner workings of the AI of alien isolation there are still many secrets left to uncover for developers seeking to replicate its inner workings or for players old and new is the attempt to escape the sevastopol space station I'm Tommy Thompson this is AI in games and in this 50th episode we are returning to the game that this channel is known for with the original video achieving over 1 million views what better time to take another look at the game systems and deliver something fresh that we missed on first passing it's time to dig out your motion trackers once more as we revisit the AI of alien isolation and go into more detail than ever before [Applause] [Music] if you've never watched the original video or need to recap here's some of the key information you need to know about the xenomorph in alien isolation it's important to recognize that there are two systems that control the alien the xenomorph itself is controlled by what's known as a behavior tree a very common technique used in triple-a video games to control non player characters I explain her behavior trees work in episode 2 of my AI 101 sub series so check that out if you need to know more the Xenomorphs behavior tree has a variety of behaviors ranging from searching the corridors of the space station hunting down Eryn noises or investigating areas the creature is interested in with specific behaviors such as searching lockers and crawling into the smaller vents only activated after the player has repeatedly escaped its clutches using these methods several times thus providing the illusion that the xenomorph is learning the behavior tree is ultimately responsible for ensuring the alien hunts down and kills the player but it has to do this of its own accord and rely on what it detects within the world from its own audio and visual sensors however this can lead to the alien either trapping the player in a corner of the map or completely losing you as you make a break for it and that's where the second AI system kicks in the second system is an AI director much like that scene in left 4 dead and is designed to manage the pacing of the game the director always knows not only the location of the xenomorph but where the player is to the director's job is to periodically tell the xenomorph to head towards the player through a given level it never tells the alien exactly where you are but advises it to head toward your general vicinity and the Xenomorphs behavior tree will take it from there this means that while the director is trying to keep you under pressure the xenomorph still needs to hunt you down and kill you on its own merit when the alien is wandering the corridors this is what's known as front stage the alien is searching for the player either because the director told it to go to that location or it hurts something that caught its attention once the alien is in proximity of the player the director maintains a menace gauge which is designed to record the intensity of the creatures presence the Menace gauge increases at different rates depending on whether the alien is nearby and whether player can he removing or actually see it in front of them once it reaches a threshold then the alien will go into the vents for a time known as backstage mode during which it wanders the vents and potentially lays a trap for you this is all the core systems in a nutshell but there are still so many unknowns about how the xenomorph works not to mention a lot of the other AI characters in the game be it the working jaws the facehuggers and all the human characters be they friend or foe hence I was keen for this episode to dive deeper into the AI systems but more critically begin to better understand the inner workings of the xenomorph itself to do this I reached out to Matt filer a game developer based in the UK who has developed open cage a suite of modding tools named after the studio Zen house creative assembly game editor open cage provides a variety of tools that allows anyone with the PC build of the game to manipulate the AI behavior alongside many other features as mentioned the xenomorph is relying on a behavior tree architecture for controlling its behavior and previous developer talks and in my own video it was highlighted that this was a rather large behavior system thanks to filers mod tools we can actually look at it and sports specific aspects of its behavior however it might be a little hard for you to see in the video you see a xenomorph has 36 branches it can take from the root of the tree this ranges from attacking the player to investigating disturbances that as sensors have detected claiming an a note of vents and fleeing from fire but also some special tools and other secrets that hints at cut content from the game in addition filers tools exposed several of the alien sensory systems which were alluded to in the behavior tree giving us a richer and more comprehensive view of the Xenomorphs behavior so let's take a look at some of the interesting elements of the aliens behavior and new things that have come to light since my previous episode as mentioned previously the xenomorph must hunt down and kill the player on its own while the director always knows where the player is the creature has to earn its kill to achieve this the alien has a variety of different senses it has multiple modes of vision it can hear noises within proximity and recognize their severity and also has some basic touch senses that allow it to recognize when the player bumps into it or it's been hurt by gunfire or the flame thrower but critically the creature needs these senses to be working together in order to attack the player there are three ways to guarantee the alien will sense and then try to kill you either the visual or touch sensors say with absolute confidence that they register the player or one of several sensors activate when you're in a crawl space or similar hiding spot and thanks to filers mod tools' you can essentially disable the vision sensors making the xenomorph blind but you can see right here the alien cannot see me right now but it's other senses are still active and it knows there's something nearby hence it's still a highly credible threat so let's walk through how these sensors work and what it needs to know before it can go for the kill vision is the easiest way for the alien to register you as a target for its vision the alien uses what is known as a vision cone or view cone where it can see in front of itself within a certain range typically in the shape of a cone and registers when objects have been in the cone for a period of time few cones are a very common technique for visualizing how an AI can see something in the world given they're easy to visualize and debug in fact many games communicate to the player whether you're being detected by a view cone such as that in Splinter Cell or farcry while other games such as Metal Gear Solid explicitly show the view cone via the in-game HUD such that players can react to accordingly all characters an alien isolation be the human Android or xenomorph have four different view cones the normal cone for reading directly in front which can see pretty far ahead a tighter view cone known as focused which uses when it's looking at specific objects or locations but within a shorter range the peripheral cone the shorter in length but much wider and lastly a cone called close that is very short but very broad and is designed to catch anything right next to it meaning you can't go crawling around sitting mere inches away dodging all of its other visual sensors now the typical idea is that should the player intersect the view cone and there is nothing that would block the line of sight from the alien to the player then in theory the xenomorph has seen you but the sensor doesn't register the player has spotted immediately the longer you stay in a view cone the signal from that visual sensor become stronger once that sensor reaches a certain value it enables certain paths within the behavior tree to become available to the alien because it most definitely can see you now now the strength of the signal from each view cone varies and will increase at different rates depending on which view cone the player is sitting in however it's worth noting that the vision of the alien and other characters can be obscured based on light levels as well as smoke in the environment in fact each view cone has modifiers that dictate how well the alien can see you in different conditions hence using the air purity controls on the space station is a very useful tactic given it can help obscure the creatures view even if it does limit your own in addition the light levels within a range of the map have a huge impact on the vision strength of humans and working jaws but as as near as I can tell absolutely no effect on the xenomorph and it can still quite capably see you in the dark with all that said the aliens next-best sense is sound where the creature can hear a variety of different noises at different strengths each sound you make in the game has a variety of strength levels and a manner similar to vision a sound being heard by a given MPC is driven by activation thresholds with weapon firing in particular scaled to trigger sensor activation much faster than other sounds these sounds pinpoint the alien to a location to investigate and if the creature is quite far away from the point of origin it will run towards it rather than more gracefully walk movement has three stages of noise crouched walking and running and the noise generated and the sound radius is quite different for each meanwhile weapons used in even hitting your wrench on surfaces will trigger the aliens interest and have a much faster rate of activation than movement loud sounds are very much the player's enemy given not only will they lure the alien to your location if it's out on patrol they will also trigger the alien to leave its backstage modes and events and come down to investigate so running around especially firing a gun is a very bad idea it will know exactly where that sound came from now despite all this there are some useful tips to take onboard each sensor detection has a rate of decay and the alien will eventually forget a specific sensory reading plus there are a handful of visual and audio cues that from what I can gather have zero impact on the alien and other NPCs this includes the opening and closing of lockers doors and vents but the important one to remember is the motion tracker it only makes audible noise that other NPCs can hear within a very short radius so if the alien is nearby while you're in a hiding spot keep it stored otherwise it will hear it but like I said at the beginning the alien can only attack if it can outright see you or you're rubbing yourself against it so if you're being smart and hiding then it checks against several sensors for activation many crawl spaces in the game as alluded to in the previous video are built by designers to ensure that either the alien can no longer see you or its chances of doing so are drastically reduced that said there are still ways to catch the aliens attention and its behavior tree has a specific set of conditions for when the player is hiding the easiest way to get yourself killed is to accidentally turn on your flashlight the flashlight has a scaled trigger and response activation compared to normal visuals hence you have to be very careful using it given the alien will spot it almost immediately plus you can accidentally touch his body while hiding make too much noise or expose yourself enough that the aliens vision sensors are registering you beneath a lower than normal threshold now with the alien having senior it has a handful of final checks to me before it goes in for the kill this includes not being an event and less it's an ambush attack which I'll come back to in a bit having a valid path to its intended target on the navigation mesh meaning it can reach you but also whether it maintains targa in either visual or combined sensor thresholds hence in theory is possible to escape the creature and once it no longer registers you it will have to find you all over again not that I've had any luck trying to do that and speaking of surviving an alien attack let's talk about the extra special flame sensor the flamethrower is your one true friend and many of the latter stages of the game given while it can't kill the alien it can shoot as hell hotter and scare it off the alien distinguishes attacking a target a human that has no weapon a separate from that of an armed character known as a threat while the sensory conditions as mentioned earlier are the same how it behaves differs an execution the critical part is that it has a subtree for reacting to being attacked by the flamethrower and how it should respond the alien records whether has previously interacted with the flamethrower and that influences have it attacks hence after its first interaction with the flamethrower it approaches the problem in different ways in subsequent attempts this ranges from merely hissing at the player for holding it at bay to setting ambush attacks and events to trying to flank you to attack from different angles depending on the distance so as to catch you off-guard if it does make a move a new layer uses some fiery rage the alien has a separate touch sensor for recognizing being hit by the flamethrower and once that reaches a threshold it's going to force it to retreat but not before it tries to take a swipe at you the hit-and-run sub-tree makes a quick calculation as to how far away the player is and whether the path through them is occluded in any way if it isn't the alien executes a hit-and-run when it smacks you to the ground and makes a run for it if these conditions can't be met it will just run away but all that said you still have to be careful as this is all based on whether the alien is not too close if it is within one unit of distance he'll just fight through the pain and grab you so make sure you always maintain your distance before scorching the damn thing in any case triggering the hit-and-run well caused the alien to retreat typically enter backstage mode and on that notes let's take a look at the new things we've discovered about the aliens front and backstage routines as mentioned earlier the alien operates and Maud's front stage when it's hunting you and mike stage when it crawls around in the vents giving the player a breather and allowing you to progress when in either front or back stage the alien will move around the map and an activity known as a sweep when backstage the alien has parameters for how long it sweeps the overall distance and the amount of time it will sit idle and events before sweeping again you'll note that when the alien is in the vents it's capable of moving around a lot more freely than it does when it's on the ground and that's because the air vents don't really exist and it can freely move around the level but only in straight lines and when you hear those noises and the vents it's not a fake oh the alien is actually still moving around the alien jumping into a vent is an animation that once completed will disable the creatures renderer so when you hear those movement sounds above you it's because the alien is now invisible in the map and moving around and the sound effects are triggered in points of the world relative to where the alien currently is now in amongst all of this is ambushes where the alien will sit in the vents and wait for you to spawn a delay by so it can pull you up into the rafters ambush flags are laced throughout the behavior tree and it allows for the alien to decide when it wants to go into an ambush this can either be part of the backstage suite where it shifts to an ambush or it might be as a result of a previous attack phase in fact the previously mentioned hit and run subtree will result in the alien setting flags that means it wants to either jump back out and attack you again as soon as it can or it will set up an ambush and events each ambush has a set duration and after a time the alien will give up and move on unless provoked once the alien claims back out of the vent the duration of the front stage sweep is tied within certain ranges defined by designers this range means it's either shorter or longer with each separate instance but still maintains the overall pacing by having it give up and go back into the vents periodically plus the distance of the sweep as it moves around the space is also constrained to within a certain region so it won't wander off too far around the map in one sitting it's tied largely to a region defined within proximity of the vent that emerged from in addition there is an important distinction to be made when the alien is simply wandering around or sweeping to when it's exploiting an area based on a disturbance as mentioned in the original video when a sound is detected the alien will go into a search phase referred to within the code base as stalking you don't want the alien to respond to any disturbance that triggers a stalk because one of the first things that happens in the behavior tree is that it disables any intentions of withdrawing back to the vents when stalking there is a defined radius around the target location and that radius changes between the first stalk and any subsequent ones while these are largely random paths of movement and looking behaviors the overall area within which occurs both shrink the stock radius gets tighter on subsequent passes around the location as it tries to hone in on its prey sometimes the search area is more or less a circle meaning the minimum radius to the target is zero well in other cases it provides a protective range around the point of interest making the search area look more like a donut the same stalking behavior can also be applied to objectives within the game meaning the alien will patrol around the location the player is trying to visit that said the objective radius is typically more doughnut-shaped meaning the alien will avoid standing right next to the switch that you've just spent 10 minutes trying to reach now the important thing to appreciate is that there are several different configurations of the front and backstage parameters that designers can switch to throughout the game there are configurations for keeping the alien end events where you can hear the alien moving around it will lay ambush traps and events but it won't come down to attack in fact the visit to seeks in communications and the rogue working jaws is a good example of this meanwhile other configurations are much more aggressive and the time spent and the veins is reduced by quite a bit judging from what we can see in the alien configured it's our thanks to filers mod there were at least 12 different configurations some of these configurations are designed for specific locations such as the cantina and Solomon's habitation tower and the vents and the crew expendable add-on while others appear to be designed to be used at different phases throughout the campaign this also has a huge impact on the aforementioned Menace gauge the Menace gauge has a collection of parameters that influences how frequent the alien is going to try and get all up in your personal space this includes cooldown timers that prevent the alien from coming back for a certain amount of time the time it takes for the Manus cage to peak before it tells the alien to leave and the overall number of times the alien can Menace you before it can return to backstage mode this is quite funny as it means that alien is actually counting the number of times that menaces you in one front stage sequence which I can't help but think sounds rather cute no well there's been plenty of new information in this video as I start to wrap up here's some other interesting often amusing and random bits of information I picked up along the way well research in this video that I figured I would put together in a quick hit list first up the alien has lots of branches for error caching such as navigation failures in shooting the alien does not get stuck in the geometry the alien also has a trigger to either back off or despawn entirely if the game knows it's going into a cinematic a point I made in my last video the alien senses are influenced by difficulty with the novice difficulty reducing the aliens vision and responsiveness to movement zones by over a third meanwhile responsiveness to weapon zones is nerfed drastically the difficulty levels also have a huge impact on the aliens backstage mode as the difficulty increases the xenomorph spends even less time in backstage mode the Menace cage durations are increased and the patrol region relative to the player tightens there are debug tools for spawning or removing aliens from the game world for testing purposes which I would love to play with lastly there is evidence of an AI loading system that was implemented but never actually used in the game if you're not familiar loading in video games as a process where we minimize CPU and memory resources based on the priority of an object you typically hear about in the context of graphics where items are not rendered or textures run at lower resolution when an object is far for a way to keep memory costs down but it also applies to other in-game systems such as AI where we want to make sure the AI is still making useful decisions but if they're very far away from the player then those calculations are arguably less complex and use less CPU in previous videos I've talked about loading apply to the calculation of flight paths and horizon zero dawn as well as how tom clancy's division 2 ensures AI factions are still making decisions but using less of the server's resources when Mao away from players it suggested that the alien would have had a Lourdes system for its decision-making if it was very far away from the player but it was ultimately scrapped and never used whether that was due to a shift in design or simply a recognition that it wasn't needed his open to debate and of course some other random facts about all the other AI characters and systems in the game first up while the alien has the best vision sensors in the game the human NPCs in the working Joe's view coins are almost identical however human visibility is massively reduced in the dark while the jaws only suffer a minor penalty working jaws have around 6 times the max health of the average armed human while the jaws you me and the react are have an extra 50% on top of that in fact the alien technically has a maximum amount of health which is around three times the health of the average working jaw but you'll never live long enough to deplete it the face hunger has its own behavior tree it's not very big and 90% of it is managing edge cases where the game doesn't want a face hugger too well hug your face the armed humans can react to an armed player in several different ways they can ask you to back off stand the ground in a gunfight or jump into cover armed humans fight the alien and working joys using completely separate sub-tree from fighting humans it has most of the same behavior but it deliberately doesn't include certain things that are relevant in the player sub-tree working joes have a designated combat area and will give up trying to attack you if you manage to get far enough away and lastly many of the AI characters including the working Jose and xenomorph itself have a debug tool in the behavior tree that would allow for developers to control them using a gamepad alien isolation continues to be a game that people celebrate and discuss five years after its original release I can speak to this purely from my own YouTube analytics as my original video continues to be shared and discussed around the Internet with spikes every alien day on April 26th as well as whenever someone reposts the link on reddit well the game is not without flaws no other title I've explored on the ioan games has had such a visceral and primal connection with its audience and I hope for this video your enjoyment and fascination with this game continues to stay strong thanks for watching this 50th episode of AI in games it's crazy to think that the series would make it this far much less that I'd be returning to this game so many years later if you haven't watched the original video I do encourage you check that oh not just because I like my videos to get extra views but because there's a lot of additional information in that video that isn't explored and this one plus a special thank you to Matt filer for his help and putting this episode together and of course for all of his hard work on the open gauge project I've left links to the open cage mod and failures portfolio site in the video description for anyone keen to play around with the tools and other projects that he's developed this is me closing the door on alien isolation for now as we still have many more games and AI projects to cover on the show so be sure to subscribe to the channel and join me for future episodes the AI in games is crowdfunded on patreon and it's thanks to these amazing people I can make new videos by hope will continue to educate and entertain you all to support my work please check out the links on screen and in the description this is Tommy Thompson the voice of AI in games signing off [Music] 