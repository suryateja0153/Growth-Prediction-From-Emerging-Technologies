 so my name is Andy watts I'm an architect with AWS here in Singapore I'm part of the pro serve organization and we're going to take the next 30 minutes to do a very gentle introduction to security on the cloud so when we start our security conversations we usually start with what we call the shared responsibility model so security is really both of our jobs us as the cloud provider and you as the customer so as the cloud service provider we're obviously running the data centers so we're responsible for the facilities all of our data centers are nondescript buildings the locations are not advertised there's no logos on the on the buildings we don't do data center tours in my two years at Amazon I've actually not been to a data center here but we make we have a lot of security around them we know the perimeters monitored people going in and out or authorized and logged and then we manage the physical infrastructure the bare metal the servers the routers or switches the storage devices we manage the virtualization layer so for most customers they'll be multi-tenant it with servers running sorry instances running on hardware they're also hosts other customers so it's important that we maintain the isolation there and then we do hardware lifecycle management and though this is most important when it comes to storage devices so anytime a storage device reaches end of life and it's being moved out of our data center we need to make sure that any data that was on that is irretrievable so in the case of disks what we do is we D goals them we punch holes in them in the case of SSDs we have a very powerful shredder actually a colleague of mine who had been to the data center he made the mistake of taking his phone in and given our security policies his phone had to go through that same shredder on the way out it's expensive day trip so that's AWS responsibilities so the customers responsibility is well in the case of instances like ec2 service the customer gets to choose the operating system your Windows Linux which versions are running and that's pretty much where the customers responsibility start we have no ability into what you're running to us it's pretty much just bits and blocks so it's up to you to make sure that you're running a secure version the patches are applied that you're managing accounts on that operating system properly security groups acl's firewalls we give you a lot of tools to help you do this and I'll go through a few today but it's ultimately up to the customer to make sure that they're locking down their firewalls so this is what this looks like this is again for ec2 as you can see Amazon is responsible for the Foundation's the computer the hardware the storage and then when you get to the customer layer they're responsible with deciding whether to use encryption the account management the file firewall configuration application configuration and this is pretty much what it looks like when you just come to us and say I want a server I mentioned previously we have a lot of managed services manage databases manage no sequel manage streaming services and this is how the responsibility is shared in those scenarios in these scenarios you're pretty much consuming the service via an API and we're responsible for any operating system any application configuration and and we take on a lot more of the security burden in these scenarios typically you'll be configuring whether you want security or encryption and the account management but the lower level stuff is all done by us so once we got past this security model the next thing we usually talk about is about securities do you know what's in your environment right now and because if you don't know what's in your environment it's very hard to know whether you're secure or not and for a lot of customers this is pretty much what it looks like they're on-premise and they've been racking machines for years and it's very hard in a in a data center like this to know what's connected to wear what interfaces are running what firewall rules are up and running and so the beauty with AWS is that pretty much everything is software-defined so using the console you can get up-to-the-minute access to all of your servers you can see which IP addresses they have which subnets they're in what firewall rules are what storage volumes are connected you have a complete access to see what is running in your environment and just just being able to have that visibility really really improves your ability to secure the environment okay let's let's move on so I'm going to go through a few services and the first one I want to talk about is virtual private cloud so when you sign up with an AWS account probably the first thing you'll do is create your VPC and what that means is you're going to tell us what your IP address range is going to be later on you're going to cut this up into various subnets and add firewall rules but the very beginning you're going to say I want an IP address range maybe 10 dot X or 192 and that's yours that's logically isolated to you at layer 2 so every person in this room could have a network with the same IP address range and you would never see each other's traffic if some of the hackers here might decide to run wireshark or TCP dump it's all isolated at layer 2 so you would never see his traffic and vice versa so here we've created our VPC and in Singapore we have to availability zones so each availability zone is a independent cluster of data centers and they're connected by high bandwidth low latency connections and so we always encourage customers to deploy their applications in an active active fashion spread across these two availability zones so what i've done here is i've got my to availability zones and i've created two subnets when you create a subnet you have the option to mark it as public or private and if its private it's going to use your private IP addressing if it's public the instances that you deploy in that subnet are going to get public IP addresses so here I've deployed two servers in each availability zone both in public subnets I've added an Internet gateway and so at this point these machines have have public IP addresses they're open live on the Internet probably be import scanned in a matter of minutes and so we clearly need to add some security here so customers are often very familiar with firewalls and so the first question that comes up is how can I add a fire one AWS on AWS the fire were we call it a network access control list and like a firewall this works at the router or the gateway that connects two networks so the internet connecting into your private network there's probably a router there and you're probably doing packet filtering their firewall there and that's what network access control lists do so they're this red and black outline of the subnet indicates that we're with network access control lists you can add firewall rules that will filter traffic into the subnet but we try and go one better than that we have something called security groups and these are essentially firewalls at the host and what the benefit of security groups and firewalls at the host is that they can help secure traffic within the subnet if you're familiar with firewalls on the router on the Gateway there they're checking traffic as it flows into your network but once it's in to you in your network the traffic isn't going to hit them and so security groups running at the host at the virtualization layer a far better place to have your firewall rules and these are you configure these in the console so they're transparent to your operating system you can keep your windows or Linux machines fairly clean and simple no messing with kernel modules you just go into the console and you block everything maybe you're allowing port 80 for your website you can give these security groups names you can configure them so new instances are automatically added into a security group and you can build up complex rules you might say that servers in my web security group can access my database and it's very easy to give them names and see what's going on and make it dynamic and and make it easier to manage another difference here is that security groups are stateful whereas network acls or stateless so using network ACLs and security groups we've you know we've blocked a whole lot of ports but we've probably allowed HTTP through door website and you know a lot of attacks these days take place at layer 7 and through the fire one that on to the port so you have open and so we last year we announced the AWS laughs the web application firewall so this works to inspect your HTTP requests as they come into your before they come into your server has a law a big library of rules and so every request is inspected to make sure that it's not trying to do sequel injection or cross-site scripting or buffer overflows so it's it works on our edge locations on our cloud front servers and you can go into the console and you can pick and choose which rules you want to apply you can you know your applications better than anyone so you can add additional rules that apply and then you can actively monitor in tune it this is kind of what it looks like to manage so you might have a security officer using the console who's managing which rules apply but then you'll also have developers they'll know what API paths are what requests are valid what parameters are valid and so developers can also define the wac rules using the API once they've submitted the rule set into the RAF they're deployed into cloud front on the edge and so all requests before they come to your web servers are passing through the cloud front edge location and being sanitized so we're relatively new to the web application firewall business and meet these companies have been doing it for some time alert logic imperva and trend and so what we've been able to do is integrate their rule sets into the wife so these guys are very good at detecting zero-day vulnerabilities proactively pushing out new rule sets a lot of companies already using them and so we integrate tightly with those the next tool I'd like to mention is trusted advisor so this has been around for a long time in AWS it's a series of checks that we run against your AWS account and we give you a report which you can see here and we check a number of things we check if your cost optimized we it's easy to move cloud providers so we always want to make sure that you're not spending more than you need to we obviously we check security we also check fault tolerance and we also check for performance and so what you can see here is actually a scanner ran against my own account yesterday and i'm a bit embarrassed to say that it found some of my security groups and some of my network access control lists we're not as tight as they should be and so it's given me a summary report here I've into one of those this is a one of those items we saw on the last slide where we're talking about unrestricted access and you can see here from my own website i have ssh port 22 from anywhere in the world so it's highlighting that you still need my password on my key but you can attempt to connect at least from anywhere in the world and so it's suggesting that you locus that your firewall rules down a bit further you the next service i want to mention is amazon inspector so trusted advisor that i just showed you it's all about your amazon configuration how are you using the tools in the console amazon inspector is a small piece of software an agent that you installed on your machine windows or linux and it does some inspection of how you configure that machine how are your users configured what's your patch level like how is your login configured and it gives you a very detailed report and this is what it looks like and so you can see here that is running a number of different rule packages so it's checking the authentication configuration is checking for common vulnerabilities is checking the patches but it's also checking for PCI DSS compliant so if anybody here is trying to build a service that you'll be taking credit card payments for you're probably going to be looking to be PCI DSS compliant and so running a tool like this it's going to check your server configuration and tell you what enhancements you might need to make before you apply for that PCI certification further if we take the top item here authentication best practices and we drill down further it gives us a detail further detailed report and to give you an idea what's going on here it's found that we can log on to the server over ssh as the root user and so the recommendation is to disable the root user and make people ssh using a non-privileged user ok moving on amazon KMS key management service so we launched this about two years ago and the goal was to make encryption as easy as possible if you ever tried to encrypt your boot volume you know how challenging it can be you want to automate your things but then you encrypted boot volume is stopping for you to provide a key or a password and it it's just stopped a lot of our customers from using encryption as widely as we would like and so when we created this service it was all about making it a one click to get it enabled and making it automated and making it as easy to use as possible so to give you an idea of how easy it is I took a couple of screenshots so this one on the left I'm creating a storage volume I'm creating a hundred gigabyte SSD back storage volume that I'm going to later attached to one of my servers and you can see towards the bottom here there's one checkbox encrypt this volume and on the next line I get to choose my key so when you sign up with AWS everybody gets their first master key in KMS you can then use that key to make subsequent keys and so often we see customers create keys for individual services or keys for production and non prod or keys for different business units and so you'll end up with a whole series of keys it's a key chain hierarchy of keys and so here you just choose which key you want to use now after you hit create and the volume is created and you attach it to your server from that pink that point forward every time you read and write to that volume the bits are going to be encrypted and decrypted and it's completely transparent to the operating system so again we want to keep your operating system is simple and clean and as easy to manage as possible but as you request pass through that virtualization layer it's going to be encrypted and decrypted it doesn't doesn't get much easier in this screenshot on the right here this is from IDs which Blair mentioned previously IDs is the manage database service so again as you go through and you're creating your sequel server your post graphs your my sequel database you'll go through a multi-step wizard and at one point it's going to ask you whether you want to enable encryption or not so you simply select yes choose the key you want to use and again from that point forward every time you read and write to the database the blocks are going to be encrypted if that volume that storage device or that volume or that snapshot for any reason was out in the world it would be useless because it would be encrypted it's probably the easiest way to encrypt your data that I've seen the next service I want to mention is cloud watch logs so another challenge with security is getting control of all of your locks so you can see what is going on in your environment and we see customers struggle with this all the time and so we created something called cloud watch locks and again it's an agent that you installed on your machine and by default it's going to push all of your locks from that machine you sorry all of your system locks so your vile log messages your sis log from that machine into a central repository where you can then go into the console and view them you can add your application locks as a simple text file add as many logs as you want and they'll all be pushed into the central repository and then you can go to the console and you can inspect the logs from an individual server you can see aggregated logs across to all of your web servers if you've ever try to track down a request and you're not sure which web server it's gone through this you can see all of your logs aggregated from all of your web servers you can say show me everything from nine o'clock 2905 across all my web service this morning you can you can aggregate across all of your devices you can go back in time it's a very simple way to get your logs under control so when we talk to compliance and audit teams one thing they always ask is that they want a good record of what has changed in the environment they want to see who's changed what and when they did it how they did it when where they did it from and so we created something called AWS config so if I were to go in and add encryption to a volume or start a server or resize a database all of that information is locked and using AWS config I can go back and see what has happened to this server over the last year who stopped it who started it when did they do it who changed the firewall rule and I can also go back and say what did my application looked like at the beginning of the year what servers was i running how big were they how much was it costing and so AWS config for ordering compliance and visibility of how things have changed over the time is a really wonderful tool another tool we have is cloud trail so again this is for the audit in compliance people every API call you make and if you're using the console or the command line or the SDK every change you make eventually cause our API and so we're recording every single one of those requests we're recording the IP address it came from the user account that made it any parameters that came with that request and the response that went back to the to the requester so we're logging everything and by default we put it in s3 for you and you can keep that for as long as your audit requirements are but for larger enterprises they often want to put that into their enterprise software something like splunk identity and access management so this is how you manage your users and your groups and your policies in the cloud so and there's another aspect of this i want to mention which is roles so if you've ever had to put a password into a configuration file for an application you can't you kind of know it's a it's a security risk you're not you're probably not going to go back and change that password as often as you should so with i am we have this concept of roles and what roles allow you to do is to say this server or this application has rights to access this s3 storage bucket or this database or this cache and when that server where the application starts up it's going to get a piece of credentials a short-lived credential that it can use and that just haven't stops you having to hardco passwords into into application configurations another aspect with iím is that it integrates very well with Sam or to an active directory so when we talk to larger customers and they're adopting the cloud one of the questions they ask is am I going to have to create another user account for everybody is everyone going to have to learn a new password am I going to have to create new user groups and in most cases they have all of that on premise in an active directory they have levers joiners movers processes they have groups with restrictions around what those groups can do and they've built that up in Active Directory over years and so what they can do is they can federated directory into a double us into I am and achieve single sign-on and just maintain that control the same place they always have so normally at this point we shall live with about a hundred and fifty certifications and compliance of creations and it's it's quite overwhelming so today I tried to try to highlight just two of the more useful ones PCI DSS compliance for customers are building ecommerce sites and they're taking credit card payments you're going to need PCI DSS compliance and what that involves is completing a questionnaire detailing all the controls you have in your environment and it's a it's a lengthy difficult process when you use AWS most of our services are already PCI DSS compliant so you can ask for our report will send it with to you and it contains our controls and the language that we use to get asked our services certified so blair previously mentioned IDs our managed relational database that is in the case of my sequel at least it's PCI DSS compliant so if you were to build your ecommerce site using IDs you could get our controls and when you're completing your questionnaire in your submission you can copy the language from our report and you're that much closer to becoming compliant the other accreditation I want to mention is the Singapore mts em TCS a multi-tier cloud security standard so this is a three-tier standard from the ID a in Singapore to certify cloud providers and AWS was the first global cloud services provided to achieve the highest level certification level three so we've talked a lot about the AWS platforms and tools and this is all about giving you the tools you need to fulfill your responsibilities and secure your operating systems in your environment in AWS but what I also want to mention is that the customer ecosystem is a huge huge asset so we have customers like GE and NASA pinterest Dropbox and these customers are always pushing us to make our security better and anytime we roll out a new feature or a new service and we work with these enterprise customers we roll it out to everyone what when we're rolling out these features in New York it's it's either immediately available or shortly thereafter available in Singapore and then the partner ecosystem so we have AWS marketplace it's very much like an app store for your phone it's somewhere you can go and get enterprise software software like trend micro BMC alert logic you can get machine images of this software pre-configured it gives you a guidance of which ec2 instance to use and so you can take this software for a test drive in many cases they charge by the hour or charged by the day so you can you no longer have to do a huge investment to see if this software is correct for you some resources i want to share here before we finish this is our home page for security AWS amazon com / security on this page we link to all of our white papers we have white papers on risk security and compliance white papers on achieving different creations PCI DSS HIPAA we have white papers on integrating with active directory and then we also have links to a whole series of videos and trainings that are online on training we have our self paced laps you can go online anytime sign up for these self-paced labs get some hands-on experience go through some tutorials on how to configure things like security groups the nackles multi tests architectures we have instructor-led training here in singapore we have our instructor booth outside and then we have certifications if you want to validate your experience and boost your job prospects so to wrap up I want to leave you with this quote this is Todd Soderstrom of the CTO of NASA Jet Propulsion Laboratory know NASA know a thing or two about security and a couple of years ago Todd very kindly said this based in our experience I believe we can be even more secure in the AWS cloud than in our own data centers 