 good afternoon everyone welcome to bringing dynamic service chaining to the telco cloud with nuage and cloud band I'm Scott Brennan I product manager at nuage and my cohort as a capper is a cloud band architect and so what we're gonna be talking about is some of the components involved in an nfe solution how OpenStack is relevant to that and how OpenStack I can be extended with additional capabilities to provide a more complete solution as well as what some of the work items are around that so starting from the always always exciting Etsy reference architecture I you've got oh s SBS s and NFV Orchestrator at the top with various components you've got a vnf manager a with vnfs talking over an FBI a with a virtualized infrastructure manager so your network functions are going to include a bunch of traditional telco network functions like ims and i me a SP gateway but also more traditional IT functions such as firewalls IMS or IMS IP SIDS I and and things like that you also have a network now per management function which I didn't mention and then the the vnf manager that's providing a lifecycle management elasticity and then at the top you've got the orchestration layer that provides the service management and some of the Sdn Sdn management components so whereas OpenStack and all of this opens decks it's a down at the bottom doing all of the hard work and all the heavy lifting and say makes a makes the whole thing work without say without OpenStack we we really wouldn't say it wouldn't be anywhere and admittedly there are other options for deploying enough nfe architectures but from what we're seeing OpenStack is really becoming the standard infrastructure for an FB i-- and that's a good thing because it it provides a level of commonality and stability that you can build interesting things on top of so you've got a bunch of best-of-breed capabilities that come with OpenStack things like multi hypervisor orchestration and including things that are not hypervisors such as ironic you've got multi region single sign-on when you're extending a your system across multiple data centers and multiple geographies I know I Pam and pluggable I Pam integration back-end storage VM templating all these things say are very important from an infrastructure perspective but there's a bunch of stuff that OpenStack doesn't do and say probably won't do and in my opinion at least shouldn't do because OpenStack is already trying to do many many things and while it's fun to contemplate taking over the world i it's say i the more things you do the harder it is to do things well so there are some additional components outside of OpenStack that say some of which we're providing as part as part of the Nokia solution and those are some of the things we're going to talk about today so nfe orchestration is a key component a robust high-performance networking OpenStack networking is continuing to improve its improved release over release for as long as I've been involved but in terms of the requirements for NFP it's not there yet and the the bar is is ever rising as far as what that what the networking requirements are so Wilson we'll see how that turns out it's also kind of important to be able to connect out of your an effete cloud if you're doing network function virtualization with with no nothing to talk to it's it's not really very interesting and then also a portal or a marketplace to expose these say these functions out to the broader internal or external customer community so what does this look like from from a workflow perspective you've got customers those may be internal customers those may be external customers you may be doing resale but say they're making a request for a vnf service of some sort or other and the marketplace and vnf catalog really ends up being being custom per per deployment it's not something that you can really genera size the same way as you can to a large extent with some of the other components and then the marketplace needs to provide a call into the nfe Orchestrator a requesting whatever i the services that has been has been requested so n feo needs to provide a simple abstracted a templated model to make it easy to deploy a marketplace and to simplify what the marketplace looks like from there I n feo is say calling into various components in our case it's a calling into OpenStack and calling into nuage and the reason that we're not doing all of this through OpenStack is to provide some more expansive networking capabilities and there's work in OpenStack to expose api's and there are extensions but it's still at least in the in the near term easier to make those calls it calls directly so from a from the marketplace you've also got cases where you've got a complex vnfs where you've got potentially a separate vnf manager those would be cases like a mobile gateway or an IMS and in that case they may need each their individual dedicated vnf managers or that may end up being a plugin from the n feo that depends on the use case and either way you end up launching launching vnfs and configuring them that results in OpenStack deploying a VM many VMs a network many networks lots of lots of complex configuration and one of the key use cases for nfe is you want to be able to take all of your vnfs I deploy them in a relatively generic fashion and say hook them together in in various different different flows and DOJ's going to talk more about that a little bit later on but say that allows for simpler templates on the vnf side and a more composability as far as the as far as the configuration goes and then obviously you do need to be able to connect that out into the broader network and one of the things that say is critical from a configuration perspective is you you want to make that as programmable as everything else because you've got lots of different VR FS out in your broader network you've got the internet and you want to be able to hook those those pieces together in a logical fashion and then you want to be able to scale out to multiple multiple vnfs in that service jane so what do you need from a an SDN for service chaining like I said previously you need robust networking you need to be able to scale to potentially very large numbers of vnfs today those numbers are in the hundreds thousands but the modelling that say the architects who are building this stuff are doing are showing that you're you're looking at a tens of thousands especially as you move to vnfs with more micro service style architectures you end up breaking that out into smaller and smaller components and there are more and more of them you obviously need high performance and throughput and you need a small packet size capabilities and to do that the tools we have today are a networking a based on either DP DK or SR IO V and that depends on the vnf and you do want to be able to may cover off both of those now from a chaining perspective there are a bunch of different ways to attach things together I you can deploy your vnfs or your vnf components and they do hop-by-hop inspection as each packet goes in and out of the vnf i look at the packet header i do the inspection and tell it where to go the next time and generally you would aggregate that up into flows so that you're not doing that as much of a lookup each time you can also approach this from a roading perspective and deploy each each vnf in a separate vrf and connect them together with with roading i that means you're deploying an awful lot of brf's in your data center but it means that say as long as you don't need packets with the same destination to go through different service chains that can be a simpler a simpler topology and the holy grail of all of this is service function chaining using nsh and i'm not going to get into what nsh is or or how it works it's a way of putting an additional header on your packet that is used by by the SDN to a steer traffic without having to do all of the lookups each time and there are many many drafts in IETF talking about all sorts of different things you can do with nsh I I think in the near term what you're going to see is a bunch of things using steering proxy information going to going to vnfs is is going to take more time to standard but that's what that's my take but the from a functionality perspective you need to be able to I take all of this abstracted away make it easy and provide the support that that the NFS need so you know handing it over to AJ he's going to talk in more detail about a NFB o for service chaining and how that I ties into configuring service chains in the in the Sdn layer thanks Cort can you hear me hi I'm a Jake open I am declawed Binaca just got introduced me so now with the basics of Sdn behind what Scott has said n feo is basically we are using any few for provisioning networks and also to basically to do the service training is one of use cases simplify provisioning using service chain templates and vnf scaling in the process in a few meters function virtualization Orchestrator we have a product in nokia which is called as cloud benito director and that's basically use this lot of OpenStack components like mr. Alvarado and heat and with the combination of these components and I know watch we are able to say do a service orchestration and also do the Sdn configuration by an watch so the next few slides I will take the modeling how do you model network services in cloud Metro director and then little animation on how basically we will and realize when Sdn use case using the watch okay so network service descriptor is basically the language which the cloud network dari see the cloud mental director understands so it's it's a collection of virtual network functions which are interlinked together to form a a graph and in HC world this needs to be modeled and and in CB and D which is club intro director we have gone in for Tosca as the modeling language Tosca is basically domain-specific language which is chosen for for NSD and it has it's a series of say it has a hierarchical look on services and templates in relationships so network service descriptor is modeled as a service template and this service template is comprised of different node templates and relationship templates so every virtual hook function of E and F is modeled as a node template and between the BNF there are relationships that have established and those are primarily modeled as the westin templates in Tosca you can have node types defined custom node types and so that custom custom attributes and properties can be extended from a best node type so there are no types which which are done for for vnf switch you want to have proprietary extensions to that and Tosca is primarily say decoupled from the underlying VN FM in any fear it's a modeling language which is decoupled from the NFA and V n FM and you can attach policy in process and do advanced and same operations if the skies use basically you can generate an entity graph out of photos car model and execute the entity graph which will which will basically provide the LCM of the entire network service LCM basically lifecycle management and it's open and driven by the community so in Nokia we have contributed back to the community as well so Tusker is basically one of the DSL which is used in in coordinator director yeah so we document Tosca in humble format so it's easy to read human readable format which is which is used to document Tosca and the abuse tossed simple profile for NFV photo square and extended it to define a node or node templates and relational templates and the virtual links and some of the Etsy are constructed like the virtual links connection points vnf forwarding graphs and network physician forwarding paths are modeled in Tosca is note templates okay this is what this is one one picture which basically shows we have the physical network functions on the right hand on the right and the left side of the picture which are basically having say three both virtual network functions vnf a B and C and the little boxes circles blue circles were there which are basically the connection points which represent in two interfaces of the virtual network function and between between the BNF and the connection points the the the brown link which goes there which is called the virtual link so these are terminology terminologies which are used in at C virtual link is basically a logical connection between one or more dns and they represent basically a VLAN or VX plan when it's realized when you instantiate a network so I didn't realize it connection point is an interface on a vnf pmf which connects to the virtual link and it can be realized as a vport vinik or a physical port and vienna forwarding graph defines traffic flows between the between the BNF in a network service so the dotted lines which are there it basically form a network function path and it which part of a vnf forwarding graph and now I will take you to a through a small animation on the use case so here we have different elements of Etsy the n feo which is clawed by neutral director the SDN manager which is no atch the VN FM and then so basically when you want to deploy network service when operated talk deploy and network service then hook service is evaluated the data center is identified on which the network service has to be deployed and opposite data center basically and the tenants for the BNF the vnf placement where where to place the V enough based on the beam of characteristics is identified and the external connection points will be in if an NST are evaluated whether they def it to be deployed in a particular data center this is done by Dennie few sorry ok then invoke the SDN manager so once the once the initial validations are done the external virtual links which I showed before in the previous slide the links between the two vnfs needs to be realized and those external virtual links are basically realized using the Sdn manager in this case and watch so n feo makes no much call and create these virtual links then there's deal manager based in the data center network topology information decides to create reuse a tenant or edge router using the rest in a steam controller interface so it can be done by a neutron and it can also be done by new watch so for service tuning use case we do buy buy buy a new watch and for normal network creation it is done by a neutron then connect any edge router to a data center so the edge router is committed to the data center edge router as needed then create virtual links Ilan and connect to attend edge router so the virtual links are created and these are committed to the edge gateway of the edge router over here once the external virtual links are created then the then the network NSE Orchestrator is notified so that it can update its own internal database about this about the external connection external links and this is what I'm saying so once the external links are virtual links are in place then the deployment of the vnf starts so in a few hours later we'll call the relevant we enough managers to and pass to pass the beam of details to be instantiated along with the external virtual links so there's vnf manager can use this virtual links to establish connectivity between the VNS and then now we move on to the vnf manager which evaluates the VNA descriptor we arab descriptor is like an intercept descriptor a metadata for vnf it identifies the vm vm needs the internal connection points and internal networks so it identifies this des needs and then invokes the vm api so in case in this case OpenStack api's are invoked to say create a server and then create the virtual link some virtual links between the native bns then the vnf is basically a collection of VMs and you need internal connections between the VM this the the to create internal links between the virtual machine responsibility of the VLF manager and vnf manager does it creates virtual links between the VM physically and and then create external connection points and connect external connection points text in virtual link so once the inter links are created the the external connection points of V and fr are connected using the external virtual link which is passed from the orchestrator towards the vnf manager ok and notify Nitto nfu about the blood Vienna so the last step so the bookkeeping can be done on the on the orchestrator site yeah then the orchestrator basically updates his internal internal database about the virtual links in the state of the network service and also can notify the umbrella applications on top of it so the so here I here I've shown an example of open check data center which is used to simulate the entire network service okay so with that I will take you through a very small animation on how how we are using naväge now and neutron together to to achieve the service chain mmm so we have cloud minute of director which which which receives what you say a network service descriptor has a Tosca model and the virtual links connection points the virtual vnf of G are all modeled in Tosca then we have an open store in the OpenStack as an email to plug in neutron V vs D is plugged in and as scott told for some advanced use case let's service training we we basically create the the networks and the subnet in the in nevada using the theist the VSP api's and once the once basically the the network in subnets are created in the in watch then they are a map to the neutron network so they are mapped and we use the the rest api is provided by Neutron and also the also new ones to basically map these subnets to the to the newest subnets and after all is this is done this the basic plumbing work of interconnecting the vnf sees is over that means if there are network service if there are multiple vnfs the the interconnection between the VNS has been done now the next step is to do a service training one on them and in order to do service training in noaj there is dara need to create forward and reduction policy / BNF our connection point in virtual link these for it for forwarding and detection policies are created using the again the new watch VSD api's and once they are done then the basically the service chain between the vnfs that is will be basically be established so this is a small animation of how we try to achieve service chaining you signal watch it Neutron and what do you bring sorry for this okay so that was one brief animation on how we use Neutron in the in the new extensions in the last light basically is on and this is the service chain what we achieve so ultimately there are chain of VN EPS and the data show the how the packet flows and whenever whenever a packet is destined for a foreign destination then the nuage intercepts the package applies forwarding policy on that and and then routes it via the by the different VN apps so conclusion OpenStack is announced by n FeO and Sdn solutions so we use OpenStack for R as in API layer and use basically don't watch it as an email to plug in for OpenStack to achieve our Sdn solutions cloud CBL D which is cloud Bindra director is a in if you are cast ater which are castes network service it basically deploys vnfs using the underlying BNF manager it uses SD s DN from watch and also Neutron to realize the external and internal internal networking and establish the entrant compute e and new odds VSP provides an SDN for in a fee and it's and it's already proved in the market so that's any questions on this thank you for modeling good behavior and coming to coming to the mic nokey presenting different solutions in different places I still know keep presenting gay will go with tacker one place nokia presenting saying that they will follow open-source manner where the core is juju now we have this claude band director reminding Red Hat director so which one is it really going to be realistic thank you so a good question from Ericsson thank you and my aunt my answer to that is just as with anywhere else in the NFP space there are lots of different people doing lots of different things and I would I would hesitate to predict the future so they I and say if I think if you look at any vendor in the NFB space there is there is no one consistent answer there are there are many answers for many different use cases and until they I don't think we're gonna see convergence in nfe anytime anytime soon there's going to be lots of different things happening in the call flow at what point do you actually provision the vnfs themselves or is that out of scope of the yeah see really in the call flow when when we basically create the external virtual links using the Sdn controller is when we start deploying the VNS and calling the right Albert vnf managers because the Vienna the vnfs will need external connection HTML virtual links to establish into in continuity so after the the external virtual links are provisioned into the system and then is when the deployment of the vnf starts yes so and if your caterer is basically carbonated director is basically talk and talk to multiple vnf managers from different vendors it's multi vendor and multi vendor and the HC specifies an interface between the orchestrator and the vnf manager which is called ORV nfm interface and there are set of API is on which you can deploy a B and I have terminate heal or do whatever so that both that's what we basically rely on in order to deploy DNA and Nokia supplies some of those and we partner with with people to supply others but again the the ecosystem is quite diverse at this point it's also a question about your workflow medicine is you use a template to define the interface and the connections in between them so my question is about the templates itself do you provide a tool to actually generate a template so it's actually a menu process so we we follow Toscana to model the templates there is we are in the process of building a task editor wherein you can basically build this build this network service descriptors using the tour scale it is a drag-and-drop and which can generate a Tosca template as an output right now it is handwritten how do you handle the failover and monitoring of the BNF and the service chains so what two things I well there's two pieces of this one is at the STM layer monitoring that vnfs are alive and that I and then taking action at the at the network layer but then there's also cases where it may look alive from a network perspective and not be so that becomes the responsibility of the BNF manager any other questions platform aware let's say I want for a nipple service a DB TK enabled note is your platform has the capability to talk to the nose to find out which basically do you have the intelligence to to do the placement so that becomes a question more for more for Nova I and they it's a it's a question of availability zones in Nova to to group things so that's that's a place where OpenStack actually gives you give gives you the tools to to construct your your compute resources and group them separately yeah and destroyed an Orchestrator we have we have a policy driven approach to place the VNS so you can basically define policies and in that policies you can have different rules defined based on vnf characterstic like cpu pinning whatever and based on that the DNA placement distance are taken policies shielding in the inside the indicator it's in the orchestrate and this makes no yeah all right thank you all very much 