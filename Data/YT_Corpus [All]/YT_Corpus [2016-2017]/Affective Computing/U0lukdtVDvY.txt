 hi my name is Alan campopiano I'm an EEG technician at the Brock University cognitive and affective neuroscience lab I've written a statistical software program called stats lab which performs the percentile bootstrap test using trim means on EEG data in this video I'm going to give you a brief walkthrough of stats lab okay so under the YouTube video you'll see a number of links one link is to the stats lab wiki which gives some more information on the tool box as well as a literature review on percentile bootstrap and trim means and why we might prefer those methods over conventional statistical approaches like t-tests f desk Pearson R and so on and so forth so have a look there's also a wiki to the stats lab software itself so just click the download zip button there to get the software you'll also need to download EEG lab I've left a link there for you and there's also a Google Drive link under the video for the tutorial data so you can follow along with exactly what I'm doing so let's get started I'm inside of while I'm in MATLAB and I'm inside of the stats lab tutorial data I've set my path to that folder and everything underneath it you will see three folders each one of those represents an analysis that we want to use stats lab for I've also created a fourth folder which contains my dependencies so it contains stats lab as well as EEG lab so to begin let's go inside of scalp fcz so this is the folder where we're going to conduct a simple analysis using scalp data at fcz and you'll see a number of data files in here and a couple of other files that you don't have to worry about so the data files are the dot set and dot f dt files there are there are data files for three subjects in two conditions and the two conditions or go and go and no-go okay so to get started just type in stats lab this brings up the main stats lab GUI and stats lab is arranged in modules so the first module is extract data second is resample data group statistics subject statistics group figure subject figure and then a couple of correlation modules which we're not going to worry about the modules are meant to be run sequentially so in this first module extract data we're going to extract the appropriate data from the set files that are sitting in our current directory and the idea with this GUI is that you just want to fill in all of these fields with the appropriate statistical parameters or the information relevant to your design or your analysis so let's begin and i'm just going to fly through here so one of the nice things about stats lab is that if you want to know what stats lab is expecting you to write in these fields all you have to do is click on the field and read below so this is looking for condition names so hit these hit the side of the field there to bring up this little box and we're going to put our conditionings and go no-go and let's keep filling this out condition files this one you can leave empty and matlab will bring up a window for us to manually select condition files levels so in this case this is denoted levels denotes each factor in your design the levels for each factor in your design so if we had a 2 by 2 we would just say to space 2 or 2 space 3 if we had a 2 by 3 but we have it to basically in this this is just sort of like a paired t-tests example we have two conditions so it's not factorial so to design you can read the documentation we have a one-factor design that's fully within subjects and a save string is a unique identifier a word or a phrase that helps you identify your analysis so in this case we could just call it go it doesn't matter to me call whatever you want as long as it makes sense to you go no go scalp fcz for example great varargin stands for variable argument in and it controls all of the optional inputs so there's a lot of them and I obviously I can't go through all of them but i'm going to show you the most basic set of optional inputs for extract data so we want some kind of measure which measure scalp chan so far again values are always entered in word pairs measure goes with scalp Chan chance which channels do we want you could specify channels like this if you wanted to separated by a space or F cz cz something like that you can also give it keywords like per subject which will allow you to graphically select channels on a per subject basis and that's all we have to do and you can read the documentation to see what other options stats lab has to offer there there's lots ok so that's good and this module is completely filled out so you can click this button here which which means that after you click ok it will actually run extract data and that's fine you can run each module separately if you want but to speed things up I'm just going to continue to fill out the rest of these fields and as a matter of fact whenever you whenever you start filling out these fields and you've you're happy with how it's filled out you can actually save the fields so I could save everything I've done say I want to save it with the filename my params then the next time i open up stats lab i can just load those parameters and everything will be populated again and I won't have to write all of this out again now I'm actually going to load a parameter file that I've made ahead of time just to save some time here and everything's all filled out so this is really how you should use stats lab is fill out everything once click all the run boxes and then click OK so we're good with extract data that looks great click the run box and I'll explain very quickly the rest of the modules then we'll run it and we'll get to see some visualizations of our data resample data is what is where the bootstrapping surrogates are constructed con files again we can leave that empty and pick files manually number of bootstrap samples or and boot this should be a high number like 1000 or 5000 but I'm going to leave it as 50 for the sake of the demo trim this is referring to the trimmed mean the percentage of values that you want to trim from each tail of the distribution you can read the documentation or the wiki or just google trim mean if you want to learn more about how that works VAR again are the optional inputs again and in this case I'm going to leave it as trial cap none don't worry about what that means you can read the documentation to find out more and that resample module is done so I'm going to click the run box now let's move on to group statistics as usual we can leave cond files or condition files empty and will will manually be prompted to load those files alpha that's self-explanatory and here we are the optional inputs family-wise error fwe stats lab has a number of options for controlling for family-wise error in this case I've chosen not to control for framing the wise error so fwe none and then con a with its pair sorry with its with its value here just controls exactly which conditions you're comparing so con a stands for contrast for factor a this is not a factorial design so we only have one factor so we call it a factor a or contrast a and this is a contrast matrix or a set of contrast coefficients which again tell stats lab which conditions do we want to compare in this case again we only have two conditions so we're going to we're going to actually compare go to know go or go go minus go and these contrasts coefficients can get a lot more complicated whenever we have a factorial design and we'll get to that example later but for now this is sort of the easiest the most simple way to set up a contrast contrast coefficients so that looks great run group statistics yes we'll check that box and then we can come down here and all of these for the single subject statistics are all filled out perfectly they don't need to change at all we'll click this run box and now we're at the figure modules okay you don't have to worry about info display but let's get to VAR r again all means that i want to plot all figures i want to plot a figure for each contrast that i've specified in the contrast matrix but we only have one contrast so all really just means plot the one figure time plot this is the x-axis range that we want to plot so we want to plot from negative 200 milliseconds to 600 and top owes with its value this means that we would like to look at topographies and we have to give a channel locations file to do that to produce the the right to fog raphy files so that looks great let's click that run box and then eventually we'll be able to see a group figure and then we'll open up stats lab again and I'll show you how to look at the single subject figure so you can see what happens when we have to load it up again okay this all looks good so normally of course having filled all these out then you would save them all I've already got mine safe so I'm not going to bother doing that so let's run ok so we're inside of extract data module and it's asking for go condition files go go go no go no go no go and you can read the top of the windows the little always tell you what to do okay this GUI comes up because we specify that we wanted to pick channels on a per subject basis so in stats lab you can just click on the channels that you want to do statistics on or click them again if if you change your mind if I wanted to do statistics on a 11 I can click a 11 and say apply that to all the subjects when you do that stats lab checks for internal consistency to make sure that all the subjects have those channels if it detects that some someone doesn't have that channel it will give you a warning will say review subject by condition index to one so let's go there and see what's going on second condition in the first second subject in the first condition enter and we see that that person does not have a 11 so this is not going to work we're not actually interested in a 11 we want something around fcz so let's pick c12 say apply to all it does and you can see in the command line that there are there's no warnings so that's awesome so let's hit OK and it will run extract data so now it's taking c12 out of all of those set files now we're in the second module resample data and it's asking us to select all of the files that we wish to bootstrap so all of the output files will have underscore extracted appended to them and that's those are the files that were the output from extract data and now they're the input to resample data so there we go that looks good so now its bootstrapping and now it's done boo scrapping now we're in the group statistics module and it's going to ask us to pick the files for each condition so pick the files in the bootstrap files in the go condition so go bootstrapped go bootstrapped go bootstrapped pick the bootstrap files in the no-go condition no go bootstrap novo bootstrap no go bootstrap now it's doing singles us so it's completed the group statistics now we're into the single subject statistics module and we'll do the same thing go bootstrap go bootstrap go bootstrapped no go bootstrap novo bootstrap novo bootstrap and now it's doing the single subject statistics there's only three subjects so it doesn't take too long now it's computing topographies and now it just plotted the group figure so we have read go blue no go it's red minus blue or go minus no go and in the bottom section we see the difference wave with the confidence interval at any latency you can click to get back the topographies at that time and that's pretty cool and there we go that is how you go all the way through stats lab with the basic analysis to plot and group a group figure let's go back into it though and plot the single subject figure I'll load my parameters as I said you don't obviously you wouldn't want to type all of that in again so let's just load the parameters go down to subject figure and we'll click this run box I'll explain the options we want to plot all of the fingers in our design or all the we want to make a figure for all of the contrasts in our design which plot kind of which kind of plot do we want to make their ourselves or off several options which you can read about let's pick the simplest one which is just a difference wave will use the same time plot and this time we'll say top owes no because we already computed top pose so you only need to do that once you'll see what I mean so let's run it and now we get data a difference way for each subject so go- go- no go for each subject and again you can click on any latency and get topographies so i'm going to put one subject three so on and so forth okay so that's one full analysis just using a scalp channel ok now let's step it up one notch and we will do basically the same analysis but will actually extract independent components from the data okay so let's go into ica fcz and call up stats lab load the parameter file that i have in there most of this is exactly the same as the last set of parameters that we used except that the saved string of course is different because we want to make it something unique and there are some different options which of course specify that we want to extract independent components and project them to a particular channel so instead of measure scalp Chan we have measure i see a scalp ok and then which ICS we want to pick them per subject and which chance again we want to pick per subject ok so we can run that that's good resample data will keep that exactly the same group statistics exactly the same subject statistics same group figure same and we'll run that just we'll just take it right up to the group figure okay and then we won of course click these check boxes so that it actually runs those modules and I think I have all of the ones i want for right now so let's hit ok and see what happens ok so go conditions that file go sorry go go go no go no go no go this GUI you haven't seen yet this GUI just allows you to put the indices for the ICS or the independent components that you want to extract for each subject I know these numbers because I've explored my data in EEG lab and so having explored it i know which i sees want to use for each subject of course you can save this array so that if you ever have to do this module again you don't have to type these numbers in but everything looks good so I'll click OK hears a familiar GUI again it's asking basically at this point which channel do you want to project these I ceased to let's go see 13 again or I think it was actually see 12 will say applied to all look into the command window and there's no warning so everybody has that channel will click OK and it will start to take the set files and reduce the data to those independent components and then project them back to that channel and now we have some extracted channels so select the files you wish to bootstrap everything with underscore extracted those are the files that we want whenever you run extract data on independent components like we just did stats lab will also give you these Reds extracted files which are there residuals which you probably would want to do statistics on the residuals as well but for the sake of the demo let's just use the ic's of interest so here we have all of our files let's bootstrap those beautiful so we're done bootstrapping now we're at the group statistics module go bootstrapped go boots boobs go bootstrapped go bootstrapped go bootstrapped okay no go bootstrapped novo bootstrapped novo bootstrap now obviously you have to be very careful which files are selecting which files are going to end up in the statistics but stats lab saves all of the things that you're doing so it saves all of these file names so you can always go back as a sanity check and double double check that you actually selected the files that you wanted to select ok so open ok so now it just finished doing the group statistics so that's great now we're in the subject statistics module and we'll do the same thing go bootstrapped go bootstrapped go bootstrapped and no go bootstrapped no go bootstrapped no glow bootstrapped ok now it's running the single subject statistics now it's calculating topographies and now it's plotted the group figure again we have our condition waveforms are difference wave with a confidence interval and we can plot topographies at any latency great so one last thing let's look at an interesting visualization of the single subject data as well and the load my parameters file and then go down to subject figure and run just this module only this time instead of choosing the wave plot type I'm going to actually choose something that's pretty fun see I'm 0 which stands for confidence interval margin of error ok and then there's a couple of other pairs of options that control how all of the axes look ok and you can read about that in the documentation ok and again top o is no because we already did it once ok so I think that's good let's run it awesome so this is a CI mo or confidence interval margin of error plot where the color bar here represents the mean difference between go and no-go for each subject okay so around here where my mouse is the difference is about zero but you can see it goes up on the y-axis to about one and all of that means is that the confidence interval or the differ the range of values around this difference of zero can can range from plus or minus 1 micro volt okay so let me say that again you have a difference of about zero and that difference can fluctuate from about plus or minus 1 micro volt okay and likewise if we if we went up here towards the middle where there's a larger effect okay let's say that that's around two micro volts okay to micro volts plus or minus about another two micro volts because it's at the level of two on the y-axis so this just gives you some visualization of the confidence interval okay and the reason I have this and there's there's a number of visualizations you can you can use for single subjects is because if you have say 30 subjects in your study plotting it with the wave option like we did before that is not it's not very clear when you have that many subjects it's the waves you know you can't see the effects quite as clear so this is a good alternative to that and there are others and these black lines here are just a p-value so they show whether or not there's a statistical effect at alpha and of course you can click on these to get the topographies just like before okay great so that's two-thirds of the tutorial done let's go to the very last analysis the ICA ers PFC ZD factorial analysis and we'll step it up one more notch so one of the differences here so the goal here for this analysis is we want to use ICA just like we did in the previous analysis but now we want to actually calculate a time-frequency measure one calculate event-related spectral perturbation we want to project those ICS to fcz and this is a factorial design so a few things about how we set up the stats let main GUI the main stats lab gy a few things will be different and i'll go through that one thing you need to know about the data files themselves is again we have three subjects but now we have four conditions because it's factorial we actually have go no go sleepy and go no go alert okay so let me show you I'll bring up stats lab and of course I've already made a parameters file just to save some time so let's load the parameters okay now you can see one of the things that's changed for this analysis is the condition labels so I've just given them the labels go alert no go alert go sleepy no go sleepy so this is a factorial design and we'll leave con files empty this is a two by two designs so we have two factors in the H have two levels this is a ww which means it's two factors and each factor is within subjects I've given it a new appropriate save string okay and there of course are some other options that we need to specify so measure what which measure I CAE RSP chance which chance let's go / subject again and ICS which i sees let's go i sees per subject so that one's ready to go nothing about resample data needs to change but of course once you get to the optional inputs for group statistics you'll see that things are a little bit different so family-wise error i'm just going to specify none again but now you have more complicated contrast two matrices so for factor a contrast a we would like to compare condition 12 condition 3 and then the delimited with the semicolon the next contrast for that factor is we would like to compare conditions to to condition for so for factor a we're specifying that we want to make two comparisons we would like to compare condition 1 2 condition three so that's go away compared to go sleepy and the second contrast is no go alert compared to know go sleepy then we also have comparisons for factor B so here we want to compare conditions 12 condition 12 condition too and the second contrast for that factor is comparing condition 32 condition for finally we have the interaction contrast coefficients which are one negative one negative one one that basically amounts to the difference of the differences and i'll let you research contrast coefficients if you want to learn more about that so that's how that works everything everything's good with that and the same exact setup for single subject statistics and we can run that and let's just go group figure and what we'll just run the group figure for now okay and let's go for it i think everything looks good okay so select files in the go alert condition okay go alert go alert go alert select files in the no-go alert condition no go alert no goal or no go alert select files in the go sleepy condition go sleepy go sleepy go sleepy and select files in the no go sleepy condition no go sleepy now go sleepy no go sleepy here's the independent components GUI again where we can put the indices for the ICS that we would like I'll just add them in here quickly okay good of course here is the channel picker again we know c 12 s pretty good option apply to all there is no there's no warning so that's good everybody has that channel let's go okay and now it's taking c12 out because we're going to what because later we want to calculate ers p on it so we have to wait for this to finish it's done now we're into the resampling section and we will pick all of the underscore extracted files keep in mind that all of all of these little windows that come up to ask us to select files this only ever has to be done once if you ever have to run the module again all of that information is saved and so you don't have to do it again okay those are the files want a bootstrap okay so now this is going to take a couple of minutes and i'm just going to wait for it well yeah i should also mention that for any of the time-frequency measures there are some there are some other optional inputs that can control how the time-frequency decomposition is calculated like which frequency bands you want to look at and so on and so forth that's all in a documentation the reason why I didn't specify any of those is because I didn't need to because there's some default options that stats lab uses which which I know work in this case and I like them as a general rule so you can read the documentation about that if you want more control over the time-frequency decomposition so i'm just going to wait now okay so we have finished resampling and now we're in the group statistics module so what does it want bootstrap files and then go alert condition okay go alert go alert go alert think I got them all and now it wants the boots crap files in the no-go alert no go alert no go alert no go alert good go sleepy go sleepy go sleepy go sleepy and finally no go sleepy no go sleepy novo sleepy so now it's calculating statistics at the group level but of course it has to do the bootstrap statistics on all of the frequency bands from 330 so that's why it's out of 27 there at the top bar so I'll just wait for this to finish great so statistics at the group level is finished now we're at the single subject level will do the same thing so go alert go alert go alert no go alert no go alert no go alert mostly be ghostly be go sleepy and no go sleepy no ghostly be no go sleepy okay so now it's calculating the bootstrap statistics on the time-frequency decompositions but it's doing that for each subject so one out of three courses only three subjects great so they finished calculating single-subject statistics and now it has plotted the group level figures and let me arrange these for you and explain what you're looking at ok we specified five contrasts in total to four factor a 24 factor B plus the interaction so at the top you have the to factor a contrasts and at the bottom you have the two factor B contrasts and then here on the side you have the interaction let me explain what you're looking at over here in the top left basically we have the ER SP event-related spectral perturbation for frequencies 32 30 across time for the go alert condition and then in the second panel we have the go sleepy condition and then the third panel we have the difference between the two of those conditions and then in the last panel anything that's black is a p-value is a statistically significant p value at alpha okay and we have that for all of the different contrasts that we made so there's not there's no significant no statistical differences in that for that particular contrast and we go here we're now comparing no-go alert to know go sleepy so we see some alpha mostly alpha ers p of x okay and then we can go to the third one we have go alert- no-go alert again we have a pretty large effect that's alpha and beyond and finally well second to last we have go sleepy versus no go sleepy okay and then we have an effect that seems a little bit well doesn't have a broad of a spectral spread as the the previous figure so so that's what's going on with those figures and then we finally have the interaction where again you have the the frequencies on the y-axis the same same time scale on the x-axis and instead of showing condition waveforms we just show the difference so this plot that you're looking at here for the interaction this is the difference of the differences ok so it's go alarm ina snowgo alert- go sleepy minus no go sleepy the difference of the differences that's basically what the interaction is ok now the little Easter Egg for these figures is that if you would like to see the confidence interval information for any frequency band you can simply click on the difference panel so here I'm at go sleepy minus no go sleepy and you can click on that and actually get an interval for whichever frequency band you're clicking on so in this case my mouse clicked at about six Hertz and here's a confidence interval around the difference for for that frequency band and you can see the condition labels up here and the frequency and you can do that for for anything you want and always get confidence intervals okay so there you go now we're almost done the last thing to do is to do the spectral plots but at the single subject level so let me load the parameters again I think this is it will go down to subject figure and now we'll plot a subject figure and we'll see what that looks like okay good so it's very similar to what i showed you before only this time the p-value panel looks a little bit different okay all of the rest of the panels the top three panels for each of the figure windows are exactly the same as what they were at the group level in fact it's group data but the p-value areas they show something different rather than showing significant p-values they show a proportion of subjects at that frequency at that time who had a significant effect so for example read the we only have three subjects so red is two-thirds of the subjects yellow is one subject white is no subjects and black which you see down here are all three subjects so if you see black it means add edit at that frequency and at that time all three subjects had a significant difference between those two conditions okay so this is this is quite interesting and of course again the little easter egg is if you click on the difference waves now you can actually verify that so i'm clicking here at about five Hertz and indeed you can see that two out of the three subjects had a significant difference at that frequency across time okay so that's pretty cool and if you were to click on so there's there's a an effect here that seems to be shared by all three subjects let's click on this difference wave up here and indeed all three subjects we can see their confidence interval across time at five Hertz and we can see the effect okay but if I were to click let's say I don't know like here you can see no subjects are showing a significant difference so that's consistent and basically this is just to give you some idea of what's going on underneath the group data right because sometimes a group data can be a little bit misleading you don't know what's making up the group data all the time so this gives you a deeper look at the data alright that is everything so thank you for following along if you have any questions or comments feel free to write me a note on the YouTube video or get into contact with me any way you can and I'd be happy to help out if you're interested in using the tool box thank you very much 